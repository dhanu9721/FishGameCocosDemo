System.register("chunks:///_virtual/audioManager.ts",["cc","./PlayerDataModel.ts"],(function(o){var n,a,d,i,e;return{setters:[function(o){n=o.cclegacy,a=o._decorator,d=o.AudioSource,i=o.assetManager},function(o){e=o.PlayerDataModel}],execute:function(){n._RF.push({},"5bcc4SjN9hAAr0pZQbHXSks","audioManager",void 0);a.ccclass,a.property;var u=o("SoundPreference",function(o){return o[o.Bg=0]="Bg",o[o.Feature=1]="Feature",o[o.Click=2]="Click",o}({}));window.audioManager={},window.audioManager.soundNode=new d,window.audioManager.musicNode=new d,window.audioManager.bonusTransitionSound=new d,window.audioManager.backgroundSoundNode=new d,window.audioManager.btnClickSoundNode=new d,window.audioManager.pokerClickSoundNode=new d,window.audioManager.videoPokerClick=new d,window.audioManager.videoPokerBannerClip=new d,window.audioManager.playMultipleTimes=new d,window.audioManager.bonusBackgroundSoundNode=new d,window.audioManager.FishDestroySoundNode=new d,window.audioManager.featuresSoundNode=new d,window.audioManager.PayLineSoundNode=new d,window.audioManager.featuresBannerSoundNode=new d,window.audioManager.AnticipationSoundNode=new d,window.audioManager.LobbyUISoundNode=new d,window.audioManager.playAndPauseSound=new d,window.audioManager.soundVolume=1,window.audioManager.musicVolume=1,window.audioManager.backgroundSoundVolume=.2,window.audioManager.bonusBackgroundSoundVolume=.8,window.audioManager.bannerSoundVolume=1,window.audioManager.LobbyUISoundVolume=1,window.audioManager.clickSoundVolume=1,window.audioManager.AnticipationSoundVolume=1,window.audioManager.featureSoundVolume=1,window.audioManager.isSoundOn=!0,window.audioManager.isMusicOn=!0,window.audioManager.currentSoundPreference,window.audioManager.interval,window.audioManager.playSound=function(o){},window.audioManager.playLobbyUISound=function(o){if((null!=o||""!=o)&&window.audioManager.isSoundOn){var n=window.audioManager.loadResMusicIndix(o);window.audioManager.loadResMusic(n,(function(o){o&&(window.audioManager.LobbyUISoundNode&&window.audioManager.LobbyUISoundNode.stop(),window.audioManager.LobbyUISoundNode.playOneShot(o,window.audioManager.soundVolume))}))}},window.audioManager.checkDuckingEffect=function(o,n,a){void 0===n&&(n=null),window.audioManager.currentSoundPreference=o;var d=null!=n?n:window.audioManager.musicVolume;window.audioManager.musicVolume<d&&(d=window.audioManager.musicVolume),!1!==window.audioManager.isMusicOn&&(clearTimeout(window.audioManager.interval),o===u.Bg?window.audioManager.backgroundSoundVolume<d&&e.BGVolume>0?(window.audioManager.backgroundSoundVolume+=.1,window.audioManager.backgroundSoundNode.setVolume(window.audioManager.backgroundSoundVolume),window.audioManager.interval=setTimeout((function(){window.audioManager.checkDuckingEffect(window.audioManager.currentSoundPreference)}),300)):clearTimeout(window.audioManager.interval):o===u.Feature&&(window.audioManager.backgroundSoundVolume>e.BGVolume?(window.audioManager.backgroundSoundVolume-=.1,window.audioManager.backgroundSoundVolume<.1&&(window.audioManager.backgroundSoundVolume=e.BGVolume),window.audioManager.backgroundSoundNode.setVolume(window.audioManager.backgroundSoundVolume),window.audioManager.interval=setTimeout((function(){window.audioManager.checkDuckingEffect(u.Feature)}),200)):clearTimeout(window.audioManager.interval)))},window.audioManager.maxMinBg=function(){},window.audioManager.playBgSound=function(o){null==o&&""==o||window.audioManager.isMusicOn&&(console.log("IsMusic On : ",window.audioManager.backgroundSoundVolume),window.audioManager.backgroundSoundNode&&window.audioManager.backgroundSoundNode.stop(),window.audioManager.backgroundSoundNode=o,window.audioManager.backgroundSoundNode.setLoop(!0),window.audioManager.backgroundSoundNode.setVolume(window.audioManager.backgroundSoundVolume),window.audioManager.backgroundSoundNode.play())},window.audioManager.playBonusBgSound=function(o){null==o&&""==o||(window.audioManager.bonusBackgroundSoundNode=o,window.audioManager.isMusicOn&&(window.audioManager.bonusBackgroundSoundNode=o,window.audioManager.bonusBackgroundSoundNode.setLoop(!0),window.audioManager.bonusBackgroundSoundNode.setVolume(window.audioManager.bonusBackgroundSoundVolume),window.audioManager.bonusBackgroundSoundNode.play(),console.log("background sound",window.audioManager.bonusBackgroundSoundVolume)))},window.audioManager.playBtnClickSound=function(o){null==o&&""==o||window.audioManager.isSoundOn&&(window.audioManager.btnClickSoundNode&&window.audioManager.btnClickSoundNode.stop(),window.audioManager.btnClickSoundNode=o,window.audioManager.btnClickSoundNode.setLoop(!1),window.audioManager.btnClickSoundNode.setVolume(window.audioManager.soundVolume),window.audioManager.btnClickSoundNode.play())},window.audioManager.videoPokerBTNSound=function(o){try{if(null!=o||""!=o)if(window.audioManager.isSoundOn)window.audioManager.videoPokerClick&&window.audioManager.videoPokerClick.stop(),console.log("Poker Click Sound : ",window.audioManager.videoPokerClick),window.audioManager.videoPokerClick=o,window.audioManager.videoPokerClick.setLoop(!1),window.audioManager.videoPokerClick.setVolume(window.audioManager.soundVolume),window.audioManager.videoPokerClick.play()}catch(o){console.log("Poker Click Error : ",o)}},window.audioManager.videoPokerBanner=function(o){null==o&&""==o||window.audioManager.isSoundOn&&(window.audioManager.videoPokerBannerClip=o,window.audioManager.videoPokerBannerClip.setLoop(!1),window.audioManager.videoPokerBannerClip.setVolume(window.audioManager.soundVolume),window.audioManager.videoPokerBannerClip.play())},window.audioManager.bounsTransition=function(o){null==o&&""==o||window.audioManager.isSoundOn&&(window.audioManager.bonusTransitionSound=o,window.audioManager.bonusTransitionSound.setLoop(!1),window.audioManager.bonusTransitionSound.setVolume(window.audioManager.soundVolume),window.audioManager.bonusTransitionSound.play())},window.audioManager.playMultipleSound=function(o){null==o&&""==o||window.audioManager.isSoundOn&&(window.audioManager.playMultipleTimes=o,window.audioManager.playMultipleTimes.setLoop(!1),window.audioManager.playMultipleTimes.setVolume(window.audioManager.soundVolume),window.audioManager.playMultipleTimes.play())},window.audioManager.stopMultipleSound=function(o){null==o&&""==o||(window.audioManager.playMultipleTimes=o,window.audioManager.playMultipleTimes.stop(),window.audioManager.playMultipleTimes.setVolume(window.audioManager.soundVolume))},window.audioManager.playFishDestroy=function(o){null==o&&""==o||window.audioManager.isSoundOn&&(window.audioManager.FishDestroySoundNode=o,window.audioManager.FishDestroySoundNode.setLoop(!1),window.audioManager.FishDestroySoundNode.setVolume(window.audioManager.soundVolume),window.audioManager.FishDestroySoundNode.play())},window.audioManager.pokerClick=function(o){try{if(null!=o||""!=o)if(window.audioManager.isSoundOn)window.audioManager.pokerClickSoundNode&&window.audioManager.pokerClickSoundNode.stop(),console.log("Poker Click Sound : ",window.audioManager.pokerClickSoundNode),window.audioManager.pokerClickSoundNode=o,window.audioManager.pokerClickSoundNode.setLoop(!1),window.audioManager.pokerClickSoundNode.setVolume(window.audioManager.soundVolume),window.audioManager.pokerClickSoundNode.play()}catch(o){console.log("Poker Click Error : ",o)}},window.audioManager.playFeatureSound=function(o,n){null==o&&""==o||window.audioManager.isSoundOn&&(window.audioManager.featuresSoundNode&&window.audioManager.featuresSoundNode.stop(),window.audioManager.featuresSoundNode=o,window.audioManager.featuresSoundNode.setLoop(n),window.audioManager.featuresSoundNode.setVolume(window.audioManager.soundVolume),window.audioManager.featuresSoundNode.play())},window.audioManager.playPayLineSound=function(o,n,a){null==o&&""==o||window.audioManager.isSoundOn&&(a>=e.SFXVolume&&(a=e.SFXVolume),window.audioManager.PayLineSoundNode&&window.audioManager.PayLineSoundNode.stop(),window.audioManager.PayLineSoundNode=o,window.audioManager.PayLineSoundNode.setLoop(n),window.audioManager.PayLineSoundNode.setVolume(a),window.audioManager.PayLineSoundNode.play())},window.audioManager.stopPayLineSound=function(){window.audioManager.PayLineSoundNode&&window.audioManager.PayLineSoundNode.stop()},window.audioManager.playBannerFeatureSound=function(o,n){null==o&&""==o||window.audioManager.isSoundOn&&(window.audioManager.featuresSoundNode&&window.audioManager.featuresSoundNode.stop(),window.audioManager.featuresSoundNode=o,window.audioManager.featuresSoundNode.setLoop(n),window.audioManager.featuresSoundNode.setVolume(window.audioManager.bannerSoundVolume),window.audioManager.featuresSoundNode.play())},window.audioManager.pokerBannerSound=function(o,n){try{if(null!=o||""!=o)if(window.audioManager.isSoundOn)window.audioManager.featuresBannerSoundNode&&window.audioManager.featuresBannerSoundNode.stop(),window.audioManager.featuresBannerSoundNode=o,window.audioManager.featuresBannerSoundNode.setLoop(n),window.audioManager.featuresBannerSoundNode.setVolume(window.audioManager.bannerSoundVolume),window.audioManager.featuresBannerSoundNode.play()}catch(o){console.log("Poker Banner Error : ",o)}},window.audioManager.fishClipSoundStop=function(o){window.audioManager.featuresSoundNode&&(window.audioManager.cliptype=o,window.audioManager.featuresSoundNode.stop(),window.audioManager.cliptype.stop())},window.audioManager.pokerClipSoundStop=function(o){window.audioManager.featuresSoundNode&&(window.audioManager.cliptype=o,window.audioManager.featuresSoundNode.stop(),window.audioManager.cliptype.stop())},window.audioManager.videoPokerClipSoundStop=function(o){window.audioManager.featuresSoundNode&&(window.audioManager.cliptype=o,window.audioManager.featuresSoundNode.stop(),window.audioManager.cliptype.stop())},window.audioManager.playFishLaserSound=function(o){null==o&&""==o||window.audioManager.isSoundOn&&(window.audioManager.featuresSoundNode=o,window.audioManager.featuresSoundNode.setLoop(!0),window.audioManager.featuresSoundNode.setVolume(window.audioManager.soundVolume),window.audioManager.featuresSoundNode.play())},window.audioManager.playAnticipationSound=function(o,n){null==o&&""==o||window.audioManager.isSoundOn&&(window.audioManager.AnticipationSoundNode&&window.audioManager.AnticipationSoundNode.stop(),window.audioManager.AnticipationSoundNode=o,window.audioManager.AnticipationSoundNode.setLoop(n),window.audioManager.AnticipationSoundNode.setVolume(window.audioManager.soundVolume),window.audioManager.AnticipationSoundNode.play())},window.audioManager.stopMusic=function(){console.log("Music Stop"),window.audioManager.backgroundSoundNode&&window.audioManager.backgroundSoundNode.pause(),window.audioManager.bonusBackgroundSoundNode&&window.audioManager.bonusBackgroundSoundNode.pause()},window.audioManager.stopSound=function(){window.audioManager.LobbyUISoundNode&&window.audioManager.LobbyUISoundNode.stop(),window.audioManager.btnClickSoundNode&&window.audioManager.btnClickSoundNode.stop(),window.audioManager.AnticipationSoundNode&&window.audioManager.AnticipationSoundNode.stop(),window.audioManager.featuresSoundNode&&window.audioManager.featuresSoundNode.stop(),window.audioManager.PayLineSoundNode&&window.audioManager.PayLineSoundNode.stop(),window.audioManager.featuresBannerSoundNode&&window.audioManager.featuresBannerSoundNode.stop(),window.audioManager.soundNode&&window.audioManager.soundNode.stop(),window.audioManager.musicNode&&window.audioManager.musicNode.stop(),window.audioManager.pokerClickSoundNode&&window.audioManager.pokerClickSoundNode.stop(),window.audioManager.FishDestroySoundNode&&window.audioManager.FishDestroySoundNode.stop(),window.audioManager.videoPokerClick&&window.audioManager.videoPokerClick.stop(),window.audioManager.videoPokerBannerClip&&window.audioManager.videoPokerBannerClip.stop(),window.audioManager.playMultipleTimes&&window.audioManager.playMultipleTimes.stop()},window.audioManager.resumeMusic=function(o){void 0===o&&(o=null),console.log("Music Play"),window.audioManager.backgroundSoundNode&&(window.audioManager.backgroundSoundVolume=0,window.audioManager.checkDuckingEffect(u.Bg,o),window.audioManager.backgroundSoundNode.play())},window.audioManager.stopBaseSound=function(){window.audioManager.backgroundSoundNode&&window.audioManager.backgroundSoundNode.pause(),window.audioManager.bonusBackgroundSoundNode&&window.audioManager.bonusBackgroundSoundNode.pause()},window.audioManager.playBaseSound=function(){},window.audioManager.enableSound=function(){},window.audioManager.enableMusic=function(){},window.audioManager.setSoundVolume=function(o){window.audioManager.soundVolume=o,null!==window.audioManager.LobbyUISoundNode.node&&window.audioManager.LobbyUISoundNode.setVolume(window.audioManager.soundVolume),null!==window.audioManager.btnClickSoundNode.node&&window.audioManager.btnClickSoundNode.setVolume(window.audioManager.soundVolume)},window.audioManager.setMusicVolume=function(o){window.audioManager.musicVolume=o;var n=window.audioManager.backgroundSoundNode,a=window.audioManager.bonusBackgroundSoundNode;window.audioManager.musicVolume<.8&&null!==n&&window.audioManager.backgroundSoundNode.setVolume(window.audioManager.musicVolume),window.audioManager.musicVolume<.8&&null!==a&&window.audioManager.backgroundSoundNode.setVolume(window.audioManager.musicVolume),null!==window.audioManager.AnticipationSoundNode.node&&window.audioManager.AnticipationSoundNode.setVolume(window.audioManager.musicVolume),null!==window.audioManager.featuresSoundNode.node&&window.audioManager.featuresSoundNode.setVolume(window.audioManager.musicVolume)},window.audioManager.SoundEffect=function(){},window.audioManager.playMusic=function(){},window.audioManager.loadResMusicIndix=function(o){return{PopUpOpen:{path:"audio/Lobby_SFX_Menu_1"},PopUpClose:{path:"audio/Lobby_SFX_Menu_2"},ClickSelect:{path:"audio/ClickSelect"},GameUi:{path:"audio/GameUi"},In_Game_UI_Click:{path:"audio/In_Game_UI_Click"},SFX_SettingMenu:{path:"audio/Lobby_SFX_SettingMenu"},LobbyBg:{path:"audio/Lobby_Bg"},Lobby_Ogg_mixdown:{path:"audio/Lobby_Ogg_mixdown"},Send_Msg:{path:"audio/UI_MessageReceived_2_MP3"},Recive_Msg:{path:"audio/UI_MessageReceived_1_MP3"},AUTOSPIN_END:{path:"audio/AutoSpin_CounterEnd_Notification"},Jackpot_Add:{path:"audio/Jackpot_Add"}}[o]},window.audioManager.loadResMusic=function(o,n){i.resources.load(o,(function(o,a){o||n&&n(a)}))},n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSlotWarningPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o,i,a,l,c,u,s,p,f,b,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,u=e.Label,s=e.Prefab,p=e.Node,f=e.Vec3,b=e.tween,g=e.Component}],execute:function(){var d,h,m,y,L,P,w,B,z,v,N,k,R,A,F,S,T;l._RF.push({},"cdb87GXHMNFd73rLUuKarRx","BaseSlotWarningPopUp",void 0);var E=c.ccclass,U=c.property,C=e("BALANCEENDTYPE",function(e){return e[e.ReduceBet=0]="ReduceBet",e[e.AddFund=1]="AddFund",e}({}));e("BaseSlotWarningPopUp",(d=E("BaseSlotWarningPopUp"),h=U(u),m=U(u),y=U(s),L=U(s),P=U(s),w=U(p),B=U(p),d((N=n((v=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,r(n,"headLabel",N,o(n)),r(n,"msgLabel",k,o(n)),r(n,"shop",R,o(n)),r(n,"prizeTokenPrefab",A,o(n)),r(n,"LoaderPrefab",F,o(n)),r(n,"clickBtns",S,o(n)),r(n,"msgNode",T,o(n)),n}t(n,e);var l=n.prototype;return l.start=function(){console.log("get parent ",this.node.getParent())},l.init=function(e,n){void 0===n&&(n=C.ReduceBet),console.log("init calll @@@"),console.log("inity call ",e),this.msgLabel.string=e,this.headLabel.string="INSUFFICIENT BALANCE",console.log("get parent ",this.node.parent)},l.onOkBtn=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.onConvertPrizeToken=function(){},l.setZoom=function(e){e.setScale(f.ZERO),b(e).to(.2,{scale:new f(1,1,1),easing:"smooth"}).start()},l.setZoomOut=function(e){b(e).to(.2,{scale:new f(0,0,0),easing:"smooth"}).call((function(){e.destroy()})).start()},l.update=function(e){},n}(g)).prototype,"headLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(v.prototype,"msgLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(v.prototype,"shop",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(v.prototype,"prizeTokenPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(v.prototype,"LoaderPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(v.prototype,"clickBtns",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(v.prototype,"msgNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=v))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/BonusRewardAutomation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,o,i,a,u,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,u=t.Sprite,c=t.Label,l=t.SpriteFrame,p=t.Component}],execute:function(){var s,f,m,y,b,d,w,A,g;i._RF.push({},"ded11aYjGxPgLfojZNTRRVp","BonusRewardAutomation",void 0);var h=a.ccclass,R=a.property;t("BonusRewardAutomation",(s=h("BonusRewardAutomation"),f=R(u),m=R(c),y=R(l),s((w=e((d=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,r(e,"tokenType",w,o(e)),r(e,"winAmount",A,o(e)),r(e,"tokenSprite",g,o(e)),e}n(e,t);var i=e.prototype;return i.start=function(){},i.setWinData=function(){},i.setAmount=function(){},i.setFishAmount=function(){},e}(p)).prototype,"tokenType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(d.prototype,"winAmount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(d.prototype,"tokenSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=d))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,o=t._decorator,u=t.Component}],execute:function(){var s;i._RF.push({},"c1910hHYjNH54ubRUjqwjnq","Bullet",void 0);var c=o.ccclass;o.property,t("Bullet",c("Bullet")(s=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._sessionId="",e._clientId="",e._type=void 0,e._bulletEffect=null,e.previousPosition=void 0,e.currentUpdateTime=void 0,e}e(i,t);var o=i.prototype;return o.updatePosition=function(t){},o.updateAngle=function(t){},o.update=function(t){},n(i,[{key:"sessionId",get:function(){return this._sessionId},set:function(t){this._sessionId=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"clientId",get:function(){return this._clientId},set:function(t){this._clientId=t}},{key:"bulletEffect",get:function(){return this._bulletEffect},set:function(t){this._bulletEffect=t}}]),i}(u))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/BulletEffectHandler.ts",["cc","./GameModel.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.GameModel}],execute:function(){t._RF.push({},"6fb99XAWt5JR6FghnoKizrz","BulletEffectHandler",void 0);var f=e("ULTD_EffectType",function(e){return e.TorpidoEffect="TorpidoEffect",e}({})),i=e("ZOMA_EffectType",function(e){return e.PoisonEffectPrefab="PoisonEffectPrefab",e}({})),c=e("GameEffectTypes",{ULTD:[f.TorpidoEffect],ZOMA:[i.PoisonEffectPrefab]});e("BulletEffectHandler",function(){function e(){var e=this;this._gameType=void 0,this._gunTypes=void 0,this._effectNodeMap=new Map,this._gameType=n.multipleFishGameManager.getGameType(),this._gunTypes=n.multipleFishGameManager.getGunType();var t=c[this._gameType];this._effectNodeMap.forEach((function(e){e&&e.destroy()})),this._effectNodeMap.clear(),t&&t.length>0&&t.forEach((function(t){e._effectNodeMap.set(t,n.multipleFishGameManager.node.getChildByName(t))}))}e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.clearInstance=function(){this._instance&&(this._instance=null)};var t=e.prototype;return t.startBulletEffects=function(e,t,f){return new Promise((function(e,f){var i=n.gunManager.getGunComponentBySessionId(null==t?void 0:t.clientId);if(i)i.gunType;return e()}))},t.startULTDBulletEffect=function(e,t,n){},t.startZOMABulletEffect=function(e,t,n){},t.stopBulletEffects=function(e){},t.stopZOMABulletEffect=function(e){},t.startHitEffect=function(){},e}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/BulletManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingleBullet.ts","./DoubleBullet.ts"],(function(e){var t,l,n,o,r,i,u,a,s,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,u=e._decorator,a=e.Vec3,s=e.Component},function(e){p=e.SingleBullet},function(e){c=e.DoubleBullet}],execute:function(){var d,f,g,b,B,v,y;i._RF.push({},"5ad0729Dg9Oyb/XBEgGS+p4","BulletManager",void 0);var m=u.ccclass,h=u.property;e("BulletManager",(d=m("BulletManager"),f=h(p),g=h(c),d((v=t((B=function(e){function t(){for(var t,l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,n(t,"singleBullet",v,o(t)),n(t,"doubleBullet",y,o(t)),t.bulletNodes=new Map,t}l(t,e);var i=t.prototype;return i.onLoad=function(){},i.updateBullet=function(e){for(var t=0;t<e.bullets.length;t++)if(e.bullets[t]){var l=e.bullets[t].sessionId,n=this.getBulletComponentBySessionId(l);if(n){var o=n,r=e.bullets[t],i=o.previousPosition,u=new a(r.pos.x,r.pos.y,r.pos.z),s=n.currentUpdateTime+.1,p=(e.timestamp-n.currentUpdateTime)/(s-n.currentUpdateTime);if(p<1){var c=new a;a.lerp(c,i,u,p),null==o||o.updatePosition(c),null==o||o.updateAngle(r.rotation)}else null==o||o.updatePosition(u),n.previousPosition=u,n.currentUpdateTime=e.timestamp,null==o||o.updateAngle(r.rotation)}}},i.getBulletComponentBySessionId=function(e){var t=this.bulletNodes.get(e);return t||null},i.destroyBulletForClientId=function(e){for(var t,l=r(this.bulletNodes.entries());!(t=l()).done;){var n=t.value,o=n[0],i=n[1];i.clientId===e&&(this.bulletNodes.delete(o),i.node.destroy())}},t}(s)).prototype,"singleBullet",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(B.prototype,"doubleBullet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=B))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/ClientData.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var n;e("ServerEvents",void 0),t._RF.push({},"9883bTtElVPF4Uymm7n4Ioo","ClientData",void 0),function(e){var t=function(e){return e.SPAWN="fish:spawn",e.SPAWN_SUMMON_FISH="fish:spawnSummonFish",e.SPAWN_BOSS="fish:spawnBoss",e.UPDATE="fish:update",e.DESTROYED="fish:destroyed",e.DESTROYED_ON_RESPONSE="fish:destroyedOnResponse",e}({});e.Fish=t;var n=function(e){return e.EFFECT_ALERT="effectAlert",e}({});e.Alerts=n;var E=function(e){return e.SPAWN="icon:spawn",e.UPDATE="icon:update",e.DESTROYED="icon:destroyed",e}({});e.Icon=E;var r=function(e){return e.SPAWN="bullet:spawn",e.UPDATE="bullet:update",e.DESTROYED="bullet:destroyed",e.DESTROYED_RESPONSE="bullet:destroyedResponse",e}({});e.Bullet=r;var u=function(e){return e.LEAVE="client:leave",e.JOIN="client:join",e.UPDATE_TOTAL_PLAYERS="client:updatetotalplayers",e.DESTROY_ALL_FLOATABLE_ICONS="destroyAllFloatableIcons",e.UPDATE_MESSAGES="client:updatemessages",e}({});e.Client=u;var S=function(e){return e.FREEZE="FREEZE",e.SUMMON="SUMMON",e.STOP_FREEZE="STOP_FREEZE",e.WAVE="WAVE",e.RANDOM_WAVE="RANDOM_WAVE",e}({});e.Effect=S;var a=function(e){return e.SHOW="gun:showgun",e.HIDE="gun:hidegun",e.UPDATE_ANGLE="gun:updateangle",e.CHANGE="gun:change",e.ACTIVATE_LASER="gun:activatelaser",e.DEACTIVATE_LASER="gun:deactivatelaser",e.UPDATE_LASER="gun:updatelaser",e}({});e.Gun=a;var i=function(e){return e.SET_BET_TOKEN="SetBetToken",e}({});e.SetBetToken=i;var o=function(e){return e.SET_PRIZE_TOKEN="SetPrizeToken",e}({});e.SetPrizeToken=o;var T=function(e){return e.SET_USER_TOKEN="SetUserToken",e}({});e.SetUserToken=T;var s=function(e){return e.electroShokFishData="electroShokFishData",e.THUNDER_STORM_FISH_DATA="ThunderStormFishData",e}({});e.featureGun=s;var _=function(e){return e.SHURIKEN_HIT="shurikenHit",e}({});e.ShurikenHit=_}(n||(n=e("ServerEvents",{})));e("ClientEvents",function(e){return e.LEAVE="client:leave",e.JOIN="client:join",e.BULLET_SPWAN="bullet:spawn",e.UPDATE_GUN_ANGLE="gun:updategunangle",e.CHANGE_GUN="gun:updateguntype",e.GUN_ATTACH_TO_FISH="gun:attachtofish",e.GUN_ATTACH_TO_FLOATING_ICON="gun:attachtofloatingicon",e.DEACTIVATE_LASER="gun:deactivatelaser",e.SET_BET_TOKEN="SetBetToken",e.SET_PRIZE_TOKEN="SetPrizeToken",e.SET_USER_TOKEN="SetUserToken",e.CLOSE_BONUS_API_RESPONSE="CLOSE_BONUS_API_RESPONSE",e}({})),e("AlertsType",function(e){return e.BOSS="BOSS",e.SUMMON="SUMMON",e.FREEZE="FREEZE",e.WAVE="WAVE",e}({})),e("BulletTypes",{BULLET:0,ARROW:1}),e("FishRoomBetGroup",function(e){return e.Low="Low",e.Medium="Medium",e.High="High",e}({})),e("ClientData",{flags:{isLoginNotNeeded:!1,isLocalTesting:!1},data:{}}),e("FISH_ROOM_ERROR","FISH_ROOM_ERROR");t._RF.pop()}}}));

System.register("chunks:///_virtual/ColorLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var r,e,t,i,l,n,c,s,a,p;return{setters:[function(o){r=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized,l=o.createClass},function(o){n=o.cclegacy,c=o._decorator,s=o.Color,a=o.UIRenderer,p=o.Label}],execute:function(){var u,h,y,f,d,b;n._RF.push({},"43349ChcihJUYIqZis0/eiQ","ColorLabel",void 0);var v=c.ccclass,_=c.property;o("ColorLabel",(u=v("ColorLabel"),h=_({type:[s]}),y=_({type:[s]}),u((b=r((d=function(o){function r(){for(var r,e=arguments.length,l=new Array(e),n=0;n<e;n++)l[n]=arguments[n];return r=o.call.apply(o,[this].concat(l))||this,t(r,"_colors",b,i(r)),r.colorOffset=void 0,r}return e(r,o),r.prototype._updateColor=function(){var r;o.prototype._updateColor.call(this);for(var e=null==(r=this.node.getComponent(a))||null==(r=r.renderData)?void 0:r.chunk.vb,t=5,i=0;i<4;i++){var l=this.colors[i]||this.color,n=l.r/255,c=l.g/255,s=l.b/255,p=this.node._uiProps.opacity;e[t]=n,e[t+1]=c,e[t+2]=s,e[t+3]=p,t+=9}},l(r,[{key:"colors",get:function(){return this._colors},set:function(o){this._colors=o,this._updateColor()}}]),r}(p)).prototype,"_colors",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r(d.prototype,"colors",[y],Object.getOwnPropertyDescriptor(d.prototype,"colors"),d.prototype),f=d))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/CommonConstants.ts",["cc"],(function(E){var n;return{setters:[function(E){n=E.cclegacy}],execute:function(){E({GetRandomInterger:function(E,n){return Math.floor(Math.random()*(n-E+1))+E},getRandomNumber:function(E,n){return Math.floor(Math.random()*(n-E+1))+E}}),n._RF.push({},"99eecyAiANBzawN7ERhUBrq","CommonConstants",void 0);E("PlaceId",function(E){return E[E.FIRST=0]="FIRST",E[E.SECOND=1]="SECOND",E[E.THIRD=2]="THIRD",E[E.FOURTH=3]="FOURTH",E}({})),E("CURRENCY_TYPES",function(E){return E.GAME_TOKEN="GAME_TOKEN",E.SWEEP_TOKEN="SWEEP_TOKEN",E}({})),E("LocalPlayerObject",{FloatingIcon:"AddFloatingIcon",Fish:"AddFish"}),E("HOME_URL","https://pixelsagegame.com");var o=E("FishGameEvents",(function(){}));o.TIME_UP="TIME_UP",o.FISH_BONUS_GAME_START="FISH_BONUS_GAME_START",o.FISH_GAME_SESSION_END="FISH_GAME_SESSION_END",o.FISH_BONUS_GAME_STOP="FISH_BONUS_GAME_STOP",o.CLOSE_FISH_EVENTS="CLOSE_FISH_EVENTS",o.UPDATE_TOKEN="UPDATE_TOKEN",o.FISH_GAME_AUTOMATION="FISH_GAME_AUTOMATION",o.CLOSE_API_RESPONSE="CLOSE_API_RESPONSE",o.CHECK_LOW_BALANCE="CHECK_LOW_BALANCE",o.ON_MESSAGE_COMPLETE="ON_MESSAGE_COMPLETE";E("WinPopupType",function(E){return E[E.MEGAWIN=0]="MEGAWIN",E[E.BIGWIN=1]="BIGWIN",E[E.FreeSpin=2]="FreeSpin",E[E.GameToken=3]="GameToken",E[E.SweepToken=4]="SweepToken",E[E.JackpotWin=5]="JackpotWin",E[E.WelcomeBonus=6]="WelcomeBonus",E[E.GrandJackpot=7]="GrandJackpot",E[E.MajorJackpot=8]="MajorJackpot",E[E.MinorJackpot=9]="MinorJackpot",E[E.MiniJackpot=10]="MiniJackpot",E[E.FIREBALL=11]="FIREBALL",E}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/CountDownTimer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,s,c,u,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.macro,r=t.Label,s=t.tween,c=t.Vec3,u=t.Tween,a=t.Component}],execute:function(){var h;n._RF.push({},"e27546n8N9A14JegOkjQb4y","CountDownTimer",void 0);var l=i.ccclass;i.property,t("CountDownTimer",l("CountDownTimer")(h=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).duration=0,e.effect=new u,e.TimerText=void 0,e}e(n,t);var i=n.prototype;return i.start=function(){},i.initializeTime=function(t){this.duration=t,this.checkRequiredComponents(),this.UpdateTimerUI(),this.startTimer()},i.startTimer=function(){var t=this;this.schedule((function(){return t.countDown()}),1,o.REPEAT_FOREVER,0)},i.stopTimer=function(){this.unscheduleAllCallbacks()},i.countDown=function(){this.duration-=1,this.pulseEffect(),this.UpdateTimerUI(),this.duration<=0&&(this.unscheduleAllCallbacks(),this.node.emit("TimerFinished"))},i.UpdateTimerUI=function(){var t=this.duration/60,e=Math.floor(t),n=(60*(t-e)).toFixed(0).toString(),i=e.toString();t<1&&(i="00"),"0"==n&&(n="00");var o=i+":"+n;i.length<=1&&(o=(i="0"+i)+":"+n),n.length<=1&&(o=i+":"+(n="0"+n)),e<1&&(o="00:"+n),this.TimerText.string=o},i.checkRequiredComponents=function(){this.TimerText=this.getComponentInChildren(r),null==this.TimerText&&(this.TimerText=this.addComponent(r),this.UpdateTimerUI(),this.TimerText.fontSize=70)},i.pulseEffect=function(){var t;null==(t=this.effect)||t.stop(),this.effect=s(this.node).to(.1,{scale:new c(1.2,1.2,1.2)}).to(.1,{scale:new c(1,1,1)}).start()},n}(a))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/CustomPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,o,r,l,a,c,u,s,b,p,f,h,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Label,c=t.Sprite,u=t.Button,s=t.SpriteFrame,b=t.Node,p=t.view,f=t.Vec3,h=t.tween,m=t.Component}],execute:function(){var y,g,d,w,v,C,z,L,A,B,x,P,E,M,S,U,k,D,T,F,_,I,V;r._RF.push({},"f3728GQCL1D4rOjh/Xiz37i","CustomPopUp",void 0);var j=l.ccclass,O=l.property;t("CustomPopUp",(y=j("CustomPopUp"),g=O(a),d=O(a),w=O(c),v=O(u),C=O(u),z=O(a),L=O(a),A=O(u),B=O(s),x=O(b),y((M=i((E=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,e(i,"title",M,o(i)),e(i,"Msg",S,o(i)),e(i,"logo",U,o(i)),e(i,"btn1",k,o(i)),e(i,"btn2",D,o(i)),e(i,"btn1bl",T,o(i)),e(i,"btn2bl",F,o(i)),e(i,"ExitBtn",_,o(i)),e(i,"Logoframe",I,o(i)),e(i,"isMaintenenceBg",V,o(i)),i.isDelete=!1,i.isAction=!1,i.ActionType=null,i.cb1=null,i.cb2=null,i.Commoncb=null,i}n(i,t);var r=i.prototype;return r.start=function(){p.getVisibleSize().width<p.getVisibleSize().height&&(this.node.scale=new f(.7,.7,1))},r.onLoad=function(){this.isMaintenenceBg.active=!1},r.setCallback=function(t,i){this.cb1=t,this.cb2=i},r.onExitLayer=function(){if(this.node){var t=this.node,i=t;h(t).to(.2,{scale:new f(0,0,1)}).call((function(){i.removeFromParent()})).start()}},r.onBtn1Click=function(t,i){window.audioManager.playLobbyUISound("PopUpClose"),this.isAction?this.ActionType?(this.ActionCommonPop(this.ActionType),this.Commoncb()):(this.onExitLayer(),this.Commoncb()):this.cb1?(this.cb1(t),this.onExitLayer()):this.onExitLayer()},r.onBtn2Click=function(t,i){this.cb2?t?this.cb2(t):this.cb2():this.onExitLayer()},r.setButtonIntractable=function(t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this.btn1.interactable=t,this.btn2.interactable=i},r.setActionOnClick=function(t,i,n){if(void 0===n&&(n=!1),n)return this.btn1.node.active=!1,this.btn1.node.active=!1,void(this.isMaintenenceBg.active=!0);this.isAction=!0,this.ActionType=t,this.Commoncb=i},r.ActionCommonPop=function(t){switch(t){case"common":this.onExitLayer();default:this.onExitLayer()}},i}(m)).prototype,"title",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(E.prototype,"Msg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(E.prototype,"logo",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(E.prototype,"btn1",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(E.prototype,"btn2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(E.prototype,"btn1bl",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(E.prototype,"btn2bl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(E.prototype,"ExitBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(E.prototype,"Logoframe",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(E.prototype,"isMaintenenceBg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=E))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/CustomSkeleton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,s=t.tween,a=t.sp}],execute:function(){var i;o._RF.push({},"8256d9kYmZPqb9t7GIvCYx0","CustomSkeleton",void 0);var r=n.ccclass;n.property,t("CustomSkeleton",r("CustomSkeleton")(i=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.setInitHiddenSlotsStartWith=function(t){for(var e=this.skeletonData.getRuntimeData().slots,o=0;o<e.length;o++){var n=e[o].name;if(0===n.indexOf(t,0))this.findSlot(n).color.a=0}},n.hideSlotsStartWith=function(t,e){for(var o=this.skeletonData.getRuntimeData().slots,n=0;n<o.length;n++){var a=o[n].name;if(0===a.indexOf(t,0)){var i=this.findSlot(a);s(i.color).to(e,{a:0}).start()}}},n.showSlotsStartWith=function(t,e){for(var o=this.skeletonData.getRuntimeData().slots,n=0;n<o.length;n++){var a=o[n].name;if(0===a.indexOf(t,0)){var i=this.findSlot(a);s(i.color).to(e,{a:1}).start()}}},o}(a.Skeleton))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DoubleBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet.ts","./DoubleBulletEffect.ts"],(function(e){var t,l,u,o,n,i,r,c,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,u=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,r=e.v3},function(e){c=e.Bullet},function(e){f=e.DoubleBulletEffect}],execute:function(){var s,a,p,b,d;n._RF.push({},"089f2iXUzFPmK55RfJHCE4j","DoubleBullet",void 0);var B=i.ccclass,h=i.property;e("DoubleBullet",(s=B("DoubleBullet"),a=h(f),s((d=t((b=function(e){function t(){for(var t,l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,u(t,"doubleBulletEffect",d,o(t)),t}l(t,e);var n=t.prototype;return n.onLoad=function(){this.bulletEffect=this.doubleBulletEffect,this.doubleBulletEffect.node.active=!1},n.updatePosition=function(e){var t;null==(t=this.node)||t.setPosition(e.x,e.y)},n.updateAngle=function(e){var t;null==(t=this.node)||t.setRotationFromEuler(r(0,0,e-90))},n.getBulletEffect=function(){return this.doubleBulletEffect},t}(c)).prototype,"doubleBulletEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=b))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/DoubleBulletEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HelperTools.ts"],(function(e){var t,n,o,i,r,l,a,c,u,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.sp,c=e.Sprite,u=e.tween,s=e.Component},function(e){p=e.HelperTools}],execute:function(){var f,d,h,y,v;r._RF.push({},"b31f3HuVXNDs69OD0PT+Aq8","DoubleBulletEffect",void 0);var D=l.ccclass,b=l.property;e("DoubleBulletEffect",(f=D("DoubleBulletEffect"),d=b(a.Skeleton),f((v=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"animation",v,i(t)),t}return n(t,e),t.prototype.activate=function(e){var t,n=this;void 0===e&&(e="animation"),this.node.active=!0;var o=p.getSpineAnimationDuration(this.node,e);null==(t=this.node.parent.getComponent(c))||t.destroy(),u(this.node.parent).delay(.5*o).call((function(){n.node.parent.destroy()})).start()},t}(s)).prototype,"animation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameModel.ts","./RewardCollect.ts","./FishSoundManager.ts","./MultipleFishGameManager.ts","./KillCoinEffect.ts","./Transition.ts","./PlayerDataModel.ts","./CommonConstants.ts"],(function(e){var n,t,o,a,i,s,l,r,u,f,m,c,d,h,g,p,C,F,E;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,l=e.Node,r=e.Prefab,u=e.instantiate,f=e.sp,m=e.Component},function(e){c=e.GameModel},function(e){d=e.RewardCollect},function(e){h=e.FishSoundManager},function(e){g=e.GameTypes},function(e){p=e.KillCoinEffect},function(e){C=e.TransitionTest},function(e){F=e.PlayerDataModel},function(e){E=e.CURRENCY_TYPES}],execute:function(){var M,S,k,z,T,b,N,y,A,P,v;i._RF.push({},"704c7g3q6NCeq5h/PdttHuG","EffectsManager",void 0);var D,R=s.ccclass,_=s.property,w=e("EffectsEnum",function(e){return e[e.FREEZE_EFFECT=0]="FREEZE_EFFECT",e[e.SUMMON_EFFECT=1]="SUMMON_EFFECT",e[e.REWARD_EFFECT=2]="REWARD_EFFECT",e}({})),G=e("Freeze_Animations",{SPCW:{Idle:"Idle",Freeze:"Freeze"},WDHT:{Idle:"Idle",Freeze:"Trap"}});e("EffectsManager",(M=R("EffectsManager"),S=_(l),k=_(p),z=_(d),T=_(r),M((y=n((N=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,o(n,"effectsContainer",y,a(n)),o(n,"killCoinComponent",A,a(n)),o(n,"rewardCollectComponent",P,a(n)),o(n,"effectPrefabs",v,a(n)),n.gameType=null,n.freezeNode=null,n.summonNode=null,n.coinNode=null,n.rewardNode=null,n}t(n,e);var i=n.prototype;return i.start=function(){D=c.multipleFishGameManager.getFishSound(),this.gameType=c.multipleFishGameManager.getGameType()},i.startFreezEffect=function(e){var n;this.scheduleOnce((function(){h.startFeatureSound(D.FreezeStart,!1)}),.5);var t,o,a=null==(n=c.gunManager.selfGun)?void 0:n.getPlaceId();this.effectPrefabs.length>0&&this.effectPrefabs[w.FREEZE_EFFECT]&&(this.freezeNode=u(this.effectPrefabs[w.FREEZE_EFFECT]),this.startFreezeAccordingToGame(e),null==(t=this.effectsContainer)||t.addChild(this.freezeNode),("3"==a||"2"==a)&&(null==(o=this.freezeNode)||o.setRotationFromEuler(0,0,180)));this.animationStatus(!0)},i.stopFreezEffect=function(e){this.animationStatus(!1),h.startClickSound(D.FreezeClose)},i.startSummonEffect=function(e){var n;this.summonNode=u(this.effectPrefabs[w.SUMMON_EFFECT]),null==(n=c.fishManager.summonFishContainer)||n.addChild(this.summonNode)},i.stopSummonEffect=function(e){var n;null==(n=c.fishManager.summonFishContainer)||n.removeChild(this.summonNode)},i.startCoinAndRewardEffect=function(e,n){var t,o,a,i,s,l=null!=e&&null!=(t=e.summonEffectData)&&t.fishKillCount?e.summonEffectData.fishKillCount:0,r=null!=e&&null!=(o=e.freezEffectData)&&o.fishKillCount?e.freezEffectData.fishKillCount:0,u=null!=e&&null!=(a=e.summonEffectData)&&a.maxFishKillCount?e.summonEffectData.maxFishKillCount:0,f=null!=e&&null!=(i=e.freezEffectData)&&i.maxFishKillCount?e.freezEffectData.maxFishKillCount:0;c.gunManager.summonAndFreezeOn.killFishCall(l,r,u,f);var m,d,h=null,g=null;c.gunManager.gunsMap.has(e.clientId)&&(h=c.gunManager.gunsMap.get(e.clientId),g=F.selectedCurrency==E.GAME_TOKEN?c.uiManager.getPlayerCoinNode(null==(m=h)?void 0:m.getPlaceId()):c.uiManager.getPlayerPrizeCoinNode(null==(d=h)?void 0:d.getPlaceId()));g&&this.killCoinComponent.init(n,g,c.uiManager.node),(null==(s=c.gunManager.selfGun)?void 0:s.getSessionId())==e.clientId&&this.rewardCollectComponent.init(n,e.bulletResponse.fishWin)},i.startFreezeAccordingToGame=function(e){var n;null==(n=this.freezeNode)||null==(n=n.getChildByName("TransitionTest"))||n.getComponent(C).init(10)},i.stopFreezeAnimation=function(e){c.fishManager.fishNodesMap.forEach((function(n){n&&n.node&&n.node.getComponent(f.Skeleton)&&(n.node.getComponent(f.Skeleton).paused=e)})),c.fishManager.summonFishComponent&&c.fishManager.summonFishComponent.node&&c.fishManager.summonFishComponent.node.getComponent(f.Skeleton)&&(c.fishManager.summonFishComponent.node.getComponent(f.Skeleton).paused=e),c.floatingObjectManager.iconNodesMap.forEach((function(n){n&&n.node&&n.node.getComponent(f.Skeleton)&&(n.node.getComponent(f.Skeleton).paused=e)}))},i.animationStatus=function(e){switch(console.log("animationStatus gameType : ",e),this.gameType){case g.OCB:case g.ULTD:this.stopFreezeAnimation(e);break;case g.ZOMA:this.pauseSkeltonAnimation(e);break;case g.SPCW:break;case g.RPHNX:this.stopFreezeAnimation(e);break;case g.WDHT:var n=G[this.gameType];e?this.changeSkeltonAnimation(n.Freeze):e||this.changeSkeltonAnimation(n.Idle);break;case g.FSDC:this.stopFreezeAnimation(e)}},i.changeSkeltonAnimation=function(e){console.log("changeSkeltonAnimation : ",e),c.fishManager.fishNodesMap.forEach((function(n){n&&n.node&&n.node.getComponent(f.Skeleton)&&n.node.getComponent(f.Skeleton).setAnimation(0,e,!0)})),c.fishManager.summonFishComponent&&c.fishManager.summonFishComponent.node&&c.fishManager.summonFishComponent.node.getComponent(f.Skeleton)&&c.fishManager.summonFishComponent.node.getComponent(f.Skeleton).setAnimation(0,e,!0),c.floatingObjectManager.iconNodesMap.forEach((function(n){n&&n.node&&n.node.getComponent(f.Skeleton)&&n.node.getComponent(f.Skeleton).setAnimation(0,e,!0)}))},i.pauseSkeltonAnimation=function(e){c.fishManager.fishNodesMap.forEach((function(n){n&&n.node&&n.node.getComponent(f.Skeleton)&&(n.node.getComponent(f.Skeleton).paused=e)})),c.fishManager.summonFishComponent&&c.fishManager.summonFishComponent.node&&c.fishManager.summonFishComponent.node.getComponent(f.Skeleton)&&(c.fishManager.summonFishComponent.node.getComponent(f.Skeleton).paused=e),c.floatingObjectManager.iconNodesMap.forEach((function(n){n&&n.node&&n.node.getComponent(f.Skeleton)&&(n.node.getComponent(f.Skeleton).paused=e)}))},n}(m)).prototype,"effectsContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(N.prototype,"killCoinComponent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(N.prototype,"rewardCollectComponent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(N.prototype,"effectPrefabs",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=N))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.EventTarget,r=t.Event}],execute:function(){n._RF.push({},"5e969I/qfZIHI9osuLlswgn","EventManager",void 0);var u=t("default",function(){function t(){}return t.clear=function(){t.dispatcher=null},t.getDispatcher=function(){return t.dispatcher||(t.dispatcher=new i),t.dispatcher},t}());u.dispatchCustomEvent=function(t,e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=!0),!e)return null;var r=new a(t,i);r.detail=n,e.dispatchEvent(r)},u.dispatcher=void 0;var a=t("CustomEvent",function(t){function n(e,n,i){var r;return(r=t.call(this,e,n)||this).detail=null,r.detail=i,r}e(n,t);var i=n.prototype;return i.setUserDetail=function(t){this.detail=this.detail},i.getUserDetail=function(){return this.detail},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/FireBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet.ts","./FireBulletEffect.ts"],(function(e){var t,i,l,r,n,u,o,c,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,u=e._decorator,o=e.v3},function(e){c=e.Bullet},function(e){f=e.FireBulletEffect}],execute:function(){var s,a,p,B,h;n._RF.push({},"2f7edjqPXRP0oBNF6uYEWgc","FireBullet",void 0);var d=u.ccclass,v=u.property;e("FireBullet",(s=d("FireBullet"),a=v(f),s((h=t((B=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];return t=e.call.apply(e,[this].concat(n))||this,l(t,"fireBulletEffect",h,r(t)),t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.bulletEffect=this.fireBulletEffect,this.fireBulletEffect.node.active=!1},n.updatePosition=function(e){var t;null==(t=this.node)||t.setPosition(e.x,e.y)},n.updateAngle=function(e){var t;null==(t=this.node)||t.setRotationFromEuler(o(0,0,e-90))},n.getBulletEffect=function(){return this.fireBulletEffect},t}(c)).prototype,"fireBulletEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=B))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/FireBulletEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,c,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.sp,l=e.Component}],execute:function(){var u,p,s,f,y;o._RF.push({},"c2a52QgopxJIbgH6GPSp9cZ","FireBulletEffect",void 0);var h=c.ccclass,d=c.property;e("FireBulletEffect",(u=h("FireBulletEffect"),p=d(a.Skeleton),u((y=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"animation",y,n(t)),t}return r(t,e),t.prototype.activate=function(e){this.node.parent.destroy()},t}(l)).prototype,"animation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=f))||s));o._RF.pop()}}}));

System.register("chunks:///_virtual/Fish_Server_Event_Manager.ts",["cc","./EventManager.ts","./ClientData.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.cclegacy},function(t){n=t.default},function(t){i=t.ServerEvents}],execute:function(){e._RF.push({},"6e763KfmchM47Q4Km4yZ0/u","Fish_Server_Event_Manager",void 0),t("Fish_Server_Event_Manager",function(){function t(){this._Socket=null,this._reconnectionDelayMax=0,this._reconnectionTimerId=null}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var e=t.prototype;return e.setSocket=function(t){this._Socket=t,this._reconnectionDelayMax=this._Socket.io._reconnectionDelayMax},e.registerServerEvents=function(){this._Socket.on(i.Client.JOIN,(function(t){n.getDispatcher().emit(i.Client.JOIN,JSON.parse(t))})),this._Socket.on(i.Client.UPDATE_TOTAL_PLAYERS,(function(t){n.getDispatcher().emit(i.Client.UPDATE_TOTAL_PLAYERS,JSON.parse(t))})),this._Socket.on(i.Client.UPDATE_MESSAGES,(function(t){n.getDispatcher().emit(i.Client.UPDATE_MESSAGES,JSON.parse(t))})),this._Socket.on(i.Client.LEAVE,(function(t){n.getDispatcher().emit(i.Client.LEAVE,JSON.parse(t))})),this._Socket.on(i.Client.DESTROY_ALL_FLOATABLE_ICONS,(function(t){n.getDispatcher().emit(i.Client.DESTROY_ALL_FLOATABLE_ICONS,JSON.parse(t))})),this._Socket.on(i.Alerts.EFFECT_ALERT,(function(t){n.getDispatcher().emit(i.Alerts.EFFECT_ALERT,JSON.parse(t))})),this._Socket.on(i.Fish.SPAWN,(function(t){n.getDispatcher().emit(i.Fish.SPAWN,JSON.parse(t))})),this._Socket.on(i.Fish.SPAWN_SUMMON_FISH,(function(t){n.getDispatcher().emit(i.Fish.SPAWN_SUMMON_FISH,JSON.parse(t))})),this._Socket.on(i.Fish.SPAWN_BOSS,(function(t){n.getDispatcher().emit(i.Fish.SPAWN_BOSS,JSON.parse(t))})),this._Socket.on(i.Fish.UPDATE,(function(t){n.getDispatcher().emit(i.Fish.UPDATE,JSON.parse(t))})),this._Socket.on(i.Fish.DESTROYED,(function(t){n.getDispatcher().emit(i.Fish.DESTROYED,JSON.parse(t))})),this._Socket.on(i.Fish.DESTROYED_ON_RESPONSE,(function(t){n.getDispatcher().emit(i.Fish.DESTROYED_ON_RESPONSE,JSON.parse(t))})),this._Socket.on(i.Icon.SPAWN,(function(t){n.getDispatcher().emit(i.Icon.SPAWN,JSON.parse(t))})),this._Socket.on(i.Icon.UPDATE,(function(t){n.getDispatcher().emit(i.Icon.UPDATE,JSON.parse(t))})),this._Socket.on(i.Icon.DESTROYED,(function(t){n.getDispatcher().emit(i.Icon.DESTROYED,JSON.parse(t))})),this._Socket.on(i.Bullet.SPAWN,(function(t){n.getDispatcher().emit(i.Bullet.SPAWN,JSON.parse(t))})),this._Socket.on(i.Bullet.UPDATE,(function(t){n.getDispatcher().emit(i.Bullet.UPDATE,JSON.parse(t))})),this._Socket.on(i.Bullet.DESTROYED,(function(t){n.getDispatcher().emit(i.Bullet.DESTROYED,JSON.parse(t))})),this._Socket.on(i.Bullet.DESTROYED_RESPONSE,(function(t){n.getDispatcher().emit(i.Bullet.DESTROYED_RESPONSE,JSON.parse(t))})),this._Socket.on(i.Effect.FREEZE,(function(t){n.getDispatcher().emit(i.Effect.FREEZE,JSON.parse(t))})),this._Socket.on(i.Effect.SUMMON,(function(t){n.getDispatcher().emit(i.Effect.SUMMON,JSON.parse(t))})),this._Socket.on(i.Effect.STOP_FREEZE,(function(t){n.getDispatcher().emit(i.Effect.STOP_FREEZE,JSON.parse(t))})),this._Socket.on(i.Effect.WAVE,(function(t){n.getDispatcher().emit(i.Effect.WAVE,JSON.parse(t))})),this._Socket.on(i.Effect.RANDOM_WAVE,(function(t){n.getDispatcher().emit(i.Effect.RANDOM_WAVE,JSON.parse(t))})),this._Socket.on(i.Gun.UPDATE_ANGLE,(function(t){n.getDispatcher().emit(i.Gun.UPDATE_ANGLE,JSON.parse(t))})),this._Socket.on(i.Gun.SHOW,(function(t){n.getDispatcher().emit(i.Gun.SHOW,JSON.parse(t))})),this._Socket.on(i.Gun.HIDE,(function(t){n.getDispatcher().emit(i.Gun.HIDE,JSON.parse(t))})),this._Socket.on(i.Gun.CHANGE,(function(t){n.getDispatcher().emit(i.Gun.CHANGE,JSON.parse(t))})),this._Socket.on(i.Gun.ACTIVATE_LASER,(function(t){n.getDispatcher().emit(i.Gun.ACTIVATE_LASER,JSON.parse(t))})),this._Socket.on(i.Gun.DEACTIVATE_LASER,(function(t){n.getDispatcher().emit(i.Gun.DEACTIVATE_LASER,JSON.parse(t))})),this._Socket.on(i.Gun.UPDATE_LASER,(function(t){n.getDispatcher().emit(i.Gun.UPDATE_LASER,JSON.parse(t))})),this._Socket.on(i.SetBetToken.SET_BET_TOKEN,(function(t){n.getDispatcher().emit(i.SetBetToken.SET_BET_TOKEN,JSON.parse(t))})),this._Socket.on(i.SetPrizeToken.SET_PRIZE_TOKEN,(function(t){n.getDispatcher().emit(i.SetPrizeToken.SET_PRIZE_TOKEN,JSON.parse(t))})),this._Socket.on(i.SetUserToken.SET_USER_TOKEN,(function(t){n.getDispatcher().emit(i.SetUserToken.SET_USER_TOKEN,JSON.parse(t))}))},e.fireEventToServer=function(t,e){void 0===e&&(e=null),e?this._Socket.emit(t,JSON.stringify(e)):this._Socket.emit(t)},e.leaveGame=function(){this._Socket.disconnect()},t}()).instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/Fish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameModel.ts","./ClientData.ts","./TapDetector.ts","./CustomSkeleton.ts","./PlayerDataModel.ts","./Fish_Server_Event_Manager.ts"],(function(t){var e,n,i,s,o,r,a,l,u,c,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,s=t.Vec3,o=t.Component},function(t){r=t.GameModel},function(t){a=t.ClientEvents},function(t){l=t.TapDetector},function(t){u=t.CustomSkeleton},function(t){c=t.PlayerDataModel},function(t){h=t.Fish_Server_Event_Manager}],execute:function(){var f;n._RF.push({},"be200ODmd5Jd774acG/A8Zc","Fish",void 0);var d=i.ccclass;i.property,t("Fish",d("Fish")(f=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).fishType=0,e.tapDetector=void 0,e.sessionId="",e.finalDestination=new s(0,0,0),e.startPosition=new s(0,0,0),e.targetPosition=new s(0,0,0),e.targetEulerAngles=new s(0,0,0),e.currentEulerAngles=new s(0,0,0),e.isFastForward=!1,e.elapsedInterpolationTime=0,e.interpolationDuration=.5,e}e(n,t);var i=n.prototype;return i.start=function(){var t;this.isFastForward=!1,this.tapDetector=this.node.getChildByName("base").getComponent(l),null==(t=this.node)||null==(t=t.getComponent(u))||t.setInitHiddenSlotsStartWith("F_")},i.setFinalPosition=function(t){this.finalDestination=new s(t.x,t.y,0)},i.adjustAngle=function(t,e,n,i){for(var s=e-t;s>180;)s-=360;for(;s<-180;)s+=360;var o=n*i(Math.abs(s)/180),r=Math.min(o,Math.abs(s));return s<0?t-r:t+r},i.update=function(t){if(this.isFastForward);else if(this.node){this.startPosition=this.node.getPosition(),s.lerp(this.startPosition,this.startPosition,this.targetPosition,.12),this.node.setPosition(this.startPosition);var e=this.adjustAngle(this.currentEulerAngles.z,this.targetEulerAngles.z,15,(function(t){return Math.sin(t*Math.PI/2)}));this.currentEulerAngles.z=e,this.node.setRotationFromEuler(this.currentEulerAngles)}},i.normalizeAngle=function(t){return(t+360)%360},i.disableLaser=function(){var t;null!=(t=this.tapDetector)&&t.isLaserActive&&(r.gunManager.selfGun.deactivateLaser(),h.getInstance().fireEventToServer(a.DEACTIVATE_LASER),c.isLaserActive=!1,this.tapDetector.isLaserActive=!1)},i.startFreezeEffect=function(){var t;null==(t=this.node)||null==(t=t.getComponent(u))||t.showSlotsStartWith("F_",1.5)},i.stopFreezeEffect=function(){var t;null==(t=this.node)||null==(t=t.getComponent(u))||t.hideSlotsStartWith("F_",1.5)},i.interpolateAngle=function(t,e,n){return Math.abs(e-t)>180&&(e>t?t+=360:e+=360),t+(e-t)*n},n}(o))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/FishBonusGamePopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameModel.ts","./FishSoundManager.ts"],(function(n){var i,t,e,o,a,r,s,l,u,m,c,p,h,d,g;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){s=n.cclegacy,l=n._decorator,u=n.Label,m=n.sp,c=n.AudioClip,p=n.Button,h=n.Component},function(n){d=n.GameModel},function(n){g=n.FishSoundManager}],execute:function(){var A,f,b,S,B,w,y,N,v,k,M,P,L,C,F,G,_,z,T,x,U,E,O,W,D,I,V,R,j;s._RF.push({},"8a807cIB7pNhruZj+bcvJ7U","FishBonusGamePopUp",void 0);var H,J=l.ccclass,Z=l.property,q=n("BonusPopUpType",function(n){return n[n.BonusCongPopUp=0]="BonusCongPopUp",n}({}));n("FishBonusGamePopUp",(A=J("FishBonusGamePopUp"),f=Z(u),b=Z(m.Skeleton),S=Z(String),B=Z(String),w=Z(String),y=Z(String),N=Z(String),v=Z(String),k=Z(c),M=Z(c),P=Z(c),L=Z(c),C=Z(p),A((_=i((G=function(n){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=n.call.apply(n,[this].concat(a))||this,e(i,"label",_,o(i)),e(i,"skeletonAnim",z,o(i)),e(i,"startAnimName",T,o(i)),e(i,"LoopAnimName",x,o(i)),e(i,"EndAnimName",U,o(i)),e(i,"freeShotsStartAnimName",E,o(i)),e(i,"freeShotsLoopAnimName",O,o(i)),e(i,"freeShotsEndAnimName",W,o(i)),e(i,"inAudioClip",D,o(i)),e(i,"inAudioClip2",I,o(i)),e(i,"loopAudioClip",V,o(i)),e(i,"outAudioClip",R,o(i)),e(i,"collectBtn",j,o(i)),i.winPoints=0,i.isBonusGameTrigger=!1,i.bonusTimeout=void 0,i.enterAnimName="",i.loopAnimName="",i.exitAnimName="",i.spineAnimParentPath="",i.type=null,i.amt=null,i.isGameManager=void 0,i.isSound=void 0,i}t(i,n);var s=i.prototype;return s.onLoad=function(){this.enterAnimName=this.startAnimName.toString(),this.loopAnimName=this.LoopAnimName.toString(),this.exitAnimName=this.EndAnimName.toString()},s.start=function(){H=d.multipleFishGameManager.getFishSound()},s.init=function(n,i,t){void 0===t&&(t=!0),console.log("winAmt, type, Token: boolean = true :",n,i,t),this.collectBtn&&(this.collectBtn.node.active=!1,this.collectBtn.interactable=!1),this.node.active=!0,t?(this.isSound=!1,this.enterAnimName=this.startAnimName.toString(),this.loopAnimName=this.LoopAnimName.toString(),this.exitAnimName=this.EndAnimName.toString()):(this.isSound=!0,this.enterAnimName=this.freeShotsStartAnimName.toString(),this.loopAnimName=this.freeShotsLoopAnimName.toString(),this.exitAnimName=this.freeShotsEndAnimName.toString()),this.label.string=n.toFixed(2),this.labelStringAnim(this.label,n,0),this.skeletonAnim.enabled=!1,this.amt=n,this.type=i,this.startBigWinAnim(),this.collectBtn&&(this.collectBtn.interactable=!0)},s.startBigWinAnim=function(){this.skeletonAnim.setSkin("default"),this.skeletonAnim.node.active=!1,this.skeletonAnim.node.active=!0,this.skeletonAnim.enabled=!1,this.skeletonAnim.enabled=!0;this.spineAnimParentPath;this.startEnterAnim(),this.playInSound()},s.startEnterAnim=function(){var n=this,i=this.enterAnimName;this.skeletonAnim.setAnimation(0,i,!1);var t=this.skeletonAnim.findAnimation(i).duration;console.log("enterAnimDuration : ",t),this.skeletonAnim.enabled=!0,this.collectBtn&&(this.collectBtn.node.active=!1,this.collectBtn.interactable=!0),this.scheduleOnce((function(){n.startLoopAnim(),n.playLoopSound()}),t)},s.startLoopAnim=function(){var n=this,i=this.loopAnimName;this.skeletonAnim.setAnimation(0,i,!0);var t=this.skeletonAnim.findAnimation(i).duration;if(this.collectBtn&&(this.collectBtn.node.active=!0,this.collectBtn.interactable=!0),this.skeletonAnim.enabled=!0,console.log("loopAnimDuration : ",t),this.type===q.BonusCongPopUp)return this.isBonusGameTrigger=!0,this.scheduleOnce((function(){}),2),void(this.bonusTimeout=setTimeout((function(){n.automationForBonusGame(),window.audioManager.bonusBackgroundSoundVolume=0}),15e3));this.scheduleOnce((function(){n.stopLoopAnim(),n.playOutSound()}),t)},s.automationForBonusGame=function(){var n=a(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.stopLoopAnim();case 1:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),s.onCollect=function(){clearTimeout(this.bonusTimeout),this.stopLoopAnim(),d.multipleFishGameManager.isBonusGameActive=!1,this.isBonusGameTrigger=!1,console.log("collect"),this.scheduleOnce((function(){d.gunManager.getSelfGun()&&d.gunManager.getSelfGun().getSessionId()==d.gunManager.mysessionId&&(window.audioManager.bonusBackgroundSoundVolume=0,window.audioManager.stopMusic(),window.audioManager.stopSound(),d.multipleFishGameManager.isRandomWaveActive?(window.audioManager.backgroundSoundVolume=.8,window.audioManager.bannerSoundVolume=1,g.startBaseBgSound(H.Bg1)):(window.audioManager.backgroundSoundVolume=.8,window.audioManager.bannerSoundVolume=1,g.startBaseBgSound(H.Bg2)))}),.5)},s.stopLoopAnim=function(){this.collectBtn&&(this.collectBtn.node.active=!1,this.collectBtn.interactable=!1);var n=this.exitAnimName;this.skeletonAnim.setAnimation(0,n,!1);var i=this.skeletonAnim.findAnimation(n).duration;console.log("stopAnimDuration : ",i),this.skeletonAnim.enabled=!0,this.scheduleOnce((function(){console.log("stopAnim")}),i)},s.playInSound=function(){this.type===q.BonusCongPopUp&&(console.log("play sound"),this.inAudioClip&&1==this.isSound&&window.audioManager.playFishDestroy(this.inAudioClip),this.inAudioClip2&&0==this.isSound&&window.audioManager.playFishDestroy(this.inAudioClip2))},s.playLoopSound=function(){},s.playOutSound=function(){},s.labelStringAnim=function(n,i,t){var e=.05,o=42;Math.floor(i)>2&&(e=.05*Math.floor(i),o=35),this.winPoints=t+i;var a=this,r=0,s=a.schedule((function(){if(r+=1,t>=a.winPoints-e||r>=o-1)return Math.floor(a.winPoints)==a.winPoints?(n.string=a.winPoints.toString(),void a.unschedule(s)):(n.string=a.winPoints.toFixed(2),void a.unschedule(s));n.string=(t+e).toFixed(2),t+=e}),.06,o)},i}(h)).prototype,"label",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(G.prototype,"skeletonAnim",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(G.prototype,"startAnimName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Big_Win_In"}}),x=i(G.prototype,"LoopAnimName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Big_Win_Loop"}}),U=i(G.prototype,"EndAnimName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Big_Win_Out"}}),E=i(G.prototype,"freeShotsStartAnimName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Big_Win_In"}}),O=i(G.prototype,"freeShotsLoopAnimName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Big_Win_Loop"}}),W=i(G.prototype,"freeShotsEndAnimName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Big_Win_Out"}}),D=i(G.prototype,"inAudioClip",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(G.prototype,"inAudioClip2",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(G.prototype,"loopAudioClip",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(G.prototype,"outAudioClip",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(G.prototype,"collectBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=G))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/FishEndSessionPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishSoundManager.ts","./GameModel.ts","./Fish_Server_Event_Manager.ts","./CommonConstants.ts"],(function(n){var e,t,o,r,i,a,s,c,u,l,p,d,f,h,m,w,v;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized,i=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){s=n.cclegacy,c=n._decorator,u=n.Label,l=n.AudioClip,p=n.tween,d=n.Vec3,f=n.Component},function(n){h=n.FishSoundManager},function(n){m=n.GameModel},function(n){w=n.Fish_Server_Event_Manager},function(n){v=n.HOME_URL}],execute:function(){var g,S,y,F,P,_,b;s._RF.push({},"3c8f9ObjMxPt4TY9PpPEJjP","FishEndSessionPopUp",void 0);var M,C=c.ccclass,E=c.property;n("FishEndSessionPopUp",(g=C("FishEndSessionPopUp"),S=E(u),y=E(l),g((_=e((P=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i))||this,o(e,"SessionPopUpTimer",_,r(e)),o(e,"audioSource",b,r(e)),e.timer=15,e.myInterval=void 0,e}t(e,n);var s=e.prototype;return s.onLoad=function(){M=m.multipleFishGameManager.getFishSound()},s.start=function(){},s.onNoBtn=function(){h.startClickSound(M.GeneralClick),this.setZoomOut(),h.startClickSound(M.Hamburger_C)},s.onYesBtn=function(){var n=i(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:w.getInstance().leaveGame(),window.parent&&window.parent.parent?window.parent.parent.location.href=v:window.parent?window.parent.location.href=v:window.location.href=v;case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s.releaseBundle=function(){},s.setZoomOut=function(){var n=this;p(this.node.getChildByName("UI")).to(.3,{scale:new d(0,0,0)},{easing:"backIn"}).call((function(){n.node.active=!1})).start()},e}(f)).prototype,"SessionPopUpTimer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(P.prototype,"audioSource",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=P))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/FishManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HelperTools.ts"],(function(e){var n,i,t,r,o,s,a,l,u,c,h,f,p,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,u=e.Node,c=e.Prefab,h=e.Component,f=e.sp,p=e.tween},function(e){d=e.HelperTools}],execute:function(){var b,y,C,F,g,m,v,w,A,z,D,M,L;a._RF.push({},"5303fMI4NFKf4wyUd62Lj31","FishManager",void 0);var P=l.ccclass,T=l.property;e("FishManager",(b=P("FishManager"),y=T(u),C=T(u),F=T(u),g=T(u),m=T(c),b((A=n((w=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,t(n,"fishContainer",A,r(n)),t(n,"bossFishContainer",z,r(n)),t(n,"summonFishContainer",D,r(n)),t(n,"bulletContainer",M,r(n)),t(n,"fishPrefabs",L,r(n)),n.isAllFishesGeneratedInitially=!1,n.initialFishCounter=0,n.fishData=void 0,n}i(n,e);var a=n.prototype;return a.onLoad=function(){},a.start=function(){this.fishContainer&&this.fishContainer.destroyAllChildren(),this.bossFishContainer&&this.bossFishContainer.destroyAllChildren()},a.destroyAllFishes=function(){this.fishContainer&&this.fishContainer.destroyAllChildren(),this.bossFishContainer&&this.bossFishContainer.destroyAllChildren()},a.destroyFish=function(){var e=o(s().mark((function e(n,i){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===i&&(i=!1),i&&n&&n.node?(n.disableLaser(),(t=n.node.getComponent(f.Skeleton))&&(t.setAnimation(0,"Die",!1),p(null==n?void 0:n.node).delay(d.getSpineAnimationDuration(t.node,"Die")).call((function(){n.node.destroy()})).start())):n&&n.node&&n.node.destroy();case 2:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),n}(h)).prototype,"fishContainer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(w.prototype,"bossFishContainer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(w.prototype,"summonFishContainer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(w.prototype,"bulletContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(w.prototype,"fishPrefabs",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=w))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/FishPopUpManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameModel.ts","./FishSoundManager.ts","./PlayerDataModel.ts"],(function(t){var n,e,i,o,a,r,l,s,u,c,p,h,d,f,P,v,m,b,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Prefab,s=t.Node,u=t.SpriteFrame,c=t.Label,p=t.Sprite,h=t.Button,d=t.tween,f=t.Vec3,P=t.instantiate,v=t.Component},function(t){m=t.GameModel},function(t){b=t.FishSoundManager},function(t){g=t.PlayerDataModel}],execute:function(){var w,B,C,S,y,z,I,U,M,O,R,E,F,k,x,L,W,G,D,N,_;a._RF.push({},"a9068qR+JNIYo8bglMvzHxo","FishPopUpManager",void 0);var H,A,T=r.ccclass,j=r.property;t("FishPopUpManager",(w=T("FishPopUpManager"),B=j(l),C=j(s),S=j(s),y=j(s),z=j(s),I=j(u),U=j(c),M=j(s),O=j(l),w((F=n((E=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"endSessionPrefab",F,o(n)),i(n,"popUpButtonPanel",k,o(n)),i(n,"infoPopUp",x,o(n)),i(n,"arrowButton",L,o(n)),i(n,"invitePanel",W,o(n)),i(n,"soundBtnSprite",G,o(n)),i(n,"inviteCodeLabel",D,o(n)),i(n,"soundBtn",N,o(n)),i(n,"musicPopup",_,o(n)),n.isButtonPanelOpen=!1,n.soundBtnSpriteIndex=0,n.uiPanelWidth=460,n.privateRoom=!1,n.arrowRotation=1,n.inviteCode="VELBZG",n.isInviteEnable=!0,n.isPrizePanelShowed=!1,n}e(n,t);var a=n.prototype;return a.onLoad=function(){var t;H=null==(t=m.multipleFishGameManager)?void 0:t.getFishSound(),A=m.multipleFishGameManager.getUiPannelWidth(),this.uiPanelWidth=A[0],this.setIntialysoundBtn()},a.setIntialysoundBtn=function(){window.audioManager.isSoundOn?this.soundBtnSpriteIndex=0:this.soundBtnSpriteIndex=1,this.soundBtn.getComponent(p).spriteFrame=this.soundBtnSprite[this.soundBtnSpriteIndex]},a.start=function(){var t=this;window.addEventListener("orientationchange",(function(){t.resetUiPanel()}),!1),window.addEventListener("resize",(function(){t.resetUiPanel()}),!1),g.isPrivateRoom?(this.uiPanelWidth=A[1],this.setPrivateRoomData()):(this.arrowButton.parent.getChildByName("invite").getComponent(h).interactable=!1,this.arrowButton.parent.getChildByName("invite").getComponent(p).enabled=!1)},a.onArrowClick=function(){var t=this;this.arrowButton.getComponent(h).interactable=!1,b.startClickSound(H.GeneralClick);var n=this;this.uiPanelWidth=-1*this.uiPanelWidth,this.arrowRotation=-1*this.arrowRotation;var e=this.popUpButtonPanel.getPosition();this.invitePanel.active&&this.zoomOutEffect(this.invitePanel),d(this.popUpButtonPanel).to(.5,{position:new f(e.x+n.uiPanelWidth,e.y,e.z)},{easing:"smooth"}).call((function(){n.isButtonPanelOpen=!n.isButtonPanelOpen,n.arrowButton.setScale(t.arrowRotation,1,1),t.arrowButton.getComponent(h).interactable=!0})).start()},a.resetUiPanel=function(){console.log("Reset UI Panel");var t=this;t.isButtonPanelOpen&&(console.log("UI Panel Open"),this.invitePanel.active&&this.zoomOutEffect(this.invitePanel),t.uiPanelWidth=-1*t.uiPanelWidth,t.arrowRotation=-1*t.arrowRotation,t.isButtonPanelOpen=!t.isButtonPanelOpen,t.arrowButton.setScale(t.arrowRotation,-1,-1),t.arrowButton.getComponent(h).interactable=!0)},a.onFishInfo=function(){b.startClickSound(H.GeneralClick);var t=this.infoPopUp.getChildByName("MainParent");this.infoPopUp.active=!0,this.zoomInEffect(t),this.scheduleOnce((function(){b.startClickSound(H.MenuPopup_O)}),.15)},a.onSoundBtn=function(){var t=P(this.musicPopup);this.node.addChild(t)},a.onHomeBtn=function(){b.startClickSound(H.GeneralClick);var t=P(this.endSessionPrefab);this.node.addChild(t);var n=t.getChildByName("UI");this.zoomInEffect(n),this.scheduleOnce((function(){b.startClickSound(H.Hamburger_O)}),.05)},a.onInviteBtn=function(){b.startClickSound(H.GeneralClick),this.invitePanel.active?this.zoomOutEffect(this.invitePanel):(this.invitePanel.active=!0,this.zoomInEffect(this.invitePanel))},a.setPrivateRoomData=function(){this.inviteCodeLabel.string=g.privateRoomCode.toString()},a.onInviteCodeCopy=function(){navigator.clipboard.writeText(g.privateRoomCode).then((function(){alert("Text copied to clipboard!")})).catch((function(t){console.error("Copy to clipboard failed:",t)}))},a.onInviteCodeShare=function(){var t=this;if(this.isInviteEnable){this.isInviteEnable=!1;navigator.share({title:"BoomWin",text:" has sent you an invitation code to join the "}),this.scheduleOnce((function(){t.isInviteEnable=!0}),1)}},a.zoomInEffect=function(t){t.setScale(new f(0)),d(t).to(.3,{scale:new f(1.2,1.2,1.2)},{easing:"smooth"}).to(.1,{scale:new f(1,1,1)},{easing:"smooth"}).start()},a.zoomOutEffect=function(t){d(t).to(.1,{scale:new f(1.1,1.1,1.1)},{easing:"smooth"}).to(.1,{scale:new f(0,0,0)},{easing:"smooth"}).call((function(){t.active=!1})).start()},a.handlePosNotificationClickAction=function(){},a.update=function(t){},n}(v)).prototype,"endSessionPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(E.prototype,"popUpButtonPanel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(E.prototype,"infoPopUp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(E.prototype,"arrowButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(E.prototype,"invitePanel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(E.prototype,"soundBtnSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(E.prototype,"inviteCodeLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(E.prototype,"soundBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(E.prototype,"musicPopup",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=E))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/FishPopUpType.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,r,t,o,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){t=e.cclegacy,o=e._decorator,p=e.Node}],execute:function(){var n,c,u,s,l,a,f;t._RF.push({},"f7c08gcGrpHg7/bIUIV/sAM","FishPopUpType",void 0);var y=o.ccclass,h=o.property;e("FishPopUpType",(n=y("FishPopUpType"),c=h(String),u=h(p),n((a=i((l=function(){r(this,"code",a,this),r(this,"winPopup",f,this)}).prototype,"code",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=i(l.prototype,"winPopup",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=l))||s));t._RF.pop()}}}));

System.register("chunks:///_virtual/FishSoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var i,n,a,u,e,t,d,r;return{setters:[function(o){i=o.applyDecoratedDescriptor,n=o.inheritsLoose,a=o.initializerDefineProperty,u=o.assertThisInitialized},function(o){e=o.cclegacy,t=o._decorator,d=o.AudioClip,r=o.Component}],execute:function(){var s,h,f,c,p,l;e._RF.push({},"d91b9ic+wBGA4CTyo6poBxo","FishSoundManager",void 0);var w=t.ccclass,g=t.property;o("FishSoundManager",(s=w("FishSoundManager"),h=g(d),s(((l=function(o){function i(){for(var i,n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return i=o.call.apply(o,[this].concat(e))||this,a(i,"fishAudio",p,u(i)),i}return n(i,o),i.prototype.onLoad=function(){i.fishAudios=this.fishAudio},i.startBaseBgSound=function(o){window.audioManager.playBgSound(this.fishAudios[o])},i.startBonusBgSound=function(o){window.audioManager.playBonusBgSound(this.fishAudios[o])},i.startFeatureSound=function(o,i){window.audioManager.playBannerFeatureSound(this.fishAudios[o]),window.audioManager.isSoundOn&&(window.audioManager.featuresSoundNode.setLoop(i),window.audioManager.featuresSoundNode.play())},i.startWaveFeatureSound=function(o){window.audioManager.playBannerFeatureSound(this.fishAudios[o]),window.audioManager.isSoundOn&&(window.audioManager.featuresSoundNode.setLoop(!0),window.audioManager.featuresSoundNode.play())},i.startFireFeatureSound=function(o,i){window.audioManager.playFishLaserSound(this.fishAudios[o],i)},i.featureSoundStop=function(o){window.audioManager.fishClipSoundStop(this.fishAudios[o])},i.startClickSound=function(o){window.audioManager.playBtnClickSound(this.fishAudios[o])},i.startFishClickSound=function(o){window.audioManager.playFishDestroy(this.fishAudios[o])},i.WraponChangeClickSound=function(o){window.audioManager.WraponChangeSound(this.fishAudios[o])},i}(r)).fishAudios=[],p=i((c=l).prototype,"fishAudio",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=c))||f));e._RF.pop()}}}));

System.register("chunks:///_virtual/FishWinPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./CommonConstants.ts","./GameModel.ts"],(function(n){var i,t,e,o,a,s,u,r,l,c,m,p,d,h,A,g;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){u=n.cclegacy,r=n._decorator,l=n.sp,c=n.Node,m=n.AudioClip,p=n.Button,d=n.Component},function(n){h=n.default},function(n){A=n.FishGameEvents},function(n){g=n.GameModel}],execute:function(){var f,b,B,y,S,v,w,k,G,M,N,T,I,C,L,_,F,z,O,W,D,P,E;u._RF.push({},"981cdZp64FK2LCQehbHVu1g","FishWinPopUp",void 0);var U=r.ccclass,x=r.property;n("FishWinPopUp",(f=U("FishWinPopUp"),b=x(l.Skeleton),B=x(c),y=x(String),S=x(String),v=x(String),w=x(m),k=x(m),G=x(m),M=x(p),N=x(Boolean),f((C=i((I=function(n){function i(){for(var i,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return i=n.call.apply(n,[this].concat(a))||this,e(i,"skeletonAnim",C,o(i)),e(i,"blackBG",L,o(i)),e(i,"startAnimName",_,o(i)),e(i,"LoopAnimName",F,o(i)),e(i,"EndAnimName",z,o(i)),e(i,"inAudioClip",O,o(i)),e(i,"loopAudioClip",W,o(i)),e(i,"outAudioClip",D,o(i)),e(i,"collectBtn",P,o(i)),e(i,"isBonusGame",E,o(i)),i.getInfo="",i.isBonusGameTrigger=!1,i.bonusTimeout=void 0,i.enterAnimName="",i.loopAnimName="",i.exitAnimName="",i.spineAnimParentPath="",i.amt=null,i}t(i,n);var u=i.prototype;return u.start=function(){},u.onLoad=function(){this.enterAnimName=this.startAnimName.toString(),this.loopAnimName=this.LoopAnimName.toString(),this.exitAnimName=this.EndAnimName.toString()},u.init=function(n){void 0===n&&(n=""),this.blackBG.active||(console.log("showWinPopup:init "),this.blackBG.active=!0,this.skeletonAnim.enabled=!1,this.getInfo=n,this.startBigWinAnim(),this.collectBtn&&(this.collectBtn.interactable=!0,this.collectBtn.node.active=!1))},u.startBigWinAnim=function(){this.isBonusGameTrigger=!1,this.skeletonAnim.setSkin("default"),this.skeletonAnim.node.active=!1,this.skeletonAnim.node.active=!0,this.skeletonAnim.enabled=!1,this.skeletonAnim.enabled=!0,this.startEnterAnim(),this.playInSound()},u.startEnterAnim=function(){var n=this;this.playInSound();var i=this.enterAnimName;this.skeletonAnim.setAnimation(0,i,!1),console.log("Animation Name : ",i);var t=this.skeletonAnim.findAnimation(i).duration;console.log("enterAnimDuration : ",t),this.skeletonAnim.enabled=!0,this.collectBtn&&(this.collectBtn.node.active=!1),this.scheduleOnce((function(){n.startLoopAnim(),n.playLoopSound()}),t)},u.startLoopAnim=function(){var n=this,i=this.loopAnimName;this.skeletonAnim.setAnimation(0,i,!0);var t=this.skeletonAnim.findAnimation(i).duration;if(this.collectBtn&&(this.collectBtn.node.active=!0),this.skeletonAnim.enabled=!0,console.log("loopAnimDuration : ",t),!0===this.isBonusGame)return this.isBonusGameTrigger=!0,void(this.bonusTimeout=setTimeout((function(){n.automationForBonusGame()}),45e3));this.scheduleOnce((function(){n.stopLoopAnim(),n.playOutSound()}),t)},u.startBonusGame=function(){g.multipleFishGameManager.isBonusGameActive=!0,clearTimeout(this.bonusTimeout),this.collectBtn&&(this.collectBtn.interactable=!1,this.collectBtn.node.active=!1),h.getDispatcher().emit(A.FISH_BONUS_GAME_START,this.getInfo),this.stopLoopAnim(),this.playOutSound(),window.audioManager.stopMusic(),window.audioManager.stopSound(),window.audioManager.backgroundSoundVolume=0,window.audioManager.bannerSoundVolume=0},u.automationForBonusGame=function(){var n=a(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.scheduleOnce((function(){h.getDispatcher().emit(A.FISH_GAME_AUTOMATION)}),.5),this.stopLoopAnim();case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),u.stopLoopAnim=function(){var n=this,i=this.exitAnimName;this.skeletonAnim.setAnimation(0,i,!1);var t=this.skeletonAnim.findAnimation(i).duration;console.log("stopAnimDuration : ",t),this.skeletonAnim.enabled=!0,this.scheduleOnce((function(){window.audioManager.featuresSoundNode.stop(),n.node.active=!1,n.blackBG.active=!1,console.log("Win Pop Up Finish")}),t)},u.playInSound=function(){this.inAudioClip&&g.gunManager.getSelfGun().getSessionId()==g.gunManager.mysessionId&&window.audioManager.playAnticipationSound(this.inAudioClip,!1)},u.playLoopSound=function(){this.loopAudioClip&&g.gunManager.getSelfGun().getSessionId()==g.gunManager.mysessionId&&window.audioManager.playAnticipationSound(this.loopAudioClip,!0)},u.playOutSound=function(){this.outAudioClip&&g.gunManager.getSelfGun().getSessionId()==g.gunManager.mysessionId&&window.audioManager.playAnticipationSound(this.outAudioClip,!1)},u.onclick=function(){console.log("Bonus Triggered "+this.getInfo)},u.update=function(n){},u.onDestroy=function(){this.bonusTimeout&&clearTimeout(this.bonusTimeout)},u.onDisable=function(){this.bonusTimeout&&clearTimeout(this.bonusTimeout)},i}(d)).prototype,"skeletonAnim",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(I.prototype,"blackBG",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(I.prototype,"startAnimName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Big_Win_In"}}),F=i(I.prototype,"LoopAnimName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Big_Win_Loop"}}),z=i(I.prototype,"EndAnimName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Big_Win_Out"}}),O=i(I.prototype,"inAudioClip",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(I.prototype,"loopAudioClip",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(I.prototype,"outAudioClip",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(I.prototype,"collectBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(I.prototype,"isBonusGame",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=I))||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/FishWinPopUpProperty.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishWinPopUp.ts","./FishPopUpType.ts"],(function(o){var n,i,t,e,p,r,s,c,u,a,l,h;return{setters:[function(o){n=o.applyDecoratedDescriptor,i=o.inheritsLoose,t=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){p=o.cclegacy,r=o._decorator,s=o.input,c=o.Input,u=o.KeyCode,a=o.Component},function(o){l=o.FishWinPopUp},function(o){h=o.FishPopUpType}],execute:function(){var P,y,f,W,v;p._RF.push({},"21e43TnwO1AoIn24aX0wUtX","FishWinPopUpProperty",void 0);var w=r.ccclass,d=r.property;o("FishWinPopUpProperty",(P=w("FishWinPopUpProperty"),y=d(h),P((v=n((W=function(o){function n(){for(var n,i=arguments.length,p=new Array(i),r=0;r<i;r++)p[r]=arguments[r];return n=o.call.apply(o,[this].concat(p))||this,t(n,"WinPopup",v,e(n)),n.Count=0,n}i(n,o);var p=n.prototype;return p.startKeyEvent=function(o){console.log("startKeyEvent"),s.on(c.EventType.KEY_DOWN,this.onKeyDown,this)},p.onKeyDown=function(o){switch(o.keyCode){case u.KEY_A:this.init("TBZ")}},p.init=function(o){console.log("win popup code ",o,this.WinPopup);for(var n=0;n<this.WinPopup.length;n++){var i=this.WinPopup[n];o===i.code&&(console.log("WinPopupCode: ",o),this.showWinPopup(i.winPopup,o))}},p.showWinPopup=function(o,n){void 0===n&&(n=""),console.log("showWinPopup: ",n,o.active),o.active=!0,o.getComponent(l).init(n)},n}(a)).prototype,"WinPopup",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=W))||f));p._RF.pop()}}}));

System.register("chunks:///_virtual/FloatingIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameModel.ts","./ClientData.ts","./TapDetector.ts","./PlayerDataModel.ts","./Fish_Server_Event_Manager.ts"],(function(t){var e,n,i,o,s,a,r,l,c,d,u,h,g,f,p,P,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Prefab,l=t.Node,c=t.sp,d=t.Vec3,u=t.instantiate,h=t.Component},function(t){g=t.GameModel},function(t){f=t.ClientEvents},function(t){p=t.TapDetector},function(t){P=t.PlayerDataModel},function(t){v=t.Fish_Server_Event_Manager}],execute:function(){var y,b,A,M,w,I,T,D,F;s._RF.push({},"b8e1bkLjr1HUr1+cd9sG6gy","FloatingIcon",void 0);var E=a.ccclass,m=a.property;t("FloatingIcon",(y=E("FloatingIcon"),b=m(r),A=m(l),M=m(c.Skeleton),y((T=e((I=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"iconPrefabs",T,o(e)),i(e,"iconParent",D,o(e)),i(e,"skeltonBody",F,o(e)),e.iconType=void 0,e.iconNodeTapDetector=void 0,e.sessionId=null,e.finalDestination=new d(0,0,0),e.startPosition=new d(0,0,0),e.targetPosition=new d(0,0,0),e.targetEulerAngles=new d(0,0,0),e.currentEulerAngles=new d(0,0,0),e.isFastForward=!1,e.needUpdateAngle=!1,e}n(e,t);var s=e.prototype;return s.onLoad=function(){},s.updatePosition=function(t){this.targetPosition=new d(t.x,t.y,0)},s.setIconType=function(t){this.iconType=t,g.floatingObjectManager.isUpdateInvertedIconAccordingToView(this.iconType,this.node).angle>0&&(this.needUpdateAngle=!0);var e=u(this.iconPrefabs[+this.iconType]);this.iconNodeTapDetector=e.getChildByName("base").getComponent(p),this.iconParent.addChild(e)},s.setFinalPosition=function(t){this.finalDestination=new d(t.x,t.y,0)},s.fastForwardIcon=function(){this.node&&(d.lerp(this.startPosition,this.startPosition,this.finalDestination,.08),this.node.setPosition(this.startPosition),d.distance(this.finalDestination,this.startPosition)<5&&(g.floatingObjectManager.iconNodesMap.delete(this.sessionId),g.floatingObjectManager.node.removeChild(this.node),this.node.destroy()))},s.updateAngle=function(t){var e=180/Math.PI*+t-90,n=g.floatingObjectManager.isUpdateInvertedIconAccordingToView(this.iconType,this.node);n.angle>0&&(e=n.angle+e,this.targetEulerAngles=new d(0,0,this.normalizeAngle(e)))},s.normalizeAngle=function(t){return(t+360)%360},s.disableLaser=function(){var t;null!=(t=this.iconNodeTapDetector)&&t.isLaserActive&&(g.gunManager.selfGun.deactivateLaser(),v.getInstance().fireEventToServer(f.DEACTIVATE_LASER),P.isLaserActive=!1,this.iconNodeTapDetector.isLaserActive=!1)},s.update=function(t){if(this.isFastForward)this.fastForwardIcon();else if(this.node&&(this.startPosition=this.node.getPosition(),d.lerp(this.startPosition,this.startPosition,this.targetPosition,.08),this.node.setPosition(this.startPosition),this.needUpdateAngle)){var e=this.adjustAngle(this.currentEulerAngles.z,this.targetEulerAngles.z,15,(function(t){return Math.sin(t*Math.PI/2)}));this.currentEulerAngles.z=e,this.node.setRotationFromEuler(this.currentEulerAngles)}},s.adjustAngle=function(t,e,n,i){for(var o=e-t;o>180;)o-=360;for(;o<-180;)o+=360;var s=n*i(Math.abs(o)/180),a=Math.min(s,Math.abs(o));return o<0?t-a:t+a},e}(h)).prototype,"iconPrefabs",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(I.prototype,"iconParent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(I.prototype,"skeltonBody",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=I))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/FloatingObjectManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FloatingIcon.ts","./FourPlayerViewManager.ts"],(function(n){var e,o,t,i,s,a,r,l,c,u,d,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,o=n.inheritsLoose,t=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){s=n.cclegacy,a=n._decorator,r=n.Prefab,l=n.instantiate,c=n.game,u=n.Component},function(n){d=n.FloatingIcon},function(n){p=n.FourPlayerViewEvent}],execute:function(){var f,h,g,y,v;s._RF.push({},"7caa9zW7sRIlpMCBkyvszkZ","FloatingObjectManager",void 0);var I=a.ccclass,M=a.property;n("FloatingObjectManager",(f=I("FloatingObjectManager"),h=M(r),f((v=e((y=function(n){function e(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return e=n.call.apply(n,[this].concat(s))||this,t(e,"iconPrefabs",v,i(e)),e.iconNodesMap=new Map,e}o(e,n);var s=e.prototype;return s.start=function(){var n;this.registerEvents(),this.node.children.forEach((function(n){null==n||n.destroy()})),null==(n=this.node)||n.destroyAllChildren()},s.registerEvents=function(){},s.onTouchStart=function(n){},s.onTouchMove=function(n){},s.onTouchEnd=function(n){},s.addFloatingIcon=function(n){if(!this.iconNodesMap.has(n.sessionId)){var e=l(this.iconPrefabs);e.setPosition(n.newPos),this.node.addChild(e);var o=e.getComponent(d);o.sessionId=n.sessionId,o.setIconType(n.iconType),this.iconNodesMap.set(n.sessionId,o),o.updatePosition(n.newPos),o.setFinalPosition(n.finalDestination),c.emit(p.ManageFloatingIcon,e)}},s.destroyIconComponent=function(n){var e,o,t;null==(e=this.node)||e.removeChild(n.node),null!=n&&null!=(o=n.node)&&o.isValid&&(null==n||null==(t=n.node)||t.destroy())},s.updateFloatingIcon=function(n){var e=this.iconNodesMap.get(n.sessionId);e&&(e.updatePosition(n.newPos),e.updateAngle(n.newAngle))},s.removeAllFloatableIcons=function(){var n;this.iconNodesMap.forEach((function(n){var e,o;null!=n&&null!=(e=n.node)&&e.isValid&&(null==n||null==(o=n.node)||o.destroy())})),this.node.children.forEach((function(n){null==n||n.destroy()})),null==(n=this.node)||n.destroyAllChildren()},s.getIconBySessionId=function(n){return this.iconNodesMap.get(n)},s.update=function(n){},e}(u)).prototype,"iconPrefabs",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/FortuneWheelPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wheelvalue.ts","./FishBonusGamePopUp.ts","./OCB_Constant.ts","./CommonConstants.ts","./CountDownTimer.ts","./FishSoundManager.ts"],(function(e){var t,n,i,o,r,a,u,l,s,h,c,m,p,f,g,d,b,T,v,w,y,R,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,u=e.Node,l=e.Label,s=e.Button,h=e.AudioClip,c=e.Animation,m=e.tween,p=e.instantiate,f=e.Vec3,g=e.v3,d=e.lerp,b=e.Component},function(e){T=e.WheelValue},function(e){v=e.FishBonusGamePopUp},function(e){w=e.SoundFiles},function(e){y=e.getRandomNumber},function(e){R=e.CountDownTimer},function(e){A=e.FishSoundManager}],execute:function(){var W,C,S,F,M,B,P,L,O,k,z,x,E,D,V,G,I,N,_,U,j,H,q,Z,J,K,Q,X;r._RF.push({},"60952yavq5LibjrgAkeBHSZ","FortuneWheelPrefab",void 0);var Y=a.ccclass,$=a.property,ee=e("BonusPopUpType",function(e){return e[e.BonusCongPopUp=0]="BonusCongPopUp",e}({}));e("FortuneWheelPrefab",(W=Y("FortuneWheelPrefab"),C=$({type:u}),S=$({type:u}),F=$(R),M=$(l),B=$(v),P=$(s),L=$(u),O=$(u),k=$(u),z=$(u),x=$(u),E=$(h),W(((X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"outerFortoneWheel",G,o(t)),i(t,"innerFortuneWheel",I,o(t)),i(t,"countTimer",N,o(t)),i(t,"bonusWinlabel",_,o(t)),i(t,"bonusgameP",U,o(t)),i(t,"btnClick",j,o(t)),i(t,"finishP",H,o(t)),i(t,"store",q,o(t)),i(t,"particle",Z,o(t)),i(t,"btnEffect",J,o(t)),i(t,"particle3",K,o(t)),i(t,"audioSource",Q,o(t)),t.winAmount=200,t.winTAmount=10,t.devideAmount=0,t.score=0,t.multiplierValue=0,t.innerResultAngle=0,t.innerStartAngle=0,t.innerLerpRotationTime=0,t.innerMaxRotationTime=6.5,t.outerResultAngle=0,t.outerStartAngle=0,t.outerLerpRotationTime=0,t.outerMaxRotationTime=9,t.winPoints=0,t.isInnerWheelRotating=!1,t.isOuterWheelRotating=!1,t.winLabelString="",t.Token=!0,t}n(t,e);var r=t.prototype;return r.start=function(){window.audioManager.bonusBackgroundSoundVolume=.8,A.startBonusBgSound(w.FortuneWheel_Bonus_BG)},r.onLoad=function(){t.instance=new t},r.init=function(){this.Token=!0,console.log(" this.winAmount =>"+this.winAmount,"this.Token",this.Token)},r.initGameStart=function(){this.init(),this.btnEffect.forEach((function(e){e.active=!0})),this.scoreDevide(),this.countTimer.initializeTime(120),this.subscribeEvents()},r.scoreDevide=function(){if(this.Token){var e=[2,4,6,8,10],t=this.multiplierValue=e[Math.floor(Math.random()*e.length)];this.multiplierValue=t,this.setOuterWheel(this.multiplierValue),this.particle3[2].getComponent(l).string=this.multiplierValue.toString()+"x",this.devideAmount=this.winAmount/t}else console.log(this.winAmount),this.multiplierValue=1,this.setOuterWheel(this.multiplierValue),this.particle3[2].getComponent(l).string=this.multiplierValue.toString()+"x",this.devideAmount=this.winAmount;this.setInnerWheel(this.devideAmount),this.particle3[1].getComponent(l).string=(Math.floor(100*this.devideAmount)/100).toString()},r.setInnerWheel=function(e){console.log("setWheelAmountData :",e);var t=[0,-30,-60,-90,-120,-150,-180,-210,-240,-270,-300,-330],n=t[Math.floor(Math.random()*t.length)];this.innerFortuneWheel.getComponent(T).setWinningAmount(e,n),this.innerFortuneWheel.getComponent(T).setData(),this.innerResultAngle=-(4320+n),this.outerLerpRotationTime=0},r.setOuterWheel=function(e){console.log("setWheelAmountData :",e);var t=[0,-30,-60,-90,-120,-150,-180,-210,-240,-270,-300,-330],n=t[Math.floor(Math.random()*t.length)];this.outerFortoneWheel.getChildByName("WinAmount").getComponent(T).setOWinningAmount(e,n),this.outerFortoneWheel.getChildByName("WinAmount").getComponent(T).setOData(),this.outerResultAngle=-(4320+n),this.innerLerpRotationTime=0},r.spinWheel=function(e){var t=this,n=e.target;n.getComponent(s).interactable=!1,this.node.getComponent(c).play("ParticleEffect1"),window.audioManager.playBtnClickSound(this.audioSource[2]),this.btnEffect.forEach((function(e){e.active=!1})),n.getChildByName("On").active=!1,n.getChildByName("Off").active=!0,this.innerLerpRotationTime=0,this.isInnerWheelRotating=!0,this.scheduleOnce((function(){t.isOuterWheelRotating=!0,window.audioManager.playBtnClickSound(t.audioSource[4])}),7.7)},r.GameOver=function(){this.countTimer.stopTimer(),this.unSubscribeEvents(),this.btnClick.interactable=!1,this.bonusgameP.init(this.winAmount,ee.BonusCongPopUp,this.Token)},r.subscribeEvents=function(){this.countTimer.node.on("TimerFinished",this.onTimerFinished,this)},r.unSubscribeEvents=function(){this.countTimer.node.off("TimerFinished",this.onTimerFinished,this)},r.onTimerFinished=function(){var e=this;m(this.node).delay(1).call((function(){e.scheduleOnce((function(){e.GameOver()}),.5)})).start()},r.particlePlay=function(e){var t=this;1==e?this.scheduleOnce((function(){t.particle.getComponent(c).play("demo")}),.3):2==e&&this.scheduleOnce((function(){window.audioManager.playBtnClickSound(t.audioSource[1]),t.node.getComponent(c).play("LabelAnim")}),1.1)},r.finishParticle=function(){var e=y(-2500,2500),t=y(10,360),n=p(this.finishP);this.store.addChild(n),n.position=new f(e,650,0),n.angle=t,m(n).by(3.5,{position:g(0,-4e3,0)}).start()},r.update=function(e){var t=this;if(this.initGameStart(),1==this.isInnerWheelRotating){this.innerMaxRotationTime=6.5,this.innerLerpRotationTime+=e,this.innerLerpRotationTime>this.innerMaxRotationTime&&(this.innerLerpRotationTime=this.innerMaxRotationTime,this.innerStartAngle=this.innerResultAngle%360,this.isInnerWheelRotating=!1);var n=this.innerLerpRotationTime/this.innerMaxRotationTime;n=n*n*n*(n*(6*n-15)+10);var i=d(this.innerStartAngle,this.innerResultAngle,n);this.innerFortuneWheel.eulerAngles=new f(0,0,i)}if(1==this.isOuterWheelRotating){this.outerMaxRotationTime=9,this.outerLerpRotationTime+=e,this.outerLerpRotationTime>this.outerMaxRotationTime&&(this.outerLerpRotationTime=this.outerMaxRotationTime,this.outerStartAngle=this.outerResultAngle%360,this.isOuterWheelRotating=!1,this.node.getComponent(c).play("LabelAnim2"),window.audioManager.playBtnClickSound(this.audioSource[3]),this.schedule(this.finishParticle,0,1/0,.8),this.scheduleOnce((function(){window.audioManager.playBtnClickSound(t.audioSource[0])}),.8),this.scheduleOnce((function(){t.GameOver()}),5),m(this.node).delay(21.5).call((function(){t.unschedule(t.finishParticle),t.store.children.forEach((function(e){e.active=!1}))})).start());var o=this.outerLerpRotationTime/this.outerMaxRotationTime;o=o*o*o*(o*(6*o-15)+10);var r=d(this.outerStartAngle,this.outerResultAngle,o);this.outerFortoneWheel.eulerAngles=new f(0,0,r),this.outerFortoneWheel.getChildByName("BlckMask").angle=-r}},t}(b)).instance=void 0,G=t((V=X).prototype,"outerFortoneWheel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(V.prototype,"innerFortuneWheel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(V.prototype,"countTimer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(V.prototype,"bonusWinlabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(V.prototype,"bonusgameP",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(V.prototype,"btnClick",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(V.prototype,"finishP",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(V.prototype,"store",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(V.prototype,"particle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(V.prototype,"btnEffect",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(V.prototype,"particle3",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(V.prototype,"audioSource",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=V))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/FourPlayerViewManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameModel.ts","./MultipleFishGameManager.ts"],(function(e){var n,t,a,i,o,l,r,s,g,h,u,c,y,p,d,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.Camera,s=e.Node,g=e.game,h=e.UITransform,u=e.Button,c=e.Vec3,y=e.view,p=e.Component},function(e){d=e.GameModel},function(e){m=e.GameTypes}],execute:function(){var f,B,I,C,b,N,P,v,M,F,w,R,G,E,S;o._RF.push({},"741552xos9GI4koTi72hB+Q","FourPlayerViewManager",void 0);var _=l.ccclass,V=l.property,x=e("FourPlayerViewEvent",function(e){return e.EnableFourPlayerView="view:enablefourplayerview",e.ManageFloatingIcon="view:manageFloatingIcon",e.ManageBoss="view:manageBoss",e.ManageSeaHorse="view:manageSeaHorse",e.ManageConnectingNode="view:manageConnectingNode",e}({}));e("FourPlayerViewManager",(f=_("FourPlayerViewManager"),B=V(r),I=V(s),C=V(s),b=V(s),N=V(s),P=V(s),f((F=n((M=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,a(n,"camera",F,i(n)),a(n,"playerInfo",w,i(n)),a(n,"laserButton",R,i(n)),a(n,"bgm",G,i(n)),a(n,"popUpManagerNode",E,i(n)),a(n,"connectingNode",S,i(n)),n}t(n,e);var o=n.prototype;return o.start=function(){g.on(x.EnableFourPlayerView,this.enableFourPlayerView,this),g.on(x.ManageFloatingIcon,this.manageFloatingIcon,this),g.on(x.ManageBoss,this.manageBossRotation,this),g.on(x.ManageSeaHorse,this.manageSheHorseRotation,this),g.on(x.ManageConnectingNode,this.manageConnectingNode,this)},o.enableFourPlayerView=function(){var e,n=null==(e=d.gunManager)||null==(e=e.selfGun)?void 0:e.getPlaceId();this.setIpadResolutationManage(),"3"==n||"2"==n?(this.camera.node.setRotationFromEuler(0,0,180),this.popUpManagerNode.setRotationFromEuler(0,0,180),this.playerInfo.children[0].getChildByName("bet_bar").setRotationFromEuler(0,0,180),this.playerInfo.children[0].getChildByName("PlayerInfoBG").setRotationFromEuler(0,0,180),this.playerInfo.children[0].getChildByName("PlayerInfoBG").getComponent(h).setAnchorPoint(.5,1),this.playerInfo.children[0].getChildByName("profileBtn").setRotationFromEuler(0,0,180),this.playerInfo.children[1].getChildByName("bet_bar").setRotationFromEuler(0,0,180),this.playerInfo.children[1].getChildByName("PlayerInfoBG").setRotationFromEuler(0,0,180),this.playerInfo.children[1].getChildByName("PlayerInfoBG").getComponent(h).setAnchorPoint(.5,1),this.playerInfo.children[1].getChildByName("profileBtn").setRotationFromEuler(0,0,180),this.laserButton.setPosition(this.laserButton.position.x,-this.laserButton.position.y,0),this.bgm.angle=-180):(this.playerInfo.children[2].getChildByName("bet_bar").setRotationFromEuler(0,0,0),this.playerInfo.children[2].getChildByName("PlayerInfoBG").setRotationFromEuler(0,0,0),this.playerInfo.children[2].getChildByName("PlayerInfoBG").getComponent(h).setAnchorPoint(.5,1),this.playerInfo.children[2].getChildByName("profileBtn").setRotationFromEuler(0,0,0),this.playerInfo.children[3].getChildByName("bet_bar").setRotationFromEuler(0,0,0),this.playerInfo.children[3].getChildByName("PlayerInfoBG").setRotationFromEuler(0,0,0),this.playerInfo.children[3].getChildByName("PlayerInfoBG").getComponent(h).setAnchorPoint(.5,1),this.playerInfo.children[3].getChildByName("profileBtn").setRotationFromEuler(0,0,0)),this.playerInfo.getChildByName(n).getChildByName("bet_bar").getChildByName("plus").active=!0,this.playerInfo.getChildByName(n).getChildByName("bet_bar").getChildByName("minus").active=!0;var t=d.effectsManager.gameType;t===m.OCB||t===m.SPCW||t===m.RPHNX?this.playerInfo.getChildByName(n).getChildByName("bet_bar").getChildByName("minus").getComponent(u).interactable=!1:t!==m.ZOMA&&t!==m.ULTD||(this.playerInfo.getChildByName(n).getChildByName("bet_bar").getChildByName("minus").getChildByName("minus").getComponent(u).interactable=!1),this.playerInfo.getChildByName(n).getChildByName("PlayerPosNotification").active=!0},o.update=function(e){},o.manageFloatingIcon=function(e){var n,t=null==(n=d.gunManager)||null==(n=n.selfGun)?void 0:n.getPlaceId();"3"!=t&&"2"!=t||(e.eulerAngles=new c(0,0,-180))},o.manageBossRotation=function(e){var n,t=null==(n=d.gunManager)||null==(n=n.selfGun)?void 0:n.getPlaceId();"3"!=t&&"2"!=t||(e.scale=new c(1*e.getScale().x,-1*e.getScale().y,1))},o.manageSheHorseRotation=function(e){var n,t=null==e?void 0:e.fish,a=e.right,i=e.left,o=null==(n=d.gunManager)||null==(n=n.selfGun)?void 0:n.getPlaceId();"3"!=o&&"2"!=o||(t.scale=new c(1*t.getScale().x,-1*Math.abs(t.getScale().y),1)),a&&(t.scale=new c(1*Math.abs(t.getScale().x),1*t.getScale().y,1)),i&&(t.scale=new c(-1*Math.abs(t.getScale().x),1*t.getScale().y,1))},o.manageConnectingNode=function(e){var n,t=null==(n=d.gunManager)||null==(n=n.selfGun)?void 0:n.getPlaceId();"3"!=t&&"2"!=t||(this.connectingNode.eulerAngles=new c(0,0,-180)),this.connectingNode.getChildByName("ConnectingLabel").active=!0},o.setIpadResolutationManage=function(){var e=y.getVisibleSize();if(e.height/e.width>=.73){console.log("Ipad resolution size manage");for(var n=0;n<this.playerInfo.children.length;n++){var t;this.playerInfo.children[n].setScale(.8,.8,.8);var a=this.playerInfo.children[n].getChildByName("PlayerInfoBG"),i=null==(t=this.playerInfo)||null==(t=t.children[n])?void 0:t.getChildByName("UserAvtar"),o=this.playerInfo.children[n].getChildByName("profileBtn");a.setPosition(.905*a.position.x,a.position.y,0),null==i||i.setPosition(.905*i.position.x,i.position.y,0),o.setPosition(.905*o.position.x,o.position.y,0)}}},o.getGunPosByPlaceID=function(e){return this.playerInfo.children[parseInt(e)].position},n}(p)).prototype,"camera",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(M.prototype,"playerInfo",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(M.prototype,"laserButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(M.prototype,"bgm",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(M.prototype,"popUpManagerNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(M.prototype,"connectingNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=M))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HelperTools.ts","./GunEvents.ts","./GameModel.ts","./ClientData.ts","./NetworkManager.ts","./GunBaseManager.ts","./UIManager.ts","./FourPlayerViewManager.ts","./EffectsManager.ts","./BulletEffectHandler.ts","./CommonConstants.ts","./CustomPopUp.ts","./EventManager.ts","./FishWinPopUpProperty.ts","./PlayerDataModel.ts","./Fish_Server_Event_Manager.ts"],(function(e){var n,t,a,s,o,i,r,l,u,c,g,p,h,d,f,m,E,M,I,T,S,y,v,G,P,D,w,b,_,C,B,N,A,R,k,O,F,U,L,x,z;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,l=e._decorator,u=e.Node,c=e.Prefab,g=e.game,p=e.sp,h=e.instantiate,d=e.v3,f=e.director,m=e.macro,E=e.tween,M=e.UIOpacity,I=e.Vec3,T=e.Component},function(e){S=e.HelperTools},function(e){y=e.GunEvent,v=e.BetTokenEvent},function(e){G=e.GameModel},function(e){P=e.FISH_ROOM_ERROR,D=e.ServerEvents,w=e.ClientEvents},function(e){b=e.NetworkManager},function(e){_=e.GunBaseManager},function(e){C=e.UIManager},function(e){B=e.FourPlayerViewEvent},function(e){N=e.EffectsManager},function(e){A=e.BulletEffectHandler},function(e){R=e.FishGameEvents,k=e.HOME_URL,O=e.CURRENCY_TYPES},function(e){F=e.CustomPopUp},function(e){U=e.default},function(e){L=e.FishWinPopUpProperty},function(e){x=e.PlayerDataModel},function(e){z=e.Fish_Server_Event_Manager}],execute:function(){var H,W,V,K,j,Y,Z,q,J,Q,X,$,ee,ne,te,ae,se,oe,ie,re,le,ue,ce,ge,pe,he,de;r._RF.push({},"6f95a+trVFDmJnWoRqBADAa","GameManager",void 0);var fe,me,Ee=l.ccclass,Me=l.property;e("GameManager",(H=Ee("GameManager"),W=Me(N),V=Me(u),K=Me(c),j=Me(u),Y=Me(u),Z=Me(_),q=Me(C),J=Me(c),Q=Me(c),X=Me(u),$=Me(u),ee=Me(c),H((ae=n((te=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,a(n,"effectsManager",ae,s(n)),a(n,"BGM",se,s(n)),a(n,"bonusGamePrefabs",oe,s(n)),a(n,"fishBonusGameNode",ie,s(n)),a(n,"fishBonusGameContainer",re,s(n)),a(n,"gunBaseManager",le,s(n)),a(n,"uiManager",ue,s(n)),a(n,"warningPopUp",ce,s(n)),a(n,"customPopUp",ge,s(n)),a(n,"connectingNode",pe,s(n)),a(n,"parentNode",he,s(n)),a(n,"bonusWinPopUp",de,s(n)),n.bulletEffectContainer=null,n.isConnectingNodeScheduled=!1,n.fishNodes=[],n.sessionId="",n.isConnected=!1,n.bonusGameComponent=void 0,n.isRandomWaveActive=!0,n.isBonusGameActive=!1,n.sessionTimeOutId=null,n.txtPlayers=null,n.txtMsg=null,n.txtRoomID=null,n.errorExisted=!1,n.isBaseToLobby=!1,n}t(n,e);var r=n.prototype;return r.onLoadGame=function(e){U.getDispatcher().on(P,this.fishRoomNotCreate,this),fe=e.GunType,me=e.FISH_BONUS_GAME},r.convertPrizeTokenBtnClick=function(){},r.startGame=function(){var e=this;return new Promise(o(i().mark((function n(t,a){var s,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.bonusGameComponent=e.fishBonusGameNode.getComponent(L),n.prev=1,n.next=4,b.getInstance().init();case 4:return o=n.sent,z.getInstance().setSocket(o),z.getInstance().registerServerEvents(),s=b.getInstance().initPlayer(),z.getInstance().fireEventToServer(w.JOIN,{playerData:s}),n.prev=9,console.log("this.txtRoomID.string 1: ",e.txtRoomID.string),console.log("this.txtRoomID.string 2: ",e.txtRoomID.string),e.registerEvents(),console.log("events registered : "),n.abrupt("return",t());case 17:return n.prev=17,n.t0=n.catch(9),window.parent.parent.postMessage('{"cocos_game_exit":"cocos_game_exit"}',"*"),window.parent&&window.parent.parent?window.parent.parent.location.href=k:window.parent?window.parent.location.href=k:window.location.href=k,n.abrupt("return",a(n.t0));case 22:n.next=28;break;case 24:return n.prev=24,n.t1=n.catch(1),console.error("Error joining room:",n.t1),n.abrupt("return",a(n.t1));case 28:case"end":return n.stop()}}),n,null,[[1,24],[9,17]])}))))},r.registerEvents=function(){U.getDispatcher().on(R.FISH_BONUS_GAME_START,this.startBonusGame,this),U.getDispatcher().on(R.FISH_BONUS_GAME_STOP,this.stopBonusGame,this),U.getDispatcher().on(R.FISH_GAME_SESSION_END,this.endGameSession,this),U.getDispatcher().on(R.CLOSE_FISH_EVENTS,this.endGameSession,this),U.getDispatcher().on(R.UPDATE_TOKEN,this.updateToken,this),U.getDispatcher().on(R.FISH_GAME_AUTOMATION,this.onBonusReward,this),g.on(y.SEND_GUN_ANGLE_TO_SERVER,this.sendGunAngleToServer,this),g.on(R.CLOSE_API_RESPONSE,this.closeBonusApiResponse,this),g.on(y.SHOOT_BULLET,this.fireBullet,this),g.on(v.SET_BET_TOKEN,this.setCurrentBetToken,this),U.getDispatcher().on(D.Client.JOIN,this.createClientSessionID,this),U.getDispatcher().on(D.Client.UPDATE_TOTAL_PLAYERS,this.updateTotalPlayers,this),U.getDispatcher().on(D.Client.UPDATE_MESSAGES,this.updateMessages,this),U.getDispatcher().on(D.Client.LEAVE,this.playerLeave,this),U.getDispatcher().on(D.Client.DESTROY_ALL_FLOATABLE_ICONS,this.removeAllFloatingObjects,this),U.getDispatcher().on(D.Alerts.EFFECT_ALERT,this.alertHandler,this),U.getDispatcher().on(D.Fish.SPAWN,this.fishNew,this),U.getDispatcher().on(D.Fish.SPAWN_SUMMON_FISH,this.fishNew,this),U.getDispatcher().on(D.Fish.SPAWN_BOSS,this.fishNew,this),U.getDispatcher().on(D.Fish.UPDATE,this.fishUpdate,this),U.getDispatcher().on(D.Fish.DESTROYED,this.fishDestroyed,this),U.getDispatcher().on(D.Fish.DESTROYED_ON_RESPONSE,this.fishDestroyedOnResponse,this),U.getDispatcher().on(D.Icon.SPAWN,this.floatingIconNew,this),U.getDispatcher().on(D.Icon.UPDATE,this.floatingIconUpdate,this),U.getDispatcher().on(D.Icon.DESTROYED,this.floatingDestroyed,this),U.getDispatcher().on(D.Bullet.SPAWN,this.bulletNew,this),U.getDispatcher().on(D.Bullet.UPDATE,this.bulletUpdate,this),U.getDispatcher().on(D.Bullet.DESTROYED_RESPONSE,this.bulletDestroyedResponse,this),U.getDispatcher().on(D.Effect.FREEZE,this.startFreezEffect,this),U.getDispatcher().on(D.Effect.SUMMON,this.startSummonEffect,this),U.getDispatcher().on(D.Effect.STOP_FREEZE,this.stopFreezEffect,this),U.getDispatcher().on(D.Gun.SHOW,this.showGun,this),U.getDispatcher().on(D.Gun.HIDE,this.hideGun,this),U.getDispatcher().on(D.Gun.CHANGE,this.updateGunType,this),U.getDispatcher().on(D.Gun.ACTIVATE_LASER,this.activateLaserGun,this),U.getDispatcher().on(D.Gun.DEACTIVATE_LASER,this.deactivateLaserGun,this),U.getDispatcher().on(D.Gun.UPDATE_LASER,this.updateLaserGun,this),U.getDispatcher().on(D.SetBetToken.SET_BET_TOKEN,this.updateBetToken,this),U.getDispatcher().on(D.SetPrizeToken.SET_PRIZE_TOKEN,this.updatePrizeToken,this),U.getDispatcher().on(D.SetUserToken.SET_USER_TOKEN,this.updateUserToken,this)},r.baseToLobby=function(){window.audioManager.stopMusic(),window.audioManager.stopSound(),A.clearInstance(),window.parent&&window.parent.parent?window.parent.parent.location.href=k:window.parent?window.parent.location.href=k:window.location.href=k},r.deRegisterEvents=function(){U.getDispatcher().off(R.FISH_BONUS_GAME_START,this.startBonusGame,this),U.getDispatcher().off(R.FISH_BONUS_GAME_STOP,this.stopBonusGame,this),U.getDispatcher().off(R.FISH_GAME_SESSION_END,this.endGameSession,this),U.getDispatcher().off(R.CLOSE_FISH_EVENTS,this.endGameSession,this),U.getDispatcher().off(R.FISH_GAME_AUTOMATION,this.onBonusReward,this),U.getDispatcher().off(R.UPDATE_TOKEN,this.updateToken,this),U.getDispatcher().off(P,this.fishRoomNotCreate,this)},r.onDestroy=function(){this.deRegisterEvents()},r.onDisable=function(){this.deRegisterEvents()},r.sendGunAngleToServer=function(e){z.getInstance().fireEventToServer(w.UPDATE_GUN_ANGLE,{angle:e,placeId:G.gunManager.getSelfGun().getPlaceId()})},r.startFreezEffect=function(e){this.effectsManager.startFreezEffect(e)},r.stopFreezEffect=function(e){this.effectsManager.stopFreezEffect(e)},r.startWaveEffect=function(e){console.log("Wave effect : "),this.isRandomWaveActive=!1,window.audioManager.stopMusic();var n=this.BGM.getComponent(p.Skeleton);n.clearTracks(),n.setAnimation(4,"Transition_3",!1)},r.startRandomWaveEffect=function(){console.log("Random effect effect : "),this.isRandomWaveActive=!0,window.audioManager.stopMusic();var e=this.BGM.getComponent(p.Skeleton);e.clearTracks(),e.setAnimation(5,"Transition_4",!1)},r.updateBetToken=function(e){var n,t=G.gunManager.gunsMap.get(e.sessionId).getPlaceId();null==(n=G.uiManager)||null==(n=n.getPlayerComponentForPlaceId(t))||n.setBetAmount(""+e.betToken)},r.updatePrizeToken=function(e){console.log("Prize token : ",e)},r.updateToken=function(e){var n,t,a=x.selectedCurrency==O.GAME_TOKEN?+(null==(n=e.token)?void 0:n.gameTokens):+(null==(t=e.token)?void 0:t.sweepTokens),s=G.gunManager.selfGun;s&&(s.setPlayerToken(""+a),s.setPlayerPrizeToken(""+e.token.withdrawableWinnings)),z.getInstance().fireEventToServer(w.SET_USER_TOKEN,+a)},r.updateUserToken=function(e){console.log("User token : ",e);var n=G.gunManager.getGunComponentBySessionId(e.sessionId);n&&n.setPlayerToken(""+e.tokenBalance)},r.startSummonEffect=function(e){this.effectsManager.startSummonEffect(e)},r.setCurrentBetToken=function(e){console.log("setCurrentBetToken :",e),z.getInstance().fireEventToServer(w.SET_BET_TOKEN,e)},r.closeBonusApiResponse=function(e){var n,t,a,s;if(console.log("close API Response ++++++++++++++++++++++++++++++++++++++++++++++:",e),null!=e&&null!=(n=e.apiResponse)&&n.freeBullets){var o,i=+G.gunManager.getSelfGun().getPlayerFreeShot(),r=(isNaN(i)?0:i)+ +(null==e||null==(o=e.apiResponse)?void 0:o.freeBullets);G.gunManager.getSelfGun().setPlayerFreeShot(""+r)}var l,u,c,g,p,h=0,d=0;null!=e&&null!=(t=e.apiResponse)&&t.token&&(h=x.selectedCurrency==O.GAME_TOKEN?+(null==(l=e.apiResponse.token)?void 0:l.gameTokens):+(null==(u=e.apiResponse.token)?void 0:u.sweepTokens));null!=e&&null!=(a=e.apiResponse)&&a.bonusToken&&(d=x.selectedCurrency==O.GAME_TOKEN?+(null==(c=e.apiResponse.bonusToken)?void 0:c.gameTokens):+(null==(g=e.apiResponse.bonusToken)?void 0:g.sweepTokens));(+h+ +d>0&&G.gunManager.getSelfGun().setPlayerToken(""+(+h+ +d)),null!=e&&e.apiResponse.totalWin)&&G.gunManager.getSelfGun().setPlayerPrizeToken(""+(+(null==(p=G.gunManager)?void 0:p.selfGun.getPlayerPrizeToken())+ +(null==e?void 0:e.apiResponse.totalWin)));G.floatingObjectManager.isBonusGameTriggered(null==e?void 0:e.bonusCode)&&(G.gunManager.tapBlockerNode.active=!1),z.getInstance().fireEventToServer(w.CLOSE_BONUS_API_RESPONSE,e),console.log("+GameModel.gunManager?.selfGun : ",+(null==(s=G.gunManager)?void 0:s.selfGun.getPlayerPrizeToken())),console.log("+GameModel.gunManager?.selfGun : ",+(null==e?void 0:e.apiResponse.totalWin))},r.removeAllFloatingObjects=function(){G.gunManager.deactivateAllLaserGuns(),G.floatingObjectManager.removeAllFloatableIcons(),G.fishManager.removeAllFishes()},r.floatingIconNew=function(e){G.floatingObjectManager.addFloatingIcon(e)},r.floatingIconUpdate=function(e){G.floatingObjectManager.updateFloatingIcon(e)},r.floatingDestroyed=function(e){G.floatingObjectManager.floatingIconDestroyed(e)},r.alertHandler=function(e){this.bonusGameComponent.init(e)},r.fishNew=function(e){G.fishManager.addFish(e)},r.fishUpdate=function(e){G.fishManager.updateFish(e)},r.fishDestroyed=function(e){e&&e.sessionId&&G.fishManager&&G.fishManager.fishDestroyed(e,!1)},r.fishDestroyedOnResponse=function(e){if(e&&e.sessionId&&G.fishManager){var n=G.fishManager.getfishBySessionId(e.sessionId);if(n){var t,a=n.node.getWorldPosition();G.fishManager.fishDestroyed(e,!0),null==(t=this.effectsManager)||t.startCoinAndRewardEffect(e,a)}}},r.bulletNew=function(e){G.bulletManager.addBullet(e)},r.bulletUpdate=function(e){G.bulletManager.updateBullet(e)},r.bulletDestroyedResponse=function(){var e=o(i().mark((function e(n){var t,a,s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("-------------------------------- : ",n),!n){e.next=15;break}if(200!==n.statusCode){e.next=14;break}if((null==(t=G.gunManager)||null==(t=t.selfGun)?void 0:t.sessionID)==n.clientId&&this.handleTimeOutPopUp(),!(a=G.gunManager.getGunComponentBySessionId(n.clientId))){e.next=12;break}if(a.setPlayerToken(n.tokenBalance),G.gunManager.mysessionId!=n.clientId){e.next=12;break}if(a.setPlayerFreeShot(null==(s=n.response)?void 0:s.remainingFreeBullets),!(n.response.killResult&&n.response.features&&n.response.features.length>0)){e.next=12;break}return e.next=12,this.handleBulletResponse(n);case 12:e.next=15;break;case 14:(null==(o=G.gunManager)||null==(o=o.selfGun)?void 0:o.sessionID)==n.clientId&&(this.errorExisted||this.errorHandlingPopUp(n.statusCode,n));case 15:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.handleTimeOutPopUp=function(){clearTimeout(this.sessionTimeOutId),this.sessionTimeOutId=null,G.uiManager.playerView[+G.gunManager.selfGun.placeID].deactivateIdleNotification(),this.sessionTimeOutId=setTimeout((function(){G.uiManager.playerView[+G.gunManager.selfGun.placeID].activateIdleNotification()}),12e4)},r.checkLowBalance=function(){this.errorHandlingPopUp(406,null)},r.errorHandlingPopUp=function(e,n){var t=this,a=this;this.errorExisted=!0,console.log("Inside error handling response :",n);var s=!1,o=G.gunManager.selfGun.getPlaceId();"3"!=o&&"2"!=o||(s=!0);var i="",r=null;switch(e){case 400:-1!==n.message.indexOf("Player does not have sufficient balance")||-1!==n.message.indexOf("Insufficient Balance")||-1!==n.message.indexOf("Insufficient balance")?(this.errorExisted=!1,x.isTokenFinish=!0,U.getDispatcher().emit(R.CHECK_LOW_BALANCE,s)):(i="Something went sideways!!",r=function(){a.endGameSession()},this.openCustomPopup(i,r,s));break;case 404:i="Something went sideways!!",r=function(){a.endGameSession()},this.openCustomPopup(i,r,s);break;case 406:this.errorExisted=!1,x.isTokenFinish=!0,U.getDispatcher().emit(R.CHECK_LOW_BALANCE,s);break;case 408:i="Your session has expired !!",r=function(){a.endGameSession()},this.openCustomPopup(i,r,s);break;case 511:case 503:case 403:this.isBaseToLobby=!0;break;default:i="Something went sideways!!",r=function(){t.endGameSession()},this.openCustomPopup(i,r,s)}},r.fishRoomNotCreate=function(){var e=null,n=function(){e&&clearTimeout(e),window.parent&&window.parent.parent?window.parent.parent.location.href=k:window.parent?window.parent.location.href=k:window.location.href=k};e=setTimeout((function(){n()}),15e3),this.openCustomPopup("Something went wrong!",n,!1,"Oops!")},r.openCustomPopup=function(e,n,t,a){void 0===a&&(a=null);var s=h(this.customPopUp);s.setScale(d(0)),t&&s.setRotationFromEuler(0,0,180),f.getScene().getChildByName("Canvas").addChild(s),this.zoomInEffect(s),s.getComponent(F).setCallback(n,null),s.getComponent(F).Msg.string=e,s.getComponent(F).title.string=a||"ALERT!!"},r.handleBulletResponse=function(){var e=o(i().mark((function e(n){var t,a,s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=G.gunManager.getGunComponentBySessionId(n.clientId),s=a.getBulletResponse(),console.log("Bullet Response : ",n),(!s||n.response.killResult&&n.response.symbolCode&&(null==(t=s.response)?void 0:t.symbolCode)!=n.response.symbolCode)&&(a.updateBulletResponse(n),n.response.killResult&&null!=n.response.features&&n.response.features.length>0&&(o=n.response.features[0].symbolConfiguration.code,n.response.features[0].fishGameFeaturePlaySessionId,G.floatingObjectManager.isFloatingGunTriggered(o)));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),r.startBonusGame=function(e){var n=me[""+e],t=h(this.bonusGamePrefabs[n]);this.fishBonusGameContainer.addChild(t)},r.stopBonusGame=function(e){this.fishBonusGameContainer.children[0].destroy(),this.fishBonusGameContainer.destroyAllChildren()},r.endGameSession=function(e){var n;m.ENABLE_MULTI_TOUCH=!0,window.audioManager.stopMusic(),window.audioManager.stopSound();var t=null==(n=G.gunManager)?void 0:n.getSelfGun();(null==t?void 0:t.gunType)==fe.LASER&&(z.getInstance().fireEventToServer(w.DEACTIVATE_LASER),null==t||t.deactivateLaser())},r.createClientSessionID=function(e){console.log("Player join message: ",e),""==this.sessionId&&(this.sessionId=e.sessionId,G.gunManager.addGun(e,!0),this.isConnected=!0,this.gunBaseManager.showBaseForPlaceId(+e.placeId),this.uiManager.setPlayerData(e.placeId,e.playerData),this.uiManager.getPlayerComponentForPlaceId(e.placeId).setBetAmount(""+e.betToken),this.uiManager.showPlayerInfoForPlaceId(+e.placeId),this.uiManager.setPlayerNameForPlaceId(e.placeId),this.uiManager.setPlayerTokenForPlaceId(e.placeId),this.uiManager.setPlayerTokenType(e.placeId,e.playerData.TokenType),this.uiManager.setPlayerProfileForPlaceID(e.placeId,Number.isNaN(e.playerData.photoId)?2:e.playerData.photoId),g.emit(B.EnableFourPlayerView))},r.playerLeave=function(e){this.sessionId==e.sessionId&&(this.isConnected=!1,G.bulletManager.destroyBulletForClientId(e.sessionId))},r.showGun=function(e){var n;console.log("show gun 0 : ",e,G.gunManager.selfGun),e.playerData.playerId==(null==(n=G.gunManager)||null==(n=n.getSelfGun())?void 0:n.getPlayerId())&&this.endGameSession(),G.gunManager.addGun(e,!1),this.uiManager.setPlayerNameForPlaceId(e.placeId),this.uiManager.setPlayerTokenForPlaceId(e.placeId),this.uiManager.setPlayerData(e.placeId,e.playerData),this.uiManager.getPlayerComponentForPlaceId(e.placeId).setBetAmount(""+e.betToken),this.uiManager.setPlayerTokenType(e.placeId,e.playerData.TokenType),this.uiManager.setPlayerProfileForPlaceID(e.placeId,Number.isNaN(e.playerData.photoId)?2:e.playerData.photoId)},r.hideGun=function(e){var n;console.log("hideGun",e,G.gunManager.selfGun),e.playerId==(null==(n=G.gunManager.selfGun)?void 0:n.getPlayerId())&&this.endGameSession(),G.gunManager.removeGun(e.placeId),this.gunBaseManager.hideBaseForPlaceId(+e.placeId),this.uiManager.hidePlayerInfoForPlaceId(+e.placeId)},r.updateSessionID=function(){},r.updateTotalPlayers=function(e){this.txtPlayers.string="Clients Connected "+e+"/4"},r.updateMessages=function(e){this.txtMsg.string=e;var n=h(this.txtMsg.node);this.txtMsg.node.parent.addChild(n),n.active=!0;var t=S.GetRandomInteger(0,2);E(n).delay(t).by(2,{position:d(0,150,0)}).removeSelf().start(),E(n.getComponent(M)).delay(t).to(2,{opacity:0}).start()},r.updateGunAngle=function(e){var n=G.gunManager.getGunByPlaceID(e.placeId);n&&(n.angle=e.angle)},r.updateGunType=function(e){G.gunManager.changeMyGun(e.sessionId,+e.gunType)},r.activateLaserGun=function(e){e&&!e.isUniqueFish&&(e.isUniqueFish=!1),G.gunManager.activateLaserGun(e)},r.deactivateLaserGun=function(e){G.gunManager.deactivateLaserGun(e)},r.updateLaserGun=function(e){e&&!e.isUniqueFish&&(e.isUniqueFish=!1),G.gunManager.updateLaserGun(e)},r.fireBullet=function(e){4==G.gunManager.selfGun.gunType&&console.log("message  Zahar : ",G.gunManager.selfGun.gunType),G.gunManager.fireBullet(e.angle,e.destinationPoint)},r.update=function(e){var n,t,a,s=this;!this.isConnectingNodeScheduled&&null!=G&&null!=(n=G.gunManager)&&n.isMyPlayerdConnected&&null!=G&&null!=(t=G.fishManager)&&t.isAllFishesGeneratedInitially&&null!=(a=this.connectingNode)&&a.active&&(this.isConnectingNodeScheduled=!0,this.scheduleOnce((function(){s.connectingNode.active=!1,G.gunManager.isMyPlayerdConnected=!1,G.fishManager.isAllFishesGeneratedInitially=!1}),5))},r.zoomInEffect=function(e,n){void 0===n&&(n=null),E(e).to(.2,{scale:new I(1.2,1.2,1.2)},{easing:"smooth"}).to(.2,{scale:new I(1,1,1)},{easing:"smooth"}).call((function(){n&&n()})).start()},r.setZoomOut=function(e,n){void 0===n&&(n=null),E(e).to(.15,{scale:new I(1.2,1.2,1.2),easing:"smooth"}).to(.15,{scale:new I(0,0,0),easing:"smooth"}).call((function(){n&&n()})).start()},r.onBonusReward=function(){var e=this,n=h(this.bonusWinPopUp);"2"!=G.gunManager.getSelfGun().getPlaceId()&&"3"!=G.gunManager.getSelfGun().getPlaceId()||n.setRotationFromEuler(new I(0,0,180)),this.parentNode.addChild(n);var t=n.getChildByName("UI");this.zoomInEffect(t),this.scheduleOnce((function(){e.setZoomOut(n,(function(){n.destroy()}))}),5)},n}(T)).prototype,"effectsManager",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=n(te.prototype,"BGM",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=n(te.prototype,"bonusGamePrefabs",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=n(te.prototype,"fishBonusGameNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=n(te.prototype,"fishBonusGameContainer",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=n(te.prototype,"gunBaseManager",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=n(te.prototype,"uiManager",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=n(te.prototype,"warningPopUp",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=n(te.prototype,"customPopUp",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=n(te.prototype,"connectingNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=n(te.prototype,"parentNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=n(te.prototype,"bonusWinPopUp",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=te))||ne));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,a;return{setters:[function(e){n=e.createClass},function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"f4934BO1zhBHZHlO5nPLLlD","GameModel",void 0);var t=e("GameModel",function(){function e(){}return n(e,null,[{key:"bulletManager",get:function(){return e._bulletManager},set:function(n){e._bulletManager=n}},{key:"fishManager",get:function(){return e._fishManager},set:function(n){e._fishManager=n}},{key:"floatingObjectManager",get:function(){return e._floatingObjectManager},set:function(n){e._floatingObjectManager=n}},{key:"gunManager",get:function(){return e._gunManager},set:function(n){e._gunManager=n}},{key:"gunBaseManager",get:function(){return e._gunBaseManager},set:function(n){e._gunBaseManager=n}},{key:"uiManager",get:function(){return e._uiManager},set:function(n){e._uiManager=n}},{key:"effectsManager",get:function(){return e._effectsManager},set:function(n){e._effectsManager=n}},{key:"multipleFishGameManager",get:function(){return e._multipleFishGameManager},set:function(n){e._multipleFishGameManager=n}}]),e}());t._bulletManager=null,t._gunManager=null,t._fishManager=null,t._floatingObjectManager=null,t._gunBaseManager=null,t._uiManager=null,t._effectsManager=null,t._multipleFishGameManager=null,a._RF.pop()}}}));

System.register("chunks:///_virtual/Gun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GunEvents.ts","./GameModel.ts","./CommonConstants.ts","./EventManager.ts"],(function(e){var n,t,i,r,o,l,s,a,u,c,g,h,d,f,p,y,P,A,m,I;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,s=e.Node,a=e.sp,u=e.Vec3,c=e.game,g=e.view,h=e.UITransform,d=e.misc,f=e.Size,p=e.Component},function(e){y=e.BetTokenEvent,P=e.GunEvent},function(e){A=e.GameModel},function(e){m=e.FishGameEvents},function(e){I=e.default}],execute:function(){var v,B,S,T,b,G,w,k,E,M,F,L,C;o._RF.push({},"e8cb0GjqWBPiquIb/sUUoo7","Gun",void 0);var z=l.ccclass,D=l.property;e("Gun",(v=z("Gun"),B=D(s),S=D(s),T=D(s),b=D(a.Skeleton),G=D(a.Skeleton),v((E=n((k=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,i(n,"singleBarrelGun",E,r(n)),i(n,"laserGun",M,r(n)),i(n,"doubleBarrelGun",F,r(n)),i(n,"GunsSpine",L,r(n)),i(n,"GunSwitchTranstion",C,r(n)),n.placeID="",n.betAmountArray=[],n.selectedBetIndex=0,n.sessionID="",n.playerName="",n.playerToken="",n.playerPrizeToken="",n.playerFreeShot="",n.currentBetTokenAmount=0,n.gunAngle=0,n.gunPosition=new u,n.isGunActive=!1,n.playerId=null,n.laserParticleAngle=0,n.singleBarrelGunSpine=null,n.laserGunSpine=null,n.doubleBarrelGunSpine=null,n.singleBarrelRecoil=null,n.laserGunRecoil=null,n.doubleBarrelGunRecoil1=null,n.doubleBarrelGunRecoil2=null,n.laserParticle=null,n.previousGun=n.singleBarrelGun,n.gunType=void 0,n.isLaserActive=!1,n.laserEffect=null,n.angleOffset=0,n.canBulletFire=!1,n.currentBulletResponse=null,n}t(n,e);var o=n.prototype;return o.onLoad=function(){},o.setPlayerId=function(e){this.playerId=e},o.getPlayerId=function(){return this.playerId},o.getAngleOffset=function(){switch(this.placeID){case"0":case"1":return-100;case"2":case"3":return 100}},o.updateBulletResponse=function(e){this.currentBulletResponse=e},o.getBulletResponse=function(){return this.currentBulletResponse},o.laserRecoilAnimationCompleted=function(){this.isLaserActive&&this.laserGunRecoil.setAnimation(0,"animation",!1)},o.disableLaserFromAllFishesAndIcons=function(){this.isLaserActive&&(A.fishManager.fishNodesMap.forEach((function(e){null==e||e.disableLaser()})),A.floatingObjectManager.iconNodesMap.forEach((function(e){null==e||e.disableLaser()})))},o.deActivatePreviousGun=function(){this.previousGun.children.forEach((function(e){e.active=!1}))},o.setPlaceId=function(e){this.placeID=e},o.getPlaceId=function(){return this.placeID},o.setSessionId=function(e){this.sessionID=e},o.getSessionId=function(){return this.sessionID},o.setPlayerName=function(e){this.playerName=e},o.getPlayerName=function(){return this.playerName},o.setPlayerToken=function(e){this.playerToken=(Math.round(100*(parseFloat(e)+Number.EPSILON))/100).toString(),A.uiManager.setPlayerTokenForPlaceId(this.getPlaceId())},o.getPlayerToken=function(){return this.playerToken},o.setPlayerPrizeToken=function(e){this.playerPrizeToken=(Math.round(100*(parseFloat(e)+Number.EPSILON))/100).toString(),A.uiManager.setPlayerTokenForPlaceId(this.getPlaceId())},o.getPlayerPrizeToken=function(){return this.playerPrizeToken},o.setPlayerFreeShot=function(e){this.playerFreeShot=e,A.uiManager.setPlayerFreeShotForPlaceId(this.getPlaceId())},o.getPlayerFreeShot=function(){return this.playerFreeShot},o.setCurrentBetTokenAmount=function(e,n){void 0===n&&(n=!1),this.currentBetTokenAmount=e,this.disableLaserFromAllFishesAndIcons(),n&&c.emit(y.SET_BET_TOKEN,this.currentBetTokenAmount)},o.setBetAmountArray=function(e,n){this.betAmountArray=e,this.selectedBetIndex=n},o.getBetAmountArray=function(){return this.betAmountArray},o.getSelectedBetIndex=function(){return this.selectedBetIndex},o.getCurrentBetTokenAmount=function(){return this.currentBetTokenAmount},o.registerEvents=function(){},o.fireBullet=function(e){if(!A.gunManager.isNeedToReturnOnFireBullet(this.gunType))if(A.uiManager.youAreHerePopupClickAction(),+this.getPlayerToken()>=+this.getCurrentBetTokenAmount()&&!A.gunManager.tapBlockerNode.active)1===this.node.scale.y?c.emit(P.SHOOT_BULLET,{angle:this.node.angle+90,destinationPoint:e}):c.emit(P.SHOOT_BULLET,{angle:this.node.angle-90,destinationPoint:e});else{var n=!1,t=A.gunManager.selfGun.getPlaceId();"3"!=t&&"2"!=t||(n=!0),I.getDispatcher().emit(m.CHECK_LOW_BALANCE,n)}},o.convertToDesignTouch=function(e,n){var t=g.getDesignResolutionSize().width,i=g.getDesignResolutionSize().height,r=g.getVisibleSize().width,o=g.getVisibleSize().height;return new u(e*(r/t),n*(o/i),0)},o.updateGun=function(e){var n=new u;n=new u(e.getUILocation().x,e.getUILocation().y,0);var t=new u;this.node.getWorldPosition(t),2==+this.placeID&&(t=A.gunManager.gunPositions[0],t=this.node.parent.getComponent(h).convertToWorldSpaceAR(t)),3==+this.placeID&&(t=A.gunManager.gunPositions[1],t=this.node.parent.getComponent(h).convertToWorldSpaceAR(t));var i=n.x-t.x,r=n.y-t.y;if(this.gunAngle=d.radiansToDegrees(Math.atan2(r,i)),this.node){var o=this.gunAngle-90;2==+this.placeID||3==+this.placeID?(o=this.gunAngle+90)>=90&&o<=270?this.node.eulerAngles=new u(0,0,this.gunAngle-90):this.gunAngle>-180&&this.gunAngle<-90?this.node.eulerAngles=new u(0,0,90):this.gunAngle<0&&(this.node.eulerAngles=new u(0,0,-90)):o<=90&&o>=-90?this.node.eulerAngles=new u(0,0,this.gunAngle-90):o>-270&&o<-180?this.node.eulerAngles=new u(0,0,90):o<-90&&(this.node.eulerAngles=new u(0,0,-90))}c.emit(P.SEND_GUN_ANGLE_TO_SERVER,this.node.eulerAngles.z)},o.updateLaser=function(e){if(e.isUniqueFish)this.synclaserParticleForUniqueFish(e);else{var n=this.laserParticle.getComponent(h).contentSize;if(e&&e.fishSessionId){var t,i=null==(t=A.fishManager.getfishBySessionId(e.fishSessionId))||null==(t=t.node)?void 0:t.getChildByName("base");i&&this.syncLaserParticleAndAngle(null==i?void 0:i.getWorldPosition(),n)}else if(e&&e.iconSessionId){var r,o=(null==(r=A.floatingObjectManager.getIconBySessionId(e.iconSessionId))?void 0:r.iconParent).children[0].getChildByName("base");o&&this.syncLaserParticleAndAngle(null==o?void 0:o.getWorldPosition(),n)}}},o.syncLaserParticleAndAngle=function(e,n){this.node.angle=this.calculateAngle(e,this.node.getWorldPosition());var t=u.distance(this.laserParticle.getWorldPosition(),new u(e));this.laserParticle.getComponent(h).setContentSize(new f(n.x,t)),this.laserEffect.setWorldPosition(new u(e))},o.synclaserParticleForUniqueFish=function(e){var n=this.laserParticle.getComponent(h).contentSize;this.laserParticle.getComponent(h).setContentSize(new f(n.x,e.delta));this.node.scale.y;this.node.angle=e.angle;var t=this.laserParticle.getComponent(h).getBoundingBox().x+15,i=this.laserParticle.getComponent(h).getBoundingBox().yMax;this.laserEffect.setPosition(new u(t,i,0))},o.updateElectroShok=function(e){this.node.angle=e},o.update=function(e){},o.calculateAngle=function(e,n){if(e){var t=Math.atan2((null==e?void 0:e.y)-(null==n?void 0:n.y),(null==e?void 0:e.x)-(null==n?void 0:n.x));"2"!==this.placeID&&"3"!==this.placeID||(t+=Math.PI),this.laserParticleAngle=t*(180/Math.PI)-90}return this.laserParticleAngle},n}(p)).prototype,"singleBarrelGun",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(k.prototype,"laserGun",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(k.prototype,"doubleBarrelGun",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(k.prototype,"GunsSpine",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(k.prototype,"GunSwitchTranstion",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=k))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/GunBaseManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,a=e.Component}],execute:function(){var o;n._RF.push({},"65044lLsz9OsZnMed268epg","GunBaseManager",void 0);var i=r.ccclass;r.property,e("GunBaseManager",i("GunBaseManager")(o=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){},r.update=function(e){},r.showBaseForPlaceId=function(e){var t=this.node.getChildByName(e.toString());t&&(t.active=!0)},r.hideBaseForPlaceId=function(e){var t=this.node.getChildByName(e.toString());t&&(t.active=!1)},r.getGunNodeForPlaceId=function(e){return this.node.getChildByName(e.toString())},n}(a))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/GunEvents.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"033ee4mIp1J97V7cU9dxJZR","GunEvents",void 0);e("GunEvent",function(e){return e.SHOOT_BULLET="Gun:ShootBullet",e.SEND_GUN_ANGLE_TO_SERVER="Gun:SendGunAngleToServer",e}({})),e("BetTokenEvent",function(e){return e.SET_BET_TOKEN="SetBetToken",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/GunManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Gun.ts","./GameModel.ts","./BaseSlotWarningPopUp.ts","./EventManager.ts","./CommonConstants.ts","./SummonAndFreezeOn.ts","./PlayerDataModel.ts"],(function(e){var n,t,o,i,r,a,u,l,c,s,g,f,d,p,h,m,y,b,P,B,S;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,u=e.Prefab,l=e.Node,c=e.Vec3,s=e.view,g=e.instantiate,f=e.Component},function(e){d=e.Gun},function(e){p=e.GameModel},function(e){h=e.BaseSlotWarningPopUp,m=e.BALANCEENDTYPE},function(e){y=e.default},function(e){b=e.FishGameEvents,P=e.CURRENCY_TYPES},function(e){B=e.SummonAndFreezeOn},function(e){S=e.PlayerDataModel}],execute:function(){var C,A,T,k,D,G,v,w,E,N,z,M,I,L,F,O,_,R,U,W,x;r._RF.push({},"a1245GCUJhMxIPejcAPPtOh","GunManager",void 0);var K=a.ccclass,H=a.property;e("GunManager",(C=K("GunManager"),A=H(B),T=H(u),k=H(l),D=H([c]),G=H([c]),v=H(l),w=H(u),E=H(l),N=H(l),C((I=n((M=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,o(n,"summonAndFreezeOn",I,i(n)),o(n,"gun",L,i(n)),o(n,"bulletContainer",F,i(n)),o(n,"gunPositions",O,i(n)),o(n,"gunScale",_,i(n)),o(n,"tutorialNode",R,i(n)),o(n,"warningPopUp",U,i(n)),o(n,"backgroundTapDetectator",W,i(n)),o(n,"tapBlockerNode",x,i(n)),n.selfGunPlaceId="",n.isMyPlayerdConnected=!1,n.mysessionId=null,n.inSufficientBalance=null,n}t(n,e);var r=n.prototype;return r.onLoadGunManager=function(){y.getDispatcher().on(b.CHECK_LOW_BALANCE,this.checkSufficientBalance,this);var e=this.backgroundTapDetectator.getScale(),n=this.backgroundTapDetectator.getScale(),t=this.convertToDesignTouch(e.x,e.y),o=this.convertToDesignTouch(n.x,n.y);this.backgroundTapDetectator.setScale(t),this.tapBlockerNode.setScale(o),this.tapBlockerNode.active=!1},r.startGunManager=function(){},r.convertToDesignTouch=function(e,n){var t=s.getDesignResolutionSize().width,o=s.getDesignResolutionSize().height,i=s.getVisibleSize().width,r=s.getVisibleSize().height;return new c(e*(i/t),n*(r/o),1)},r.updateLaserGun=function(e){this.getGunByPlaceID(e.placeId).getComponent(d).updateLaser(e)},r.getGunByPlaceID=function(e){if(null!=e&&""!=e){var n=this.node.getChildByName(e);return n||null}return null},r.getGunPosByPlaceID=function(e){return this.gunPositions[parseInt(e)]},r.getGunScaleByPlaceID=function(e){return this.gunScale[parseInt(e)]},r.getBetGroupId=function(e){},r.checkSufficientBalance=function(e){if(!this.node.getChildByName("BaseSlotWarningPopUp")){var n=p.gunManager.selfGun,t=n.getBetAmountArray();console.log("+selfGun.getPlayerToken(): ",+n.getPlayerToken());var o=n.getSelectedBetIndex();console.log("+selfGun.getCurrentBetTokenAmount() ",+n.getCurrentBetTokenAmount());(Math.round(100*(t[o]+Number.EPSILON))/100).toString();console.log("betAmountArray 3: ",o);var i=(Math.round(100*(t[0]+Number.EPSILON))/100).toString();if(S.selectedCurrency===P.GAME_TOKEN)if(+n.getPlayerToken()<+n.getCurrentBetTokenAmount()){console.log("betAmountArray 5: ",+n.getCurrentBetTokenAmount());var r=g(this.warningPopUp);if(this.node.addChild(r),e&&r.setRotationFromEuler(new c(0,0,180)),+n.getPlayerToken()<+i){var a="Please add funds to Play the game";r.getComponent(h).init(a,m.AddFund)}else{a="Please decrease your bet amount to Play the  game";r.getComponent(h).init(a,m.ReduceBet)}S.isSufficientBalance=!1}else S.isSufficientBalance=!0;else if(S.selectedCurrency===P.SWEEP_TOKEN)if(console.log("betAmountArray 4: ",o),+n.getPlayerToken()<+n.getCurrentBetTokenAmount()){r=g(this.warningPopUp);if(this.node.addChild(r),e&&r.setRotationFromEuler(new c(0,0,180)),+n.getPlayerToken()<+i){a="Please add funds to Play the game";r.getComponent(h).init(a,m.AddFund)}else{a="Please decrease your bet amount to Play the  game";r.getComponent(h).init(a,m.ReduceBet)}S.isSufficientBalance=!1}else S.isSufficientBalance=!0}},r.onDestroy=function(){y.getDispatcher().off(b.CHECK_LOW_BALANCE,this.checkSufficientBalance,this)},n}(f)).prototype,"summonAndFreezeOn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(M.prototype,"gun",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(M.prototype,"bulletContainer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(M.prototype,"gunPositions",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(M.prototype,"gunScale",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new c(0,0,0)]}}),R=n(M.prototype,"tutorialNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(M.prototype,"warningPopUp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(M.prototype,"backgroundTapDetectator",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(M.prototype,"tapBlockerNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=M))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/HelperTools.ts",["cc"],(function(t){var e,n,o;return{setters:[function(t){e=t.cclegacy,n=t.sp,o=t.UITransform}],execute:function(){var r,a;t("HelperTools",void 0),e._RF.push({},"ebebdRslQNArIS2zdivKTzz","HelperTools",void 0),(a=r||(r=t("HelperTools",{}))).distanceBetween2Points=function(t,e){var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))},a.getSpineAnimationDuration=function(t,e){var o=t.getComponent(n.Skeleton).skeletonData.getRuntimeData(!1).findAnimation(e);return o?o.duration:0},a.GetRandomInteger=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},a.radiansToDegrees=function(t){return t*(180/Math.PI)},a.degreesToRadians=function(t){return t*(Math.PI/180)},a.getWorldPosition=function(t){return t.parent.getComponent(o).convertToWorldSpaceAR(t.getPosition())},e._RF.pop()}}}));

System.register("chunks:///_virtual/InfoSection.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishSoundManager.ts","./GameModel.ts"],(function(e){var t,i,n,r,a,o,l,u,c,s,b,f,p,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,u=e.Label,c=e.Sprite,s=e.Button,b=e.Vec3,f=e.tween,p=e.Component},function(e){h=e.FishSoundManager},function(e){g=e.GameModel}],execute:function(){var m,d,y,F,S,P,w,v,C,z,M,L,B,I,k,D,G,_,E,N,R,T,O,j,x,A,H;a._RF.push({},"ba707Bdd+RPa4z+lMi9WaOZ","InfoSection",void 0);var V,W=o.ccclass,X=o.property;e("InfoSection",(m=W("InfoSection"),d=X(l),y=X(l),F=X(l),S=X(u),P=X(u),w=X(u),v=X(u),C=X(c),z=X(c),M=X(c),L=X(c),B=X(c),m((D=t((k=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"infoParent",D,r(t)),n(t,"btnParent",G,r(t)),n(t,"rules",_,r(t)),n(t,"bossFishLabel",E,r(t)),n(t,"highFishLabel",N,r(t)),n(t,"mediumFishLabel",R,r(t)),n(t,"lowerFishLabel",T,r(t)),n(t,"bossFishSprite",O,r(t)),n(t,"highFishSprite",j,r(t)),n(t,"mediumFishSprite",x,r(t)),n(t,"lowerFishSprite",A,r(t)),n(t,"rulesSprite",H,r(t)),t.fishPaytabelData=[],t.fishMetaData=void 0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){V=g.multipleFishGameManager.getFishSound(),g.multipleFishGameManager.getFeatureCode(),this.setPayTableData(),this.setGunInfo()},a.onEnable=function(){this.setInit()},a.start=function(){},a.setPayTableData=function(){},a.setGunInfo=function(){},a.setInit=function(){this.btnParent.forEach((function(e){e.active=!1,e.parent.getComponent(s).interactable=!0})),this.infoParent.children.forEach((function(e){e.active=!1})),this.infoParent.getChildByName("BossFish").active=!0,this.btnParent[0].active=!0,this.btnParent[0].parent.getComponent(s).interactable=!1},a.infoBtnClick=function(e){var t=e.target;this.btnParent.forEach((function(e){e.active=!1,e.parent.getComponent(s).interactable=!0})),t.getComponent(s).interactable=!1,this.rules.setPosition(new b(0,260,0)),h.startFishClickSound(V.MenuClick),t.getChildByName("Select").active=!0,this.infoParent.children.forEach((function(e){e.active=!1})),this.infoParent.getChildByName(t.name).active=!0},a.closeBtnClick=function(e){var t=this,i=e.target;i.getComponent(s).interactable=!1,h.startClickSound(V.MenuPopup_X),f(this.node.getChildByName("MainParent")).delay(.13).call((function(){h.startClickSound(V.MenuPopup_O)})).to(.3,{scale:new b(0,0,0)},{easing:"backIn"}).call((function(){t.node.active=!1,i.getComponent(s).interactable=!0})).start()},a.update=function(e){},t}(p)).prototype,"infoParent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(k.prototype,"btnParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(k.prototype,"rules",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(k.prototype,"bossFishLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(k.prototype,"highFishLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(k.prototype,"mediumFishLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(k.prototype,"lowerFishLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(k.prototype,"bossFishSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(k.prototype,"highFishSprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(k.prototype,"mediumFishSprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(k.prototype,"lowerFishSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(k.prototype,"rulesSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=k))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/KillCoinEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerDataModel.ts","./CommonConstants.ts"],(function(t){var n,e,o,i,r,a,l,c,s,u,f,d,p,y,C,g,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,c=t.Vec3,s=t.tween,u=t.Component,f=t.instantiate,d=t.Animation,p=t.bezier},function(t){y=t.PlayerDataModel},function(t){C=t.CURRENCY_TYPES,g=t.getRandomNumber,h=t.GetRandomInterger}],execute:function(){var m,v,E,P,b,w,R,D,x;r._RF.push({},"b00a0F7tThHspaouzmWzf6t","KillCoinEffect",void 0);var z=a.ccclass,T=a.property;t("KillCoinEffect",(m=z("KillCoinEffect"),v=T(l),E=T(l),P=T(l),m((R=n((w=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"Coin",R,i(n)),o(n,"AddCoinEffect",D,i(n)),o(n,"GanPoint",x,i(n)),n}e(n,t);var r=n.prototype;return r.start=function(){},r.init=function(t,n,e){void 0===e&&(e=null),this.coinDestroyEffect(t,n,e)},r.coinDestroyEffect=function(t,n,e){var o=this;void 0===e&&(e=null);for(var i=null==n?void 0:n.worldPosition,r=t?new c(t.x,t.y,0):new c,a=c.distance(r,i),l=function(){var t=f(o.Coin);e?e.addChild(t):o.AddCoinEffect.addChild(t),t.setWorldPosition(r),t.scale=new c(.8,.8,1);var n=h(-130,130),l=h(-130,130);s(t).call((function(){y.selectedCurrency===C.SWEEP_TOKEN?(t.getComponent(d).getState("FishRotedCoin").speed=g(.5,.8),t.getComponent(d).play("FishRotedCoin")):y.selectedCurrency===C.GAME_TOKEN&&(t.getComponent(d).getState("FishRotedToken").speed=g(.5,.8),t.getComponent(d).play("FishRotedToken"))})).by(.6,{position:new c(n,l,0)}).delay(.01*u).to(.001*a,{worldPosition:i}).delay(.0012*a).call((function(){t.destroy()})).start()},u=1;u<=15;u++)l()},r.calculateDistance2D=function(t,n){var e=n.x-t.x,o=n.y-t.y;return Math.sqrt(e*e+o*o)},r.update=function(t){},r.playTween=function(t,n,e,o,i){c.distance(t.worldPosition,n);var r=i,a=t.worldPosition,l=n.x,u=n.y,f=s(a),d=e.y,y=o.y,C=e.x,g=o.x;f.parallel(s().to(r,{x:l},{progress:function(t,n,e,o){return p(t,C,g,n,o)},onUpdate:function(){t&&t.setWorldPosition(a)},onComplete:function(){}}),s().to(r,{y:u},{progress:function(t,n,e,o){return p(t,d,y,n,o)},onUpdate:function(){t&&t.setWorldPosition(a)}})).start()},n}(u)).prototype,"Coin",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(w.prototype,"AddCoinEffect",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(w.prototype,"GanPoint",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/LeaserBTNProgressEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,s,n,i,o,a,l,c,u,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,a=e.Node,l=e.Sprite,c=e.tween,u=e.Tween,p=e.Component}],execute:function(){var f,g,P,h,y,v,d;i._RF.push({},"9685942FydIB5iTSs82iUew","LeaserBTNProgressEffect",void 0);var m=o.ccclass,T=o.property;e("LeaserBTNProgressEffect",(f=m("LeaserBTNProgressEffect"),g=T(a),P=T(a),f((v=r((y=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,s(r,"leaserProgress",v,n(r)),s(r,"leaserParent",d,n(r)),r.time=20,r}t(r,e);var i=r.prototype;return i.progressFill=function(){this.node.active=!0;var e=this.leaserProgress.getComponent(l);c(e).to(this.time,{fillRange:-1}).start()},i.resetLaserProgress=function(){this.node.active=!1;var e=this.leaserProgress.getComponent(l);u.stopAllByTarget(e),e.fillRange=0},i.update=function(e){},r}(p)).prototype,"leaserProgress",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=r(y.prototype,"leaserParent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./ColorLabel.ts","./BonusRewardAutomation.ts","./InfoSection.ts","./OCB_Bullet_Manager.ts","./OCB_Constant.ts","./OCB_Gun.ts","./Ocean_Bombard_Manager.ts","./OCB_GunManager.ts","./OCB_FishManager.ts","./OCB_Fish.ts","./OCB_Icon_Manager.ts","./MultipleFishGameManager.ts","./DoubleBulletEffect.ts","./FireBulletEffect.ts","./SingleBulletEffect.ts","./Bullet.ts","./BulletManager.ts","./DoubleBullet.ts","./FireBullet.ts","./SingleBullet.ts","./ClientData.ts","./Fish_Server_Event_Manager.ts","./NetworkManager.ts","./BulletEffectHandler.ts","./CustomSkeleton.ts","./Fish.ts","./FishManager.ts","./SummonFish.ts","./FloatingIcon.ts","./FloatingObjectManager.ts","./CommonConstants.ts","./GameManager.ts","./GameModel.ts","./Gun.ts","./GunEvents.ts","./GunManager.ts","./LeaserBTNProgressEffect.ts","./RewardCollect.ts","./FishSoundManager.ts","./EffectsManager.ts","./GunBaseManager.ts","./PlayerView.ts","./TapDetector.ts","./UIManager.ts","./BaseSlotWarningPopUp.ts","./FishPopUpManager.ts","./FishPopUpType.ts","./FishWinPopUp.ts","./FishWinPopUpProperty.ts","./CountDownTimer.ts","./CustomPopUp.ts","./EventManager.ts","./FishBonusGamePopUp.ts","./FortuneWheelPrefab.ts","./Wheelpointer.ts","./Wheelvalue.ts","./KillCoinEffect.ts","./SummonAndFreezeOn.ts","./TreasureBoxBonus.ts","./FishEndSessionPopUp.ts","./HelperTools.ts","./PlayerDataModel.ts","./TimerBase.ts","./Transition.ts","./musicAndSfx.ts","./FourPlayerViewManager.ts","./audioManager.ts","./Socket_Io.mjs_cjs=&original=.js"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MultipleFishGameManager.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"5ef58NIIttCU7W9Q34P7gKT","MultipleFishGameManager",void 0);e("GameTypes",{OCB:"OCB",ULTD:"ULTD",ZOMA:"ZOMA",RPHNX:"RPHNX",SPCW:"SPCW",WDHT:"WDHT",FSDC:"FSDC"}),e("GameNames",{OceanBombard:"OCB",UltimateDragon:"ULTD",Zombie:"ZOMA",RedPhoenix:"RPHNX",SpaceWar:"SPCW",FishingDisco:"FSDC"});a._RF.pop()}}}));

System.register("chunks:///_virtual/musicAndSfx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerDataModel.ts"],(function(e){var i,o,r,t,n,l,u,a,s,c,d,g,m,S,M,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,u=e.Toggle,a=e.Slider,s=e.ProgressBar,c=e.Sprite,d=e.Material,g=e.Node,m=e.tween,S=e.Vec3,M=e.Component},function(e){p=e.PlayerDataModel}],execute:function(){var f,h,b,w,k,V,y,B,O,v,I,N,z,x,C,H,D,P,A,F,_,L,Z,R,T,U,X;n._RF.push({},"0d095wVWMtMXYDOVIV2ZbrO","musicAndSfx",void 0);var j=l.ccclass,G=l.property;e("musicAndSfx",(f=j("musicAndSfx"),h=G(u),b=G(a),w=G(u),k=G(a),V=G(s),y=G(s),B=G(c),O=G(c),v=G(d),I=G(d),N=G(g),z=G(g),f((H=i((C=function(e){function i(){for(var i,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,r(i,"toggleMusic",H,t(i)),r(i,"sliderMusicVolume",D,t(i)),r(i,"toggleSound",P,t(i)),r(i,"sliderSoundVolume",A,t(i)),r(i,"progressBarSoundVolume",F,t(i)),r(i,"progressBarMusicVolume",_,t(i)),r(i,"musicHandler",L,t(i)),r(i,"soundHandler",Z,t(i)),r(i,"disableMaterial",R,t(i)),r(i,"normalMaterial",T,t(i)),r(i,"musicSlideBlockerNode",U,t(i)),r(i,"soundSlideBlockerNode",X,t(i)),i}o(i,e);var n=i.prototype;return n.start=function(){this.setData()},n.setData=function(){var e=localStorage.getItem("isMusicOn"),i=localStorage.getItem("isSoundOn");"true"===e?(window.audioManager.isMusicOn=!0,this.toggleMusic.isChecked=!0,this.unlockMusicSlider()):"false"===e&&(window.audioManager.isMusicOn=!1,this.toggleMusic.isChecked=!1,this.lockMusicSlider());var o=localStorage.getItem("MusicVolume");this.sliderMusicVolume.progress=Number(o),this.progressBarMusicVolume.progress=Number(o),"true"===i?(window.audioManager.isSoundOn=!0,this.toggleSound.isChecked=!0,this.unlockSfxSlider()):"false"===i&&(window.audioManager.isSoundOn=!1,this.toggleSound.isChecked=!1,this.lockSfxSlider());var r=localStorage.getItem("SoundVolume");this.sliderSoundVolume.progress=Number(r),this.progressBarSoundVolume.progress=Number(r)},n.setZoomOut=function(e){window.audioManager.playLobbyUISound("PopUpClose");var i=e;m(i).to(.2,{scale:new S(0,0,1)}).call((function(){i.destroy()})).start()},n.clickBackButton=function(){window.audioManager.playSound("lobbyBtnCancel"),this.setZoomOut(this.node)},n.clickMusicButton=function(){var e=localStorage.getItem("isMusicOn");"true"===e?(window.audioManager.isMusicOn=!1,window.audioManager.stopMusic(),this.toggleMusic.isChecked=!0,localStorage.setItem("isMusicOn","false"),this.lockMusicSlider()):"false"===e&&(window.audioManager.isMusicOn=!0,window.audioManager.resumeMusic(),this.toggleMusic.isChecked=!1,localStorage.setItem("isMusicOn","true"),this.unlockMusicSlider())},n.clickMusicVolumeButton=function(){var e=this.sliderMusicVolume.progress;this.progressBarMusicVolume.progress=e,e=Number(e.toFixed(1)),localStorage.setItem("MusicVolume",e.toString()),window.audioManager.musicVolume=e,p.BGVolume=e,window.audioManager.setMusicVolume(e)},n.clickSoundButton=function(){var e=localStorage.getItem("isSoundOn");"true"===e?(window.audioManager.isSoundOn=!1,window.audioManager.stopSound(),this.toggleSound.isChecked=!0,localStorage.setItem("isSoundOn","false"),this.lockSfxSlider()):"false"===e&&(window.audioManager.isSoundOn=!0,window.audioManager.playSound(),this.toggleSound.isChecked=!1,localStorage.setItem("isSoundOn","true"),this.unlockSfxSlider())},n.clickSoundVolumeButton=function(){var e=this.sliderSoundVolume.progress;this.progressBarSoundVolume.progress=e,e=Number(e.toFixed(1)),localStorage.setItem("SoundVolume",e.toString()),window.audioManager.soundVolume=e,window.audioManager.setSoundVolume(e),p.SFXVolume=e},n.lockMusicSlider=function(){this.musicHandler.setMaterial(this.disableMaterial,0),this.musicSlideBlockerNode.active=!0},n.lockSfxSlider=function(){this.soundHandler.setMaterial(this.disableMaterial,0),this.soundSlideBlockerNode.active=!0},n.unlockMusicSlider=function(){this.musicHandler.setMaterial(this.normalMaterial,0),this.musicSlideBlockerNode.active=!1},n.unlockSfxSlider=function(){this.soundHandler.setMaterial(this.normalMaterial,0),this.soundSlideBlockerNode.active=!1},i}(M)).prototype,"toggleMusic",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(C.prototype,"sliderMusicVolume",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(C.prototype,"toggleSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(C.prototype,"sliderSoundVolume",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(C.prototype,"progressBarSoundVolume",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(C.prototype,"progressBarMusicVolume",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(C.prototype,"musicHandler",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(C.prototype,"soundHandler",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(C.prototype,"disableMaterial",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(C.prototype,"normalMaterial",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(C.prototype,"musicSlideBlockerNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(C.prototype,"soundSlideBlockerNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=C))||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkManager.ts",["cc","./Socket_Io.mjs_cjs=&original=.js","./Fish_Server_Event_Manager.ts","./Socket_Io.js"],(function(e){var n,t,o;return{setters:[function(e){n=e.cclegacy},null,function(e){t=e.Fish_Server_Event_Manager},function(e){o=e.default}],execute:function(){n._RF.push({},"0cfd9XOWv9ArJHtM9PRvrpU","NetworkManager",void 0),e("NetworkManager",function(){function e(){this._Socket=null,this._reconnectionMaxTime=1e4,this.fishGameTypeName=null}e.getInstance=function(){return e.instance||(e.instance=new e),e.instance};var n=e.prototype;return n.init=function(){var e=this;return new Promise((function(n,r){e._Socket=o.io("https://fish-server-osn7.onrender.com"),console.log("fbn c: ",e._Socket),e._Socket.io._reconnection=!1,e._Socket.io._reconnectionAttempts=1,e._Socket.io._reconnectionDelayMax=e._reconnectionMaxTime;var c=e;e._Socket.on("connect",(function(){return console.log("client connected"),t.getInstance()._reconnectionTimerId&&clearTimeout(t.getInstance()._reconnectionTimerId),n(c._Socket)}))}))},n.initPlayer=function(){return{playerSessionId:"123"+100*Math.random(),fishGameSessionId:"123"+100*Math.random(),playerId:"123"+100*Math.random(),gameSessionId:"123"+100*Math.random(),PlayerAccessToken:"123"+100*Math.random(),PlayerName:"Dhananjay",TokenType:"GAME_TOKEN",photoId:2,betAmountArray:[1,2,3,4],fishGameId:"123"+100*Math.random(),betGroupId:"123"+100*Math.random(),TokenBalance:2e3,withdrawableWinnings:2e3}},e}()).instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/OCB_Bullet_Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletManager.ts","./DoubleBullet.ts","./FireBullet.ts","./SingleBullet.ts","./OCB_Constant.ts","./GameModel.ts","./FishSoundManager.ts"],(function(e){var t,n,i,l,s,o,a,u,r,d,c,p,B,g,f,I,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,a=e.instantiate},function(e){u=e.BulletManager},function(e){r=e.DoubleBullet},function(e){d=e.FireBullet},function(e){c=e.SingleBullet},function(e){p=e.GunType,B=e.SoundFiles,g=e.BulletHitAnimationName,f=e.GunTypeCode},function(e){I=e.GameModel},function(e){y=e.FishSoundManager}],execute:function(){var b,m,v,h,A;s._RF.push({},"91577uOGRxIYLfQ3SCR7BXV","OCB_Bullet_Manager",void 0);var S=o.ccclass,_=o.property;e("OCB_Bullet_Manager",(b=S("OCB_Bullet_Manager"),m=_(d),b((A=t((h=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"fireBullet",A,l(t)),t}n(t,e);var s=t.prototype;return s.addBullet=function(e){var t=this;if(!e.isFirstTime&&e.bullets&&e.bullets.length>0){var n,i=I.fishManager.bulletContainer;this.playBulletsFireSoundAndAnimation(e),e.bullets.forEach((function(e){switch(e.type){case p.DOUBLE_BARREL:(n=a(t.doubleBullet.node)).parent=i,n.active=!0,n.setPosition(e.newPos);var l=n.getComponent(r);l.type=e.type,l.updatePosition(e.newPos),l.sessionId=e.sessionId,l.clientId=e.clientId,l.updateAngle(e.angle),t.bulletNodes.set(e.sessionId,l);break;case p.FIREGUN:(n=a(t.fireBullet.node)).parent=i,n.active=!0,n.setPosition(e.newPos);var s=n.getComponent(d);s.type=e.type,s.updatePosition(e.newPos),s.sessionId=e.sessionId,s.clientId=e.clientId,s.updateAngle(e.angle),t.bulletNodes.set(e.sessionId,s);break;case p.LASER:break;case p.SINGLE_BARREL:(n=a(t.singleBullet.node)).parent=i,n.active=!0,n.setPosition(e.newPos);var o=n.getComponent(c);o.type=e.type,o.updatePosition(e.newPos),o.sessionId=e.sessionId,o.clientId=e.clientId,o.updateAngle(e.angle),t.bulletNodes.set(e.sessionId,o)}}))}},s.playBulletsFireSoundAndAnimation=function(e){if(!e.isFirstTime&&e.bullets.length>0){var t=e.bullets[0],n=I.gunManager.getGunComponentBySessionId(t.clientId);if(n&&(n.playGunAnimation(),I.gunManager.mysessionId==t.clientId))switch(t.type){case p.SINGLE_BARREL:y.startClickSound(B.SingleBarrel);break;case p.DOUBLE_BARREL:y.startClickSound(B.Doublebarrel)}}},s.destroyBullet=function(e){var t=this.getBulletComponentBySessionId(e.sessionId);if((null==t?void 0:t.sessionId)===e.sessionId){this.bulletNodes.delete(e.sessionId);var n=this.getBulletHitAnimationName(t.type);t.bulletEffect?t.bulletEffect.activate(n):t.node.destroy()}},s.getBulletHitAnimationName=function(e){var t=g[f[e]];return t||"animation"},t}(u)).prototype,"fireBullet",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=h))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/OCB_Constant.ts",["cc","./FishSoundManager.ts"],(function(_){var e,n;return{setters:[function(_){e=_.cclegacy},function(_){n=_.FishSoundManager}],execute:function(){e._RF.push({},"3c5cdH7k6JC3Y9pUO3xfj+H","OCB_Constant",void 0);var i=_("FishType",function(_){return _[_.OB_F_L1=0]="OB_F_L1",_[_.OB_F_L2=1]="OB_F_L2",_[_.OB_F_L3=2]="OB_F_L3",_[_.OB_F_L4=3]="OB_F_L4",_[_.OB_F_L5=4]="OB_F_L5",_[_.OB_F_L6=5]="OB_F_L6",_[_.OB_F_L7=6]="OB_F_L7",_[_.OB_F_M1=7]="OB_F_M1",_[_.OB_F_M2=8]="OB_F_M2",_[_.OB_F_M3=9]="OB_F_M3",_[_.OB_F_M4=10]="OB_F_M4",_[_.OB_F_M5=11]="OB_F_M5",_[_.OB_F_H1=12]="OB_F_H1",_[_.OB_F_H2=13]="OB_F_H2",_[_.OB_F_H3=14]="OB_F_H3",_[_.OB_F_Boss=15]="OB_F_Boss",_}({})),B=(_("GunTypeCode",{0:"NORMAL_GUN",1:"LASER_GUN",2:"DOUBLE_BARREL_GUN",3:"FIRE_GUN"}),_("BGAnimationNames",{RANDOM_IDLE:"Base_BG",RANDOM_TO_WAVE:"Transition_3",WAVE_IDLE:"Feature_BG",WAVE_TO_RANDOM:"Transition_2"}),_("SoundFiles",function(_){return _[_.Bg1=0]="Bg1",_[_.Bg2=1]="Bg2",_[_.BetPlus=2]="BetPlus",_[_.BetMinus=3]="BetMinus",_[_.GeneralClick=4]="GeneralClick",_[_.Hamburger_C=5]="Hamburger_C",_[_.Hamburger_O=6]="Hamburger_O",_[_.MenuClick=7]="MenuClick",_[_.MenuPopup_O=8]="MenuPopup_O",_[_.MenuPopup_C=9]="MenuPopup_C",_[_.MenuPopup_X=10]="MenuPopup_X",_[_.Weapon_Change=11]="Weapon_Change",_[_.SingleBarrel=12]="SingleBarrel",_[_.Doublebarrel=13]="Doublebarrel",_[_.Laser1=14]="Laser1",_[_.FreezeStart=15]="FreezeStart",_[_.FreezeClose=16]="FreezeClose",_[_.Treasure_Bonus_BG=17]="Treasure_Bonus_BG",_[_.FortuneWheel_Bonus_BG=18]="FortuneWheel_Bonus_BG",_[_.BossHit=19]="BossHit",_[_.pop_boss=20]="pop_boss",_[_.Pop_High=21]="Pop_High",_[_.Pop_Medium=22]="Pop_Medium",_[_.Pop_Small=23]="Pop_Small",_[_.FireGun=24]="FireGun",_}({})));_("FISH_BONUS_GAME",function(_){return _[_.WOF=0]="WOF",_[_.TBZ=1]="TBZ",_}({})),_("UiPannelWidth",{Width:[450,600]}),_("GunType",function(_){return _[_.SINGLE_BARREL=0]="SINGLE_BARREL",_[_.LASER=1]="LASER",_[_.DOUBLE_BARREL=2]="DOUBLE_BARREL",_[_.FIREGUN=3]="FIREGUN",_}({})),_("FloatingIconSymbolCode",{DOUBLE_BARREL_GUN:"DBG",FIRE_FUN:"FRG",WHEEL_OF_FORTUNE:"WOF",TREASURE:"TBZ"}),_("Recoils",{NORMAL_GUN:["recoil"],LASER_GUN:["recoil"],DOUBLE_BARREL_GUN:["recoil1","recoil2"],FIRE_GUN:["recoil"]}),_("BulletHitAnimationName",{NORMAL_GUN:"animation",LASER_GUN:"animation",DOUBLE_BARREL_GUN:"animation",FIREGUN:"animation"}),_("GunRecoilAnimationName",{NORMAL_GUN:"animation",LASER_GUN:"animation",DOUBLE_BARREL_GUN:"animation",FIREGUN:"animation"}),_("GunFireSpineAnimationName",{NORMAL_GUN:"Fire",LASER_GUN:"Fire",DOUBLE_BARREL_GUN:"Fire",FIREGUN:"Fire"}),_("GunIdleSpineAnimationName",{NORMAL_GUN:"Idle",LASER_GUN:"Idle",DOUBLE_BARREL_GUN:"Idle",FIREGUN:"Idle"});_("FishDestroySound",function(){function _(){}return _.getInstance=function(){return this.instance||(this.instance=new _),this.instance},_.prototype.fishRemoveSound=function(_){switch(_){case i.OB_F_Boss:n.startFishClickSound(B.pop_boss);break;case i.OB_F_L1:case i.OB_F_L2:case i.OB_F_L3:case i.OB_F_L4:case i.OB_F_L5:case i.OB_F_L6:case i.OB_F_L7:n.startFishClickSound(B.Pop_Small);break;case i.OB_F_M1:case i.OB_F_M2:case i.OB_F_M3:case i.OB_F_M4:case i.OB_F_M5:n.startFishClickSound(B.Pop_Medium);break;case i.OB_F_H1:case i.OB_F_H2:case i.OB_F_H3:n.startFishClickSound(B.Pop_High)}},_}()).instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/OCB_Fish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Fish.ts","./OCB_Constant.ts","./FourPlayerViewManager.ts"],(function(e){var i,t,n,s,o,r,a,h;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,s=e.Vec3,o=e.game},function(e){r=e.Fish},function(e){a=e.FishType},function(e){h=e.FourPlayerViewEvent}],execute:function(){var c;t._RF.push({},"391a3yNpapLBKT1cOxqDa5k","OCB_Fish",void 0);var u=n.ccclass;n.property,e("OCB_Fish",u("OCB_Fish")(c=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.updatePosition=function(e){var i=new s;this.node&&(s.subtract(i,this.node.getPosition(),new s(e.x,e.y,0)),this.updateFishPositionAccordingToView(this.fishType,this.node,e),this.targetPosition=new s(e.x,e.y,0))},n.updateAngle=function(e){var i=180/Math.PI*+e-90,t=this.isUpdateInvertedFishAccordingToView(this.fishType,this.node);t.angle>0&&(i=t.angle+i),this.targetEulerAngles=new s(0,0,this.normalizeAngle(i))},n.updateFishPositionAccordingToView=function(e,i,t){switch(e){case a.OB_F_M1:return this.updateFishPosition(i,t,!0),!0}return!1},n.setFishType=function(e){this.fishType=e},n.isUpdateInvertedFishAccordingToView=function(e,i){return{angle:0}},n.updateFishPosition=function(e,i,t){var n=new s;if(s.subtract(n,e.getPosition(),new s(i.x,i.y,0)),t){if(n.x<0){var r={fish:e,right:!0,left:!1};o.emit(h.ManageSeaHorse,r)}else if(n.x>0){var a={fish:e,right:!1,left:!0};o.emit(h.ManageSeaHorse,a)}}else if(n.x<0){var c={fish:e,right:!1,left:!0};o.emit(h.ManageSeaHorse,c)}else if(n.x>0){var u={fish:e,right:!0,left:!1};o.emit(h.ManageSeaHorse,u)}},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/OCB_FishManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishManager.ts","./OCB_Constant.ts","./FourPlayerViewManager.ts","./OCB_Fish.ts","./GameModel.ts","./SummonFish.ts"],(function(s){var e,i,n,t,o,a,h,r,u,f,l,d,c,p,F;return{setters:[function(s){e=s.inheritsLoose,i=s.asyncToGenerator,n=s.regeneratorRuntime},function(s){t=s.cclegacy,o=s._decorator,a=s.instantiate,h=s.game,r=s.Vec3},function(s){u=s.FishManager},function(s){f=s.FishType,l=s.FishDestroySound},function(s){d=s.FourPlayerViewEvent},function(s){c=s.OCB_Fish},function(s){p=s.GameModel},function(s){F=s.SummonFish}],execute:function(){var m;t._RF.push({},"6660eRNw99Ge5dxbD3RJNsy","OCB_FishManager",void 0);var g=o.ccclass;o.property,s("OCB_FishManager",g("OCB_FishManager")(m=function(s){function t(){for(var e,i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];return(e=s.call.apply(s,[this].concat(n))||this).summonFishComponent=null,e.fishNodesMap=new Map,e}e(t,s);var o=t.prototype;return o.addFish=function(s){var e=this;s.fishes.forEach((function(i){if(s.isFirstTime&&e.initialFishCounter++,!e.fishNodesMap.has(i.sessionId)){var n=a(e.fishPrefabs[+i.fishType]);n.setPosition(i.newPos);var t=n.getComponent(c);switch(e.fishNodesMap.set(i.sessionId,t),e.addFishToContainer(n,+i.fishType,t),t.sessionId=i.sessionId,t.setFishType(i.fishType),t.updatePosition(i.newPos),t.setFinalPosition(i.finalDestination),i.fishType){case f.OB_F_Boss:h.emit(d.ManageBoss,n)}}s.isFirstTime&&e.initialFishCounter>=s.fishes.length&&(e.isAllFishesGeneratedInitially=!0,e.initialFishCounter=0)})),0==s.fishes.length&&s.isFirstTime&&this.initialFishCounter>=s.fishes.length&&(this.isAllFishesGeneratedInitially=!0,this.initialFishCounter=0)},o.addFishToContainer=function(s,e,i){e==f.OB_F_Boss?this.bossFishContainer.addChild(s):e==f.OB_F_H1&&p.effectsManager.summonNode?(this.summonFishComponent=i,p.effectsManager.summonNode.getComponent(F).init(s)):this.fishContainer.addChild(s)},o.updateFish=function(s){var e=this;s.fishes.length>0&&s.fishes.forEach((function(s){var i=e.getfishBySessionId(s.sessionId);i&&i==e.summonFishComponent?(i.updatePosition(new r(s.newPos.x+480,s.newPos.y,0)),i.updateAngle(s.newAngle)):i&&(i.updatePosition(s.newPos),e.isNeedFishUpdateAngle(i.fishType)&&i.updateAngle(s.newAngle))}))},o.removeAllFishes=function(){var s=this;this.fishNodesMap.forEach((function(e){var i,n;e==s.summonFishComponent&&p.effectsManager.stopSummonEffect(e),null!=e&&null!=(i=e.node)&&i.isValid&&(null==e||null==(n=e.node)||n.destroy())})),this.destroyAllFishes(),this.fishNodesMap.clear()},o.fishDestroyed=function(){var s=i(n().mark((function s(e,i){var t;return n().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:void 0===i&&(i=!1),t=this.getfishBySessionId(e.sessionId),i&&t&&e.clientId&&p.gunManager.mysessionId==e.clientId&&l.getInstance().fishRemoveSound(t.fishType),t&&t==this.summonFishComponent?p.effectsManager.stopSummonEffect():this.destroyFish(t,i),this.fishNodesMap.has(null==e?void 0:e.sessionId)&&this.fishNodesMap.delete(null==e?void 0:e.sessionId);case 5:case"end":return s.stop()}}),s,this)})));return function(e,i){return s.apply(this,arguments)}}(),o.getfishBySessionId=function(s){var e=this.fishNodesMap.get(s);return e||null},o.isNeedFishUpdateAngle=function(s){switch(s){case f.OB_F_M1:case f.OB_F_Boss:return!1}return!0},t}(u))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/OCB_Gun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Gun.ts","./OCB_Constant.ts","./GameModel.ts","./TapDetector.ts","./FishSoundManager.ts","./BulletEffectHandler.ts","./PlayerDataModel.ts"],(function(e){var i,n,t,s,a,o,l,r,u,c,h,G,d,m,p,f,R,g,S,A,B,E,v,I;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,r=e.sp,u=e.find,c=e.ParticleSystem2D,h=e.Vec3,G=e.game},function(e){d=e.Gun},function(e){m=e.GunType,p=e.SoundFiles,f=e.GunFireSpineAnimationName,R=e.GunTypeCode,g=e.GunRecoilAnimationName,S=e.GunIdleSpineAnimationName},function(e){A=e.GameModel},function(e){B=e.TapEvents},function(e){E=e.FishSoundManager},function(e){v=e.BulletEffectHandler},function(e){I=e.PlayerDataModel}],execute:function(){var L,T,N,y,b;a._RF.push({},"6abb50Sq2xEdIKEkKFzlqDn","OCB_Gun",void 0);var P=o.ccclass,D=o.property;e("OCB_Gun",(L=P("OCB_Gun"),T=D(l),L((b=i((y=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,t(i,"fireGun",b,s(i)),i.fireGunSpine=null,i.fireGunRecoil=null,i.fireParticle=null,i.gunRecoilAnimationTimeOutIds=[],i.gunSpineAnimationTimeOutIds=[],i}n(i,e);var a=i.prototype;return a.onLoad=function(){this.initProperties(),this.gunPosition=this.node.position},a.initProperties=function(){this.singleBarrelGun&&(this.singleBarrelGunSpine=this.singleBarrelGun.getChildByName("animation").getComponent(r.Skeleton),this.singleBarrelRecoil=u("recoil",this.singleBarrelGun).getComponent(r.Skeleton)),this.laserGun&&(this.laserGunSpine=this.laserGun.getChildByName("animation").getComponent(r.Skeleton),this.laserEffect=u("effect",this.laserGun),this.laserGunRecoil=u("recoil",this.laserGun).getComponent(r.Skeleton),this.laserParticle=u("Laser_Bullet",this.laserGun),this.laserGunRecoil.setCompleteListener(this.laserRecoilAnimationCompleted.bind(this))),this.fireGun&&(this.fireGunSpine=this.fireGun.getChildByName("animation").getComponent(r.Skeleton),this.fireParticle=u("fireEffect",this.fireGun),this.fireGunRecoil=u("recoil",this.fireGun).getComponent(r.Skeleton)),this.doubleBarrelGun&&(this.doubleBarrelGunSpine=this.doubleBarrelGun.getChildByName("animation").getComponent(r.Skeleton),this.doubleBarrelGunRecoil1=u("recoil1",this.doubleBarrelGun).getComponent(r.Skeleton),this.doubleBarrelGunRecoil2=u("recoil2",this.doubleBarrelGun).getComponent(r.Skeleton))},a.initGun=function(e){if(this.previousGun=this.singleBarrelGun,this.setPlaceId(e.placeId),this.setSessionId(e.sessionId),this.setPlayerName(e.playerData.PlayerName),this.setPlayerToken(e.playerData.TokenBalance),this.setPlayerPrizeToken(e.playerData.withdrawableWinnings),this.setGunType(e.guntype),this.angleOffset=this.getAngleOffset(),"3"==this.placeID||"2"==this.placeID){var i,n;if(!this.fireParticle)return;if((null==(i=this.fireParticle)?void 0:i.children.length)>0)null==(n=this.fireParticle)||n.children.forEach((function(e){e.getComponent(c).angle=-e.getComponent(c).angle}));else this.fireParticle.getComponent(c).angle=-this.fireParticle.getComponent(c).angle}},a.updateGunVisibilty=function(e){switch(this.canBulletFire=!1,v.getInstance().stopBulletEffects(this.getSessionId()),this.singleBarrelGunSpine.node.active=!1,this.laserGunSpine.node.active=!1,this.doubleBarrelGunSpine.node.active=!1,this.fireGunSpine.node.active=!1,A.gunManager.mysessionId==this.sessionID&&this.updateBulletResponse(null),this.stopGunAnimation(),this.doubleBarrelGunRecoil1.node.active=!1,this.doubleBarrelGunRecoil2.node.active=!1,this.fireParticle.children.forEach((function(e){e.getComponent(c).stopSystem()})),this.fireParticle.active=!1,this.fireGunRecoil.node.active=!1,this.singleBarrelRecoil.node.active=!1,this.laserGunRecoil.node.active=!1,this.gunType){case m.FIREGUN:this.fireParticle.active=!0,this.fireParticle.children.forEach((function(e){null==e||e.getComponent(c).resetSystem()})),this.playGunAnimation(),this.unschedule(this.fireBullet);case m.DOUBLE_BARREL:case m.LASER:this.unschedule(this.fireBullet);case m.SINGLE_BARREL:}},a.playGunAnimation=function(){switch(this.gunType){case m.SINGLE_BARREL:this.singleBarrelGunSpine.setAnimation(0,this.getGunFireSpineAnimationName(m.SINGLE_BARREL),!1),this.singleBarrelRecoil.node.active=!0,this.singleBarrelRecoil.setAnimation(0,this.getGunRecoilAnimationName(m.SINGLE_BARREL),!1),this.stopGunRecoilAnimation([this.singleBarrelRecoil],m.SINGLE_BARREL),this.setGunSpineIdleAnimation(this.singleBarrelGunSpine,m.SINGLE_BARREL);break;case m.DOUBLE_BARREL:this.doubleBarrelGunSpine.setAnimation(0,this.getGunFireSpineAnimationName(m.DOUBLE_BARREL),!1),this.doubleBarrelGunRecoil1.node.active=!0,this.doubleBarrelGunRecoil2.node.active=!0,this.doubleBarrelGunRecoil1.setAnimation(0,this.getGunRecoilAnimationName(m.DOUBLE_BARREL),!1),this.doubleBarrelGunRecoil2.setAnimation(0,this.getGunRecoilAnimationName(m.DOUBLE_BARREL),!1),this.stopGunRecoilAnimation([this.doubleBarrelGunRecoil1,this.doubleBarrelGunRecoil2],m.DOUBLE_BARREL),this.setGunSpineIdleAnimation(this.doubleBarrelGunSpine,m.DOUBLE_BARREL);break;case m.FIREGUN:this.fireParticle.active=!0,this.fireParticle.children.forEach((function(e){null==e||e.getComponent(c).resetSystem()})),this.fireGunRecoil.node.active=!0,this.fireGunRecoil.setAnimation(0,this.getGunRecoilAnimationName(m.FIREGUN),!0),this.fireGunSpine.setAnimation(0,this.getGunFireSpineAnimationName(m.FIREGUN),!0);break;case m.LASER:this.laserGunRecoil.node.active=!0,this.laserGunRecoil.setAnimation(0,this.getGunRecoilAnimationName(m.LASER),!0),this.laserGunSpine.setAnimation(0,this.getGunFireSpineAnimationName(m.LASER),!0)}},a.stopGunRecoilAnimation=function(e,i){var n=this;if(e.length>0){var t=e[0].skeletonData.getRuntimeData(!1).findAnimation(this.getGunRecoilAnimationName(i));t&&(clearTimeout(this.gunRecoilAnimationTimeOutIds[i]),this.gunRecoilAnimationTimeOutIds[i]=setTimeout((function(){e.forEach((function(e,t){e.skeletonData.getRuntimeData(!1).findAnimation(n.getGunRecoilAnimationName(i))&&(e.clearTrack(0),e.setToSetupPose(),e.node.active=!1)}))}),1e3*t.duration))}},a.setGunSpineIdleAnimation=function(e,i){var n=this,t=e.skeletonData.getRuntimeData(!1).findAnimation(this.getGunIdleSpineAnimationName(i));t&&(clearTimeout(this.gunSpineAnimationTimeOutIds[i]),this.gunSpineAnimationTimeOutIds[i]=setTimeout((function(){e.setAnimation(0,n.getGunIdleSpineAnimationName(i),!0)}),1e3*t.duration))},a.stopGunAnimation=function(){switch(this.gunType){case m.SINGLE_BARREL:this.singleBarrelGunSpine.clearTrack(0),this.singleBarrelGunSpine.setToSetupPose(),this.singleBarrelGunSpine.node.active=!0,this.singleBarrelGunSpine.setAnimation(0,this.getGunIdleSpineAnimationName(m.SINGLE_BARREL),!0),this.singleBarrelRecoil.clearTrack(0),this.singleBarrelRecoil.setToSetupPose(),this.singleBarrelRecoil.node.active=!1;break;case m.DOUBLE_BARREL:this.doubleBarrelGunSpine.node.active=!0,this.doubleBarrelGunSpine.setAnimation(0,this.getGunIdleSpineAnimationName(m.DOUBLE_BARREL),!0),this.doubleBarrelGunRecoil1.clearTrack(0),this.doubleBarrelGunRecoil1.setToSetupPose(),this.doubleBarrelGunRecoil1.node.active=!1,this.doubleBarrelGunRecoil2.clearTrack(0),this.doubleBarrelGunRecoil2.setToSetupPose(),this.doubleBarrelGunRecoil2.node.active=!1;break;case m.FIREGUN:this.fireParticle.children.forEach((function(e){null==e||e.getComponent(c).stopSystem()})),this.fireParticle.active=!1,this.fireGunSpine.node.active=!0,this.fireGunSpine.setAnimation(0,this.getGunIdleSpineAnimationName(m.FIREGUN),!0),this.fireGunRecoil.node.active=!1;break;case m.LASER:this.laserGunSpine.node.active=!0,this.laserGunSpine.setAnimation(0,this.getGunIdleSpineAnimationName(m.LASER),!0),this.laserGunRecoil.node.active=!1}},a.setGunType=function(e){this.gunType=e,this.disableLaserFromAllFishesAndIcons(),this.GunSwitchTranstion.setAnimation(0,"animation",!1);this.updateGunVisibilty(null)},a.onMouseDown=function(e){if(this.isGunActive=!0,this.updateGun(e),!this.isNeedToReturnOnTouch(this.gunType)){var i=e.getUILocation(),n=new h,t=new h;"2"==this.placeID||"3"==this.placeID?(t=new h(-i.x,-i.y,0),n=this.convertToDesignTouch(-960,-540)):(t=new h(i.x,i.y,0),n=this.convertToDesignTouch(960,540)),this.fireBullet(new h(t.x-n.x,t.y-n.y,0)),this.isNotNeedToScheduleFireBullet(this.gunType)&&this.schedule(this.fireBullet,.34)}},a.onMouseUp=function(e){this.isGunActive=!1,G.emit(B.TOUCH_START,e),this.isNeedToReturnOnTouch(this.gunType)||(this.stopGunAnimation(),this.unschedule(this.fireBullet))},a.onMouseMove=function(e){this.isGunActive&&this.updateGun(e)},a.activateLaser=function(e){this.sessionID==A.gunManager.mysessionId&&E.startFeatureSound(p.Laser1,!0),I.isLaserActive=!1,e.isUniqueFish||this.updateLaser({delta:0,angle:0,placeId:e.placeId,iconSessionId:e.iconSessionId,fishSessionId:e.fishSessionId,isUniqueFish:e.isUniqueFish}),this.playGunAnimation(),this.isLaserActive=!0,this.laserParticle.active=!0,this.laserEffect.active=!0},a.deactivateLaser=function(){this.sessionID==A.gunManager.mysessionId&&E.featureSoundStop(p.Laser1),I.isLaserActive=!1,G.emit(B.RESET),this.stopGunAnimation(),this.isLaserActive=!1,this.laserParticle.active=!1,this.laserEffect.active=!1,this.laserGunRecoil.node.active=!1},a.getGunFireSpineAnimationName=function(e){var i=f[R[e]];return i||"Fire"},a.getGunRecoilAnimationName=function(e){var i=g[R[e]];return i||"animation"},a.getGunIdleSpineAnimationName=function(e){var i=S[R[e]];return i||"Idle"},a.isNeedToReturnOnTouch=function(e){return e==m.LASER||e==m.FIREGUN},a.isNotNeedToScheduleFireBullet=function(e){switch(e){case m.FIREGUN:return!1}return!0},i}(d)).prototype,"fireGun",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=y))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/OCB_GunManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GunManager.ts","./OCB_Constant.ts","./FishSoundManager.ts","./FourPlayerViewManager.ts","./GameModel.ts","./OCB_Gun.ts","./ClientData.ts","./PlayerDataModel.ts","./Fish_Server_Event_Manager.ts"],(function(e){var n,t,o,s,u,i,a,r,l,c,h,f,d,T,g,p,v,G,E,y,B;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,s=e.Node,u=e.input,i=e.Input,a=e.instantiate,r=e.game,l=e.Vec3,c=e.UITransform},function(e){h=e.GunManager},function(e){f=e.GunType,d=e.GunTypeCode,T=e.SoundFiles},function(e){g=e.FishSoundManager},function(e){p=e.FourPlayerViewEvent},function(e){v=e.GameModel},function(e){G=e.OCB_Gun},function(e){E=e.ClientEvents},function(e){y=e.PlayerDataModel},function(e){B=e.Fish_Server_Event_Manager}],execute:function(){var C;t._RF.push({},"d41c6j2hqtI2ambp0Uf/pF5","OCB_GunManager",void 0);var M=o.ccclass;o.property,e("OCB_GunManager",M("OCB_GunManager")(C=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(n=e.call.apply(e,[this].concat(o))||this).selfGun=null,n.gunsMap=new Map,n}n(t,e);var o=t.prototype;return o.onLoad=function(){this.onLoadGunManager()},o.start=function(){this.registerEvents(),this.startGunManager()},o.registerEvents=function(){this.backgroundTapDetectator.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.backgroundTapDetectator.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.backgroundTapDetectator.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.backgroundTapDetectator.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),u.on(i.EventType.TOUCH_START,this.onTouchStartLaser,this),u.on(i.EventType.TOUCH_MOVE,this.onTouchMoveLaser,this),u.on(i.EventType.TOUCH_END,this.onTouchEndLaser,this),u.on(i.EventType.TOUCH_CANCEL,this.onTouchEndLaser,this)},o.onTouchStart=function(e){var n,t,o,s;null==(n=this.summonAndFreezeOn)||n.touchStart(e),null!=(t=this.selfGun)&&t.canBulletFire||this.isNeedToCheckBackgroundNormalTouch(null==(o=this.selfGun)?void 0:o.gunType)||(e.preventSwallow=!0,null==(s=this.selfGun)||s.onMouseDown(e))},o.onTouchMove=function(e){var n,t,o,s;null==(n=this.summonAndFreezeOn)||n.touchMove(e),null!=(t=this.selfGun)&&t.canBulletFire||this.isNeedToCheckBackgroundNormalTouch(null==(o=this.selfGun)?void 0:o.gunType)||null==(s=this.selfGun)||s.onMouseMove(e)},o.onTouchEnd=function(e){var n,t,o,s;null==(n=this.summonAndFreezeOn)||n.touchEnd(e),null!=(t=this.selfGun)&&t.canBulletFire||this.isNeedToCheckBackgroundNormalTouch(null==(o=this.selfGun)?void 0:o.gunType)||(e.preventSwallow=!0,null==(s=this.selfGun)||s.onMouseUp(e))},o.onTouchStartLaser=function(e){var n,t,o,s,u;v.uiManager.youAreHerePopupClickAction(),null==(n=this.summonAndFreezeOn)||n.touchStart(e),null!=(t=this.selfGun)&&t.canBulletFire||(null!=(o=this.selfGun)&&o.isLaserActive&&(e.preventSwallow=!0,v.fishManager.fishNodesMap.forEach((function(e){null==e||e.disableLaser()})),v.floatingObjectManager.iconNodesMap.forEach((function(e){null==e||e.disableLaser()}))),this.isNeedToCheckBackgroundLaserTouch(null==(s=this.selfGun)?void 0:s.gunType)||(console.log("gun type laser on tyouch start +++++++"),null==(u=this.selfGun)||u.onMouseDown(e)))},o.onTouchMoveLaser=function(e){var n;if(null==(n=this.summonAndFreezeOn)||n.touchMove(e),this.selfGun){if(this.selfGun.canBulletFire)return;if(this.selfGun.isLaserActive)return;if(this.isNeedToCheckBackgroundLaserTouch(this.selfGun.gunType))return;this.selfGun.onMouseMove(e)}},o.onTouchEndLaser=function(e){var n;if(null==(n=this.summonAndFreezeOn)||n.touchEnd(e),this.selfGun){if(this.selfGun.canBulletFire)return;if(this.selfGun.isLaserActive)return;if(this.isNeedToCheckBackgroundLaserTouch(this.selfGun.gunType))return;this.selfGun.onMouseMove(e)}},o.addGun=function(e,n){var t,o=a(this.gun),s=o.getComponent(G);this.gunsMap.set(e.sessionId,s),this.node.addChild(o),o.name=e.placeId,o.setPosition(this.getGunPosByPlaceID(e.placeId)),o.setScale(this.getGunScaleByPlaceID(e.placeId));try{s.initGun(e)}catch(e){console.error("err : ",e)}n&&(this.selfGunPlaceId=e.placeId,v.uiManager.activePlayerPosNotification(this.selfGunPlaceId),this.selfGun=o.getComponent(G),this.selfGun.setPlayerId(e.playerData.playerId),this.selfGun.registerEvents(),this.mysessionId=e.sessionId,(null==(t=this.selfGun)?void 0:t.sessionID)==e.sessionId&&window.audioManager.stopSound(),this.isMyPlayerdConnected=!0,r.emit(p.ManageConnectingNode));v.gunBaseManager.showBaseForPlaceId(+e.placeId),v.uiManager.showPlayerInfoForPlaceId(+e.placeId)},o.getGunComponentBySessionId=function(e){return this.gunsMap.has(e)?this.gunsMap.get(e):null},o.getGunComponentByPlaceId=function(e){return this.getGunByPlaceID(e)?this.getGunByPlaceID(e).getComponent(G):null},o.activateLaserGun=function(e){var n=this.getGunComponentByPlaceId(e.placeId);n&&n.activateLaser(e)},o.deactivateLaserGun=function(e){var n=this.getGunComponentByPlaceId(e);n&&n.deactivateLaser()},o.deactivateAllLaserGuns=function(){this.gunsMap.forEach((function(e){e.gunType==f.LASER&&(B.getInstance().fireEventToServer(E.DEACTIVATE_LASER),e.deactivateLaser(),e.disableLaserFromAllFishesAndIcons())}))},o.fireBullet=function(e,n){var t=this.getSelfGun(),o=new l;switch(this.getGunType()){case f.SINGLE_BARREL:o.x=t.singleBarrelGun.getChildByName("bullet").getPosition().x,o.y=t.singleBarrelGun.getChildByName("bullet").getPosition().y,o.z=0,this.fireBulletSpwanEventsToServer(o,e,!1);break;case f.DOUBLE_BARREL:o.x=t.doubleBarrelGun.getChildByName("bullet").getPosition().x,o.y=t.doubleBarrelGun.getChildByName("bullet").getPosition().y,o.z=0,this.fireBulletSpwanEventsToServer(o,e,!1);break;case f.FIREGUN:this.fireBulletSpwanEventsToServer(o,e,!1);break;case f.LASER:}return o},o.fireBulletSpwanEventsToServer=function(e,n,t,o){void 0===t&&(t=!1);var s={bulletPosX:(e=this.bulletContainer.getComponent(c).convertToNodeSpaceAR(this.getSelfGun().getComponent(c).convertToWorldSpaceAR(e))).x,bulletPosY:e.y,bulletAngle:n,betToken:this.getSelfGun().getCurrentBetTokenAmount(),fishGameId:"2345",gunProperty:d[""+this.getSelfGun().gunType],betGroupId:"1"};this.fireEventsAccordingToBulletType(s,t,o)},o.changeMyGun=function(e,n){if(this.gunsMap.get(e).setGunType(n),this.selfGun.sessionID==e){this.tapBlockerNode.active=!1,n==f.FIREGUN?g.startFireFeatureSound(T.FireGun,!0):g.featureSoundStop(T.FireGun);var t=this.isNeedToLockBetToken(n);t.featureGun?(v.uiManager.startFeatureGunProgress(),t.lockBetToken&&(y.isBetLock=!0)):(v.uiManager.stopFeatureGunProgress(),y.isBetLock=!1),this.isNeedToDeactivateBackgroundTapDetector(n)?this.backgroundTapDetectator.active=!1:this.backgroundTapDetectator.active=!0}},o.changeSelfGun=function(e){B.getInstance().fireEventToServer(E.CHANGE_GUN,{type:e,placeid:this.selfGun.getPlaceId()})},o.getGunType=function(){return this.selfGun.gunType},o.getSelfGun=function(){return this.selfGun},o.removeGun=function(e){var n=this.getGunComponentByPlaceId(e);n&&(this.gunsMap.delete(n.sessionID),n.node.destroy()),v.gunBaseManager.hideBaseForPlaceId(+e),v.uiManager.hidePlayerInfoForPlaceId(+e)},o.updateLaserGun=function(e){var n=this.getGunComponentByPlaceId(e.placeId);n&&(n.isLaserActive?n.updateLaser(e):this.activateLaserGun(e))},o.fireEventsAccordingToBulletType=function(e,n,t){void 0===n&&(n=!1),n?this.fireExtraGunEventsToServer(this.getSelfGun().gunType,e,null,t):+this.getSelfGun().getPlayerToken()>=this.getSelfGun().getCurrentBetTokenAmount()&&B.getInstance().fireEventToServer(E.BULLET_SPWAN,e)},o.fireExtraGunEventsToServer=function(e,n,t,o){return!1},o.isNeedToReturnOnFireBullet=function(e){return e==f.FIREGUN},o.isNeedToLockBetToken=function(e){var n={featureGun:!1,lockBetToken:!1};return e==f.FIREGUN?(n.featureGun=!0,n.lockBetToken=!0):e==f.DOUBLE_BARREL&&(n.featureGun=!0),n},o.isNeedToCheckBackgroundLaserTouch=function(e){return e!=f.LASER},o.isNeedToCheckBackgroundNormalTouch=function(e){return e==f.LASER},o.isNeedToCheckFirGun=function(){return!0},o.isNeedToDeactivateBackgroundTapDetector=function(e){return e==f.LASER},o.deRegisterEvents=function(){this.backgroundTapDetectator.off(s.EventType.TOUCH_START,this.onTouchStart,this),this.backgroundTapDetectator.off(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.backgroundTapDetectator.off(s.EventType.TOUCH_END,this.onTouchEnd,this),this.backgroundTapDetectator.off(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),u.off(i.EventType.TOUCH_START,this.onTouchStartLaser,this),u.off(i.EventType.TOUCH_MOVE,this.onTouchMoveLaser,this),u.off(i.EventType.TOUCH_END,this.onTouchEndLaser,this),u.off(i.EventType.TOUCH_CANCEL,this.onTouchEndLaser,this)},t}(h))||C);t._RF.pop()}}}));

System.register("chunks:///_virtual/OCB_Icon_Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FloatingObjectManager.ts","./HelperTools.ts","./OCB_Constant.ts"],(function(n){var e,o,t,i,s,a,r,c;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator,i=n.tween,s=n.sp},function(n){a=n.FloatingObjectManager},function(n){r=n.HelperTools},function(n){c=n.FloatingIconSymbolCode}],execute:function(){var d;o._RF.push({},"f38a4oIFsNDRawLKJrnSStM","OCB_Icon_Manager",void 0);var u=t.ccclass;t.property,n("OCB_Icon_Manager",u("OCB_Icon_Manager")(d=function(n){function o(){return n.apply(this,arguments)||this}e(o,n);var t=o.prototype;return t.floatingIconDestroyed=function(n){var e=this.iconNodesMap.get(n.sessionId);if(e){var o=e.skeltonBody;o?(o.setAnimation(0,this.getIconAnimationName(),!1),i(e.node).delay(r.getSpineAnimationDuration(o.node,this.getIconAnimationName())/2).call((function(){e.node.removeFromParent(),e.node.destroy()})).start(),this.iconNodesMap.delete(n.sessionId)):((o=e.iconParent.children[0].getComponent(s.Skeleton)).setAnimation(0,this.getIconAnimationName(),!1),i(e.node).delay(r.getSpineAnimationDuration(o.node,this.getIconAnimationName())/2).call((function(){e.node.removeFromParent(),e.node.destroy()})).start(),this.iconNodesMap.delete(n.sessionId))}this.iconNodesMap.has(null==n?void 0:n.sessionId)&&this.iconNodesMap.delete(n.sessionId)},t.getIconAnimationName=function(){return"Blast"},t.isUpdateInvertedIconAccordingToView=function(n,e){return{angle:0}},t.isFloatingGunTriggered=function(n){return n==c.DOUBLE_BARREL_GUN||n==c.FIRE_FUN},t.isBonusGameTriggered=function(n){var e={isLuckBase:!0,isBonusGameTriggered:!1};return n!=c.WHEEL_OF_FORTUNE&&n!=c.TREASURE||(e.isBonusGameTriggered=!0),e},o}(a))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/Ocean_Bombard_Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishSoundManager.ts","./OCB_Bullet_Manager.ts","./OCB_Constant.ts","./GameManager.ts","./GameModel.ts","./OCB_GunManager.ts","./OCB_FishManager.ts","./OCB_Icon_Manager.ts","./BulletEffectHandler.ts","./ClientData.ts","./HelperTools.ts","./EventManager.ts"],(function(e){var n,t,a,o,i,r,s,u,c,l,g,p,h,f,d,m,M,_,B,w,b,O,y,v,E,S,I,A,T,G;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.macro,l=e.sp,g=e.Vec3,p=e.find,h=e.Label},function(e){f=e.FishSoundManager},function(e){d=e.OCB_Bullet_Manager},function(e){m=e.GunType,M=e.SoundFiles,_=e.FISH_BONUS_GAME,B=e.BGAnimationNames,w=e.UiPannelWidth,b=e.FishType},function(e){O=e.GameManager},function(e){y=e.GameModel},function(e){v=e.OCB_GunManager},function(e){E=e.OCB_FishManager},function(e){S=e.OCB_Icon_Manager},function(e){I=e.BulletEffectHandler},function(e){A=e.ServerEvents},function(e){T=e.HelperTools},function(e){G=e.default}],execute:function(){var x,D,F,R,C,k,W,L,N,H,z;s._RF.push({},"14c00LhJEJFaqz5ynv+Bepi","Ocean_Bombard_Manager",void 0);var P=u.ccclass,U=u.property;e("Ocean_Bombard_Manager",(x=P("Ocean_Bombard_Manager"),D=U(v),F=U(d),R=U(E),C=U(S),x((L=n((W=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=e.call.apply(e,[this].concat(i))||this,a(n,"Ocb_Gun_Manager",L,o(n)),a(n,"Ocb_Bullet_Manager",N,o(n)),a(n,"Ocb_FishManager",H,o(n)),a(n,"Ocb_Icon_Manager",z,o(n)),n._self=o(n),n}t(n,e);var s=n.prototype;return s.__preload=function(){console.log(" window.parent.document : ",window.parent.document),console.log("window.parent.document.getElementById: ",window.parent.document.getElementById("splashScreen"));var e=window.parent.document.getElementById("splashScreen"),n=window.parent.document.getElementById("gameFrame");e&&(e.remove(),n.style.opacity="1")},s.onLoad=function(){c.ENABLE_MULTI_TOUCH=!1,y.multipleFishGameManager=this._self,this.onLoadGame({GunType:m,SoundFiles:M,FISH_BONUS_GAME:_})},s.start=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isBonusGameActive||(window.audioManager.stopMusic(),window.audioManager.stopSound()),f.startBaseBgSound(null==M?void 0:M.Bg1),this.bulletEffectContainer=p("BulletContainer",this.node),this.txtPlayers=p("Info/TotalPlayer",this.node).getComponent(h),this.txtRoomID=p("Info/RoomID",this.node).getComponent(h),this.txtMsg=p("Info/Messages",this.node).getComponent(h),y.bulletManager=this.Ocb_Bullet_Manager,y.fishManager=this.Ocb_FishManager,y.floatingObjectManager=this.Ocb_Icon_Manager,y.gunManager=this.Ocb_Gun_Manager,y.gunBaseManager=this.gunBaseManager,y.uiManager=this.uiManager,y.effectsManager=this.effectsManager,e.prev=13,e.next=16,this.startGame();case 16:this.registerExtraMessageEvents(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(13),console.error("error in cvreating room : ",e.t0);case 22:case"end":return e.stop()}}),e,this,[[13,19]])})));return function(){return e.apply(this,arguments)}}(),s.registerExtraMessageEvents=function(){G.getDispatcher().on(A.Bullet.DESTROYED,this.bulletDestroyed,this),G.getDispatcher().on(A.Effect.WAVE,this.startWaveEffect,this),G.getDispatcher().on(A.Effect.RANDOM_WAVE,this.startRandomWaveEffect,this),G.getDispatcher().on(A.Gun.UPDATE_ANGLE,this.updateGunAngle,this)},s.startWaveEffect=function(e){this.isRandomWaveActive=!1,this.isBonusGameActive||(window.audioManager.stopMusic(),window.audioManager.stopSound()),f.startBaseBgSound(M.Bg2);var n=this.BGM.getComponent(l.Skeleton);n.clearTracks(),n.setAnimation(0,B.RANDOM_TO_WAVE,!1);var t=T.getSpineAnimationDuration(this.BGM,B.RANDOM_TO_WAVE);this.scheduleOnce((function(){n.clearTracks(),n.setAnimation(0,B.WAVE_IDLE,!0)}),t)},s.startRandomWaveEffect=function(){this.isRandomWaveActive=!0,this.isBonusGameActive||(window.audioManager.stopMusic(),window.audioManager.stopSound()),f.startBaseBgSound(M.Bg1);var e=this.BGM.getComponent(l.Skeleton);e.clearTracks(),e.setAnimation(0,B.WAVE_TO_RANDOM,!1);var n=T.getSpineAnimationDuration(this.BGM,B.RANDOM_TO_WAVE);this.scheduleOnce((function(){e.clearTracks(),e.setAnimation(0,B.RANDOM_IDLE,!0)}),n)},s.bulletDestroyed=function(){var e=i(r().mark((function e(n){var t,a,o,i,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,n.fishSessionId?(t=y.fishManager.getfishBySessionId(n.fishSessionId))&&(t.fishType==b.OB_F_Boss&&y.gunManager.getSelfGun().getSessionId()==y.gunManager.mysessionId&&M.BossHit&&f.startClickSound(M.BossHit),null==(a=t.node)||a.getPosition()):n.floatingIconSessionId&&(o=y.floatingObjectManager.iconNodesMap.get(n.floatingIconSessionId))&&(null==(i=o.node)||i.getPosition()),!n.fishSessionId&&!n.floatingIconSessionId){e.next=7;break}y.bulletManager.destroyBullet(n),e.next=12;break;case 7:if(!(s=y.bulletManager.getBulletComponentBySessionId(n.sessionId))){e.next=12;break}return e.next=11,I.getInstance().startBulletEffects(s,n,null);case 11:y.bulletManager.destroyBullet(n);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s.getGameType=function(){return"OCB"},s.getGunType=function(){return m},s.getFeatureCode=function(){return["SUM","FRZ","TBZ","WOF"]},s.getUiPannelWidth=function(){return w.Width},s.getTutorialStep=function(){return[{pos:new g(-850,480),time:.5,tag:"L",text:"Tap this to access the \n in-game settings."},{pos:new g(-850,480),time:.5,tag:"L",text:"You can go to the app \n lobby by clicking on this \n icon while playing the game."},{pos:new g(-700,480),time:.5,tag:"L",text:"You can toggle the game \n sound by tapping this icon."},{pos:new g(-450,480),time:.5,tag:"R",text:"You can access the info \n panel from here."},{pos:new g(450,480),time:.5,tag:"R",text:"Tap here to invite your friends \n to this game!"},{pos:new g(700,480),time:.5,tag:"R",text:"You can see your prize tokens (winnings) and sweep tokens \n from this window."},{pos:new g(850,480),time:.5,tag:"R",text:'You can increase or decrease \n the bet amount by using "+" and "-" button.'},{pos:new g(-850,-480),time:.5,tag:"R",text:"Tap here to change the gun."},{pos:new g(-700,-480),time:.5,tag:"R-1",text:"This progress bar shows the \n progress of Freezing power."},{pos:new g(-450,-480),time:.5,tag:"R-1",text:"This progress bar shows the\n  progress of summoning power."},{pos:new g(-450,-480),time:.5,tag:"L",text:"Need to Transfer Tokens? Heres Where Youll Find the Option!"}]},s.getFishSound=function(){return M},n}(O)).prototype,"Ocb_Gun_Manager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(W.prototype,"Ocb_Bullet_Manager",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(W.prototype,"Ocb_FishManager",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(W.prototype,"Ocb_Icon_Manager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=W))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerDataModel.ts",["cc","./CommonConstants.ts"],(function(e){var t,o;return{setters:[function(e){t=e.cclegacy},function(e){o=e.CURRENCY_TYPES}],execute:function(){t._RF.push({},"0700bwpdS9BSJnqfB/+baPb","PlayerDataModel",void 0);var n=e("PlayerDataModel",(function(){}));n.BGVolume=1,n.SFXVolume=1,n.selectedCurrency=o.GAME_TOKEN,n.currentTokens={gameTokens:1e4,sweepTokens:0},n.id="123",n.isTokenFinish=!1,n.isSufficientBalance=!1,n.isBetLock=!1,n.isFreeShot=!1,n.isLaserActive=!1,n.isPrivateRoom=!1,n.isLuckBaseGame=!0,n.privateRoomCode="ABC",t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishSoundManager.ts","./GameModel.ts","./PlayerDataModel.ts"],(function(t){var e,n,i,o,s,a,u,l,r,c,h,d,m,b,A,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,u=t.Label,l=t.Button,r=t.UIOpacity,c=t.Node,h=t.tween,d=t.Vec3,m=t.Tween,b=t.Component},function(t){A=t.FishSoundManager},function(t){p=t.GameModel},function(t){f=t.PlayerDataModel}],execute:function(){var S,g,y,I,v,B,x,D,w,N,C,F,M,T,P,L,z;s._RF.push({},"d2aaaIiJ/lAJLdXOPMwiPQ6","PlayerView",void 0);var k,V=a.ccclass,_=a.property;t("PlayerView",(S=V("PlayerView"),g=_(u),y=_(l),I=_(l),v=_(r),B=_(r),x=_(c),D=_(u),S((C=e((N=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"betAmount",C,o(e)),i(e,"minusButton",F,o(e)),i(e,"plusButton",M,o(e)),i(e,"posNotification",T,o(e)),i(e,"idleNotification",P,o(e)),i(e,"freeShotsNode",L,o(e)),i(e,"freeShotsLabel",z,o(e)),e.gunComponent=void 0,e.isTouchActive=!0,e.betAmountData=void 0,e.betAmountSelectedIndex=0,e}n(e,t);var s=e.prototype;return s.onLoad=function(){k=p.multipleFishGameManager.getFishSound(),console.log("Minus Interactable : ")},s.init=function(t,e){console.log("init player : ",t.betAmountArray),this.gunComponent=e,this.betAmountData=t.betAmountArray,this.setBetAmount(""+this.betAmountData[this.betAmountSelectedIndex]),this.gunComponent.setCurrentBetTokenAmount(+this.betAmountData[this.betAmountSelectedIndex]),this.gunComponent.setBetAmountArray(this.betAmountData,this.betAmountSelectedIndex)},s.setBetAmount=function(t){this.betAmount.string=t},s.showFreeShots=function(){this.freeShotsNode.active=!0},s.hideFreeShots=function(){this.freeShotsNode.active=!1},s.updateFreeShots=function(t){this.freeShotsLabel.string=t},s.onIncreaseBet=function(){var t=this;this.isTouchActive&&(this.isTouchActive=!1,h(this.node).delay(.5).call((function(){t.isTouchActive=!0})).start(),f.isBetLock||f.isFreeShot||(p.gunManager.mysessionId==this.gunComponent.sessionID&&A.startFishClickSound(k.BetPlus),this.betAmountSelectedIndex<this.betAmountData.length&&this.plusButton.interactable&&(this.betAmountSelectedIndex++,this.betAmountSelectedIndex>0&&(this.minusButton.interactable=!0),this.betAmountSelectedIndex==this.betAmountData.length&&this.betAmountSelectedIndex--,this.setBetAmount(""+this.betAmountData[this.betAmountSelectedIndex]),this.gunComponent.setCurrentBetTokenAmount(+this.betAmountData[this.betAmountSelectedIndex],!0),this.gunComponent.setBetAmountArray(this.betAmountData,this.betAmountSelectedIndex),this.betAmountSelectedIndex==this.betAmountData.length-1&&(this.plusButton.interactable=!1))))},s.onDecreaseBet=function(){var t=this;this.isTouchActive&&(this.isTouchActive=!1,h(this.node).delay(.5).call((function(){t.isTouchActive=!0})).start(),f.isBetLock||f.isFreeShot||(p.gunManager.mysessionId==this.gunComponent.sessionID&&A.startFishClickSound(k.BetMinus),this.betAmountSelectedIndex>=0&&this.minusButton.interactable&&(this.betAmountSelectedIndex--,this.betAmountSelectedIndex<this.betAmountData.length-1&&(this.plusButton.interactable=!0),this.betAmountSelectedIndex<0&&this.betAmountSelectedIndex++,this.setBetAmount(""+this.betAmountData[this.betAmountSelectedIndex]),this.gunComponent.setCurrentBetTokenAmount(+this.betAmountData[this.betAmountSelectedIndex],!0),this.gunComponent.setBetAmountArray(this.betAmountData,this.betAmountSelectedIndex),0==this.betAmountSelectedIndex&&(this.minusButton.interactable=!1))))},s.handlePosNotification=function(){this.posNotification.node.active=!0;var t=h(this.posNotification.node).to(.7,{scale:new d(1.14,1.14,1.14)}).to(.7,{scale:new d(1,1,1)});h(this.posNotification.node).repeatForever(t).start()},s.activateIdleNotification=function(){this.idleNotification.node.active=!0;var t=h(this.idleNotification.node).to(.7,{scale:new d(1.14,1.14,1.14)}).to(.7,{scale:new d(1,1,1)});h(this.idleNotification.node).repeatForever(t).start()},s.deactivateIdleNotification=function(){m.stopAllByTarget(this.idleNotification.node),this.idleNotification.node.active=!1},e}(b)).prototype,"betAmount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(N.prototype,"minusButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(N.prototype,"plusButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(N.prototype,"posNotification",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(N.prototype,"idleNotification",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(N.prototype,"freeShotsNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(N.prototype,"freeShotsLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=N))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/RewardCollect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,o,l,a,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Node,c=e.Label,s=e.instantiate,u=e.Vec3,p=e.Component}],execute:function(){var d,f,h,y,b,g,v;o._RF.push({},"f5f32MnBnpNNKocL185Sira","RewardCollect",void 0);var w=l.ccclass,C=l.property;e("RewardCollect",(d=w("RewardCollect"),f=C(a),h=C(a),d((g=t((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"labelNode",g,i(t)),r(t,"store",v,i(t)),t}n(t,e);var o=t.prototype;return o.start=function(){},o.init=function(e,t){this.labelNode.getComponent(c).string="+"+t.toString();var n=s(this.store);this.node.addChild(n),n.worldPosition=new u(e.x,e.y,0),n.active=!0,this.scheduleOnce((function(){n.destroy()}),1.1)},o.update=function(e){},t}(p)).prototype,"labelNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(b.prototype,"store",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/SingleBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet.ts","./SingleBulletEffect.ts"],(function(t){var e,l,n,i,u,o,r,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,l=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){u=t.cclegacy,o=t._decorator,r=t.v3},function(t){c=t.Bullet},function(t){s=t.SingleBulletEffect}],execute:function(){var f,a,p,g,B;u._RF.push({},"c50720bIqtLdZQYzfvplsho","SingleBullet",void 0);var h=o.ccclass,d=o.property;t("SingleBullet",(f=h("SingleBullet"),a=d(s),f((B=e((g=function(t){function e(){for(var e,l=arguments.length,u=new Array(l),o=0;o<l;o++)u[o]=arguments[o];return e=t.call.apply(t,[this].concat(u))||this,n(e,"singlBulletEffect",B,i(e)),e}l(e,t);var u=e.prototype;return u.onLoad=function(){this.bulletEffect=this.singlBulletEffect,this.singlBulletEffect.node.active=!1},u.updatePosition=function(t){var e;null==(e=this.node)||e.setPosition(t.x,t.y)},u.updateAngle=function(t){var e;null==(e=this.node)||e.setRotationFromEuler(r(0,0,t-90))},u.getBulletEffect=function(){return this.singlBulletEffect},e}(c)).prototype,"singlBulletEffect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=g))||p));u._RF.pop()}}}));

System.register("chunks:///_virtual/SingleBulletEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HelperTools.ts"],(function(e){var t,n,i,o,l,r,a,u,c,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,a=e.sp,u=e.Sprite,c=e.tween,s=e.Component},function(e){p=e.HelperTools}],execute:function(){var f,d,y,h,g;l._RF.push({},"99f02yRrjFJ+5ZMG+/uzE7N","SingleBulletEffect",void 0);var v=r.ccclass,m=r.property;e("SingleBulletEffect",(f=v("SingleBulletEffect"),d=m(a.Skeleton),f((g=t((h=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,i(t,"animation",g,o(t)),t}return n(t,e),t.prototype.activate=function(e){var t,n,i=this;void 0===e&&(e="animation"),this.node.active=!0;var o=p.getSpineAnimationDuration(this.node,e);null==(t=this.node.parent.getComponent(u))||t.destroy(),null==(n=this.node)||null==(n=n.parent)||null==(n=n.getChildByName("Bullet"))||null==(n=n.getComponent(u))||n.destroy(),c(this.node.parent).delay(1.25*o).call((function(){i.node.parent.destroy()})).start()},t}(s)).prototype,"animation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/Socket_Io.js",["./cjs-loader.mjs"],(function(t,e){var n;return{setters:[function(t){n=t.default}],execute:function(){t("default",void 0);var r=t("__cjsMetaURL",e.meta.url);n.define(r,(function(e,n,r,o,i){var s,c;s=self,c=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([function(t,e,n){var r=n(24),o=n(25),i=String.fromCharCode(30);t.exports={protocol:4,encodePacket:r,encodePayload:function(t,e){var n=t.length,o=new Array(n),s=0;t.forEach((function(t,c){r(t,!1,(function(t){o[c]=t,++s===n&&e(o.join(i))}))}))},decodePacket:o,decodePayload:function(t,e){for(var n=t.split(i),r=[],s=0;s<n.length;s++){var c=o(n[s],e);if(r.push(c),"error"===c.type)break}return r}}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=n(0),u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(r,t);var e,n=i(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this)).opts=t,e.query=t.query,e.readyState="",e.socket=t.socket,e}return(e=[{key:"onError",value:function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,this.emit("open")}},{key:"onData",value:function(t){var e=a.decodePacket(t,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(t){this.emit("packet",t)}},{key:"onClose",value:function(){this.readyState="closed",this.emit("close")}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(n(1));t.exports=u},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;var p,l=n(1),h=n(30),y=n(15);e.protocol=5,function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(p=e.PacketType||(e.PacketType={}));var d=function(){function t(){a(this,t)}return f(t,[{key:"encode",value:function(t){return t.type!==p.EVENT&&t.type!==p.ACK||!y.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===p.EVENT?p.BINARY_EVENT:p.BINARY_ACK,this.encodeAsBinary(t))}},{key:"encodeAsString",value:function(t){var e=""+t.type;return t.type!==p.BINARY_EVENT&&t.type!==p.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),e}},{key:"encodeAsBinary",value:function(t){var e=h.deconstructPacket(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}]),t}();e.Encoder=d;var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}(n);function n(){return a(this,n),e.call(this)}return f(n,[{key:"add",value:function(t){var e;if("string"==typeof t)(e=this.decodeString(t)).type===p.BINARY_EVENT||e.type===p.BINARY_ACK?(this.reconstructor=new b(e),0===e.attachments&&o(c(n.prototype),"emit",this).call(this,"decoded",e)):o(c(n.prototype),"emit",this).call(this,"decoded",e);else{if(!y.isBinary(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,o(c(n.prototype),"emit",this).call(this,"decoded",e))}}},{key:"decodeString",value:function(t){var e=0,r={type:Number(t.charAt(0))};if(void 0===p[r.type])throw new Error("unknown packet type "+r.type);if(r.type===p.BINARY_EVENT||r.type===p.BINARY_ACK){for(var o=e+1;"-"!==t.charAt(++e)&&e!=t.length;);var i=t.substring(o,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===t.charAt(e+1)){for(var s=e+1;++e&&","!==t.charAt(e)&&e!==t.length;);r.nsp=t.substring(s,e)}else r.nsp="/";var c=t.charAt(e+1);if(""!==c&&Number(c)==c){for(var a=e+1;++e;){var u=t.charAt(e);if(null==u||Number(u)!=u){--e;break}if(e===t.length)break}r.id=Number(t.substring(a,e+1))}if(t.charAt(++e)){var f=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e));if(!n.isPayloadValid(r.type,f))throw new Error("invalid payload");r.data=f}return r}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(t,e){switch(t){case p.CONNECT:return"object"===r(e);case p.DISCONNECT:return void 0===e;case p.CONNECT_ERROR:return"string"==typeof e||"object"===r(e);case p.EVENT:case p.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case p.ACK:case p.BINARY_ACK:return Array.isArray(e)}}}]),n}(l);e.Decoder=v;var b=function(){function t(e){a(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return f(t,[{key:"takeBinaryData",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}()},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");-1!=o&&-1!=i&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s,c,a=n.exec(t||""),u={},f=14;f--;)u[r[f]]=a[f]||"";return-1!=o&&-1!=i&&(u.source=e,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=function(t,e){var n=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.substr(0,1)&&0!==e.length||n.splice(0,1),"/"==e.substr(e.length-1,1)&&n.splice(n.length-1,1),n}(0,u.path),u.queryKey=(s=u.query,c={},s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(c[e]=n)})),c),u}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;var a=n(20),u=n(14),f=n(5),p=n(16),l=n(31),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,t);var e,n=i(s);function s(t,e){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(o=n.call(this)).nsps={},o.subs=[],t&&"object"===r(t)&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",o.opts=e,o.reconnection(!1!==e.reconnection),o.reconnectionAttempts(e.reconnectionAttempts||1/0),o.reconnectionDelay(e.reconnectionDelay||1e3),o.reconnectionDelayMax(e.reconnectionDelayMax||5e3),o.randomizationFactor(e.randomizationFactor||.5),o.backoff=new l({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==e.timeout?2e4:e.timeout),o._readyState="closed",o.uri=t;var i=e.parser||f;return o.encoder=new i.Encoder,o.decoder=new i.Decoder,o._autoConnect=!1!==e.autoConnect,o._autoConnect&&o.open(),o}return(e=[{key:"reconnection",value:function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}},{key:"reconnectionAttempts",value:function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}},{key:"reconnectionDelay",value:function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}},{key:"randomizationFactor",value:function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}},{key:"reconnectionDelayMax",value:function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}},{key:"timeout",value:function(t){return arguments.length?(this._timeout=t,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var e=this;if(~this._readyState.indexOf("open"))return this;this.engine=a(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var o=p.on(n,"open",(function(){r.onopen(),t&&t()})),i=p.on(n,"error",(function(n){r.cleanup(),r._readyState="closed",e.emitReserved("error",n),t?t(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;0===s&&o();var c=setTimeout((function(){o(),n.close(),n.emit("error",new Error("timeout"))}),s);this.opts.autoUnref&&c.unref(),this.subs.push((function(){clearTimeout(c)}))}return this.subs.push(o),this.subs.push(i),this}},{key:"connect",value:function(t){return this.open(t)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push(p.on(t,"ping",this.onping.bind(this)),p.on(t,"data",this.ondata.bind(this)),p.on(t,"error",this.onerror.bind(this)),p.on(t,"close",this.onclose.bind(this)),p.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(t){this.decoder.add(t)}},{key:"ondecoded",value:function(t){this.emitReserved("packet",t)}},{key:"onerror",value:function(t){this.emitReserved("error",t)}},{key:"socket",value:function(t,e){var n=this.nsps[t];return n||(n=new u.Socket(this,t,e),this.nsps[t]=n),n}},{key:"_destroy",value:function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var r=n[e];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(t){for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(t){return t()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=setTimeout((function(){e.skipReconnect||(t.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((function(n){n?(e._reconnecting=!1,e.reconnect(),t.emitReserved("reconnect_error",n)):e.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(s.prototype,e),s}(n(17).StrictEventEmitter);e.Manager=h},function(t,e,n){var r=n(9),o=n(23),i=n(27),s=n(28);e.polling=function(t){var e=!1,n=!1,s=!1!==t.jsonp;if("undefined"!=typeof location){var c="https:"===location.protocol,a=location.port;a||(a=c?443:80),e=t.hostname!==location.hostname||a!==t.port,n=t.secure!==c}if(t.xdomain=e,t.xscheme=n,"open"in new r(t)&&!t.forceJSONP)return new o(t);if(!s)throw new Error("JSONP disabled");return new i(t)},e.websocket=s},function(t,e,n){var r=n(22),o=n(2);t.exports=function(t){var e=t.xdomain,n=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(t){}if(!e)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(3),f=n(4),p=n(0),l=n(12),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(r,t);var e,n=s(r);function r(){return o(this,r),n.apply(this,arguments)}return(e=[{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(t){var e=this;function n(){e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(t){var e=this;p.decodePayload(t,this.socket.binaryType).forEach((function(t,n,r){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var t=this;function e(){t.write([{type:"close"}])}"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(t){var e=this;this.writable=!1,p.encodePayload(t,(function(t){e.doWrite(t,(function(){e.writable=!0,e.emit("drain")}))}))}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"https":"http",n="";return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=l()),this.supportsBinary||t.sid||(t.b64=1),t=f.encode(t),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),t.length&&(t="?"+t),e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}},{key:"name",get:function(){return"polling"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(u);t.exports=h},function(t,e){var n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";var r=Object.create(null);Object.keys(n).forEach((function(t){r[n[t]]=t})),t.exports={PACKET_TYPES:n,PACKET_TYPES_REVERSE:r,ERROR_PACKET:{type:"error",data:"parser error"}}},function(t,e,n){var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i={},s=0,c=0;function a(t){var e="";do{e=o[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function u(){var t=a(+new Date);return t!==r?(s=0,r=t):t+"."+a(s++)}for(;c<64;c++)i[o[c]]=c;u.encode=a,u.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=64*e+i[t.charAt(c)];return e},t.exports=u},function(t,e){t.exports.pick=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e}),{})}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){a=!0,s=t},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw s}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;var p=n(5),l=n(16),h=n(17),y=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,t);var e,n=a(r);function r(t,e,o){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this)).receiveBuffer=[],i.sendBuffer=[],i.ids=0,i.acks={},i.flags={},i.io=t,i.nsp=e,i.ids=0,i.acks={},i.receiveBuffer=[],i.sendBuffer=[],i.connected=!1,i.disconnected=!0,i.flags={},o&&o.auth&&(i.auth=o.auth),i.io._autoConnect&&i.open(),i}return(e=[{key:"subEvents",value:function(){if(!this.subs){var t=this.io;this.subs=[l.on(t,"open",this.onopen.bind(this)),l.on(t,"packet",this.onpacket.bind(this)),l.on(t,"error",this.onerror.bind(this)),l.on(t,"close",this.onclose.bind(this))]}}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}},{key:"emit",value:function(t){if(y.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.unshift(t);var o={type:p.PacketType.EVENT,data:n,options:{}};o.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]&&(this.acks[this.ids]=n.pop(),o.id=this.ids++);var i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,s=this.flags.volatile&&(!i||!this.connected);return s||(this.connected?this.packet(o):this.sendBuffer.push(o)),this.flags={},this}},{key:"packet",value:function(t){t.nsp=this.nsp,this.io._packet(t)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth((function(e){t.packet({type:p.PacketType.CONNECT,data:e})})):this.packet({type:p.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(t){this.connected||this.emitReserved("connect_error",t)}},{key:"onclose",value:function(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}},{key:"onpacket",value:function(t){if(t.nsp===this.nsp)switch(t.type){case p.PacketType.CONNECT:if(t.data&&t.data.sid){var e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case p.PacketType.EVENT:case p.PacketType.BINARY_EVENT:this.onevent(t);break;case p.PacketType.ACK:case p.PacketType.BINARY_ACK:this.onack(t);break;case p.PacketType.DISCONNECT:this.ondisconnect();break;case p.PacketType.CONNECT_ERROR:var n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}},{key:"emitEvent",value:function(t){if(this._anyListeners&&this._anyListeners.length){var e,n=o(this._anyListeners.slice());try{for(n.s();!(e=n.n()).done;)e.value.apply(this,t)}catch(t){n.e(t)}finally{n.f()}}s(f(r.prototype),"emit",this).apply(this,t)}},{key:"ack",value:function(t){var e=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e.packet({type:p.PacketType.ACK,id:t,data:o})}}}},{key:"onack",value:function(t){var e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}},{key:"onconnect",value:function(t){this.id=t,this.connected=!0,this.disconnected=!1,this.emitReserved("connect"),this.emitBuffered()}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach((function(e){return t.emitEvent(e)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(e){return t.packet(e)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(t){return t()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:p.PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(t){return this.flags.compress=t,this}},{key:"onAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}},{key:"prependAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}},{key:"offAny",value:function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"active",get:function(){return!!this.subs}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(h.StrictEventEmitter);e.Socket=d},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;var o="function"==typeof ArrayBuffer,i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),c="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function a(t){return o&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))||s&&t instanceof Blob||c&&t instanceof File}e.isBinary=a,e.hasBinary=function t(e,n){if(!e||"object"!==r(e))return!1;if(Array.isArray(e)){for(var o=0,i=e.length;o<i;o++)if(t(e[o]))return!0;return!1}if(a(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0;return!1}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0,e.on=function(t,e,n){return t.on(e,n),function(){t.off(e,n)}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(r,t);var e,n=c(r);function r(){return o(this,r),n.apply(this,arguments)}return(e=[{key:"on",value:function(t,e){return i(u(r.prototype),"on",this).call(this,t,e),this}},{key:"once",value:function(t,e){return i(u(r.prototype),"once",this).call(this,t,e),this}},{key:"emit",value:function(t){for(var e,n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return(e=i(u(r.prototype),"emit",this)).call.apply(e,[this,t].concat(o)),this}},{key:"emitReserved",value:function(t){for(var e,n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return(e=i(u(r.prototype),"emit",this)).call.apply(e,[this,t].concat(o)),this}},{key:"listeners",value:function(t){return i(u(r.prototype),"listeners",this).call(this,t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(n(1));e.StrictEventEmitter=f},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=e.io=e.Manager=e.protocol=void 0;var o=n(19),i=n(7),s=n(14);Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return s.Socket}}),t.exports=e=a;var c=e.managers={};function a(t,e){"object"===r(t)&&(e=t,t=void 0),e=e||{};var n,s=o.url(t,e.path),a=s.source,u=s.id,f=s.path,p=c[u]&&f in c[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||p?n=new i.Manager(a,e):(c[u]||(c[u]=new i.Manager(a,e)),n=c[u]),s.query&&!e.query&&(e.query=s.queryKey),n.socket(s.path,e)}e.io=a;var u=n(5);Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return u.protocol}}),e.connect=a;var f=n(7);Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return f.Manager}})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;var r=n(6);e.url=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),o=r(t)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var i=-1!==o.host.indexOf(":"),s=i?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port+e,o.href=o.protocol+"://"+s+(n&&n.port===o.port?"":":"+o.port),o}},function(t,e,n){var r=n(21);t.exports=function(t,e){return new r(t,e)},t.exports.Socket=r,t.exports.protocol=r.protocol,t.exports.Transport=n(3),t.exports.transports=n(8),t.exports.parser=n(0)},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(8),p=n(1),l=n(0),h=n(6),y=n(4),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(a,t);var e,n=c(a);function a(t){var e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,a),e=n.call(this),t&&"object"===o(t)&&(s=t,t=null),t?(t=h(t),s.hostname=t.host,s.secure="https"===t.protocol||"wss"===t.protocol,s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=h(s.host).host),e.secure=null!=s.secure?s.secure:"undefined"!=typeof location&&"https:"===location.protocol,s.hostname&&!s.port&&(s.port=e.secure?"443":"80"),e.hostname=s.hostname||("undefined"!=typeof location?location.hostname:"localhost"),e.port=s.port||("undefined"!=typeof location&&location.port?location.port:e.secure?443:80),e.transports=s.transports||["polling","websocket"],e.readyState="",e.writeBuffer=[],e.prevBufferLen=0,e.opts=r({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},s),e.opts.path=e.opts.path.replace(/\/$/,"")+"/","string"==typeof e.opts.query&&(e.opts.query=y.decode(e.opts.query)),e.id=null,e.upgrades=null,e.pingInterval=null,e.pingTimeout=null,e.pingTimeoutTimer=null,"function"==typeof addEventListener&&(addEventListener("beforeunload",(function(){e.transport&&(e.transport.removeAllListeners(),e.transport.close())}),!1),"localhost"!==e.hostname&&(e.offlineEventListener=function(){e.onClose("transport close")},addEventListener("offline",e.offlineEventListener,!1))),e.open(),e}return(e=[{key:"createTransport",value:function(t){var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.opts.query);e.EIO=l.protocol,e.transport=t,this.id&&(e.sid=this.id);var n=r({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new f[t](n)}},{key:"open",value:function(){var t;if(this.opts.rememberUpgrade&&a.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}},{key:"setTransport",value:function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))}},{key:"probe",value:function(t){var e=this.createTransport(t,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var t=!this.supportsBinary&&r.transport.supportsBinary;n=n||t}n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(t){if(!n)if("pong"===t.type&&"probe"===t.data){if(r.upgrading=!0,r.emit("upgrading",e),!e)return;a.priorWebsocketSuccess="websocket"===e.name,r.transport.pause((function(){n||"closed"!==r.readyState&&(p(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())}))}else{var o=new Error("probe error");o.transport=e.name,r.emit("upgradeError",o)}})))}function i(){n||(n=!0,p(),e.close(),e=null)}function s(t){var n=new Error("probe error: "+t);n.transport=e.name,i(),r.emit("upgradeError",n)}function c(){s("transport closed")}function u(){s("socket closed")}function f(t){e&&t.name!==e.name&&i()}function p(){e.removeListener("open",o),e.removeListener("error",s),e.removeListener("close",c),r.removeListener("close",u),r.removeListener("upgrading",f)}a.priorWebsocketSuccess=!1,e.once("open",o),e.once("error",s),e.once("close",c),this.once("close",u),this.once("upgrading",f),e.open()}},{key:"onOpen",value:function(){if(this.readyState="open",a.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},{key:"onPacket",value:function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}}},{key:"onHandshake",value:function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var t=this;clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((function(){t.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}},{key:"write",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"send",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"sendPacket",value:function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var t=this;function e(){t.onClose("forced close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():e()})):this.upgrading?r():e()),this}},{key:"onError",value:function(t){a.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)}},{key:"onClose",value:function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(a.prototype,e),a}(p);d.priorWebsocketSuccess=!1,d.protocol=l.protocol,t.exports=d},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=n(9),y=n(10),d=n(1),v=n(13).pick,b=n(2);function m(){}var g=null!=new h({xdomain:!1}).responseType,k=function(t){a(n,t);var e=f(n);function n(t){var r;if(i(this,n),r=e.call(this,t),"undefined"!=typeof location){var o="https:"===location.protocol,s=location.port;s||(s=o?443:80),r.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port,r.xs=t.secure!==o}var c=t&&t.forceBase64;return r.supportsBinary=g&&!c,r}return c(n,[{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(t,{xd:this.xd,xs:this.xs},this.opts),new w(this.uri(),t)}},{key:"doWrite",value:function(t,e){var n=this.request({method:"POST",data:t}),r=this;n.on("success",e),n.on("error",(function(t){r.onError("xhr post error",t)}))}},{key:"doPoll",value:function(){var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t}}]),n}(y),w=function(t){a(n,t);var e=f(n);function n(t,r){var o;return i(this,n),(o=e.call(this)).opts=r,o.method=r.method||"GET",o.uri=t,o.async=!1!==r.async,o.data=void 0!==r.data?r.data:null,o.create(),o}return c(n,[{key:"create",value:function(){var t=v(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var e=this.xhr=new h(t),r=this;try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.opts.extraHeaders[o])}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),this.hasXDR()?(e.onload=function(){r.onLoad()},e.onerror=function(){r.onError(e.responseText)}):e.onreadystatechange=function(){4===e.readyState&&(200===e.status||1223===e.status?r.onLoad():setTimeout((function(){r.onError("number"==typeof e.status?e.status:0)}),0))},e.send(this.data)}catch(t){return void setTimeout((function(){r.onError(t)}),0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(t){this.emit("data",t),this.onSuccess()}},{key:"onError",value:function(t){this.emit("error",t),this.cleanup(!0)}},{key:"cleanup",value:function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=m:this.xhr.onreadystatechange=m,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var t=this.xhr.responseText;null!==t&&this.onData(t)}},{key:"hasXDR",value:function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}},{key:"abort",value:function(){this.cleanup()}}]),n}(d);function _(){for(var t in w.requests)w.requests.hasOwnProperty(t)&&w.requests[t].abort()}w.requestsCount=0,w.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",_):"function"==typeof addEventListener&&addEventListener("onpagehide"in b?"pagehide":"unload",_,!1)),t.exports=k,t.exports.Request=w},function(t,e,n){var r=n(11).PACKET_TYPES,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),i="function"==typeof ArrayBuffer,s=function(t,e){var n=new FileReader;return n.onload=function(){var t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)};t.exports=function(t,e,n){var c,a=t.type,u=t.data;return o&&u instanceof Blob?e?n(u):s(u,n):i&&(u instanceof ArrayBuffer||(c=u,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer))?e?n(u instanceof ArrayBuffer?u:u.buffer):s(new Blob([u]),n):n(r[a]+(u||""))}},function(t,e,n){var r,o=n(11),i=o.PACKET_TYPES_REVERSE,s=o.ERROR_PACKET;"function"==typeof ArrayBuffer&&(r=n(26));var c=function(t,e){if(r){var n=r.decode(t);return a(n,e)}return{base64:!0,data:t}},a=function(t,e){switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};t.exports=function(t,e){if("string"!=typeof t)return{type:"message",data:a(t,e)};var n=t.charAt(0);return"b"===n?{type:"message",data:c(t.substring(1),e)}:i[n]?t.length>1?{type:i[n],data:t.substring(1)}:{type:i[n]}:s}},function(t,e){!function(t){e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(e){var n,r,o,i,s,c=.75*e.length,a=e.length,u=0;"="===e[e.length-1]&&(c--,"="===e[e.length-2]&&c--);var f=new ArrayBuffer(c),p=new Uint8Array(f);for(n=0;n<a;n+=4)r=t.indexOf(e[n]),o=t.indexOf(e[n+1]),i=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),p[u++]=r<<2|o>>4,p[u++]=(15&o)<<4|i>>2,p[u++]=(3&i)<<6|63&s;return f}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f,p=n(10),l=n(2),h=/\n/g,y=/\\n/g,d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(r,t);var e,n=s(r);function r(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).query=e.query||{},f||(f=l.___eio=l.___eio||[]),e.index=f.length;var o=a(e);return f.push((function(t){o.onData(t)})),e.query.j=e.index,e}return(e=[{key:"doClose",value:function(){this.script&&(this.script.onerror=function(){},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o(u(r.prototype),"doClose",this).call(this)}},{key:"doPoll",value:function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)}},{key:"doWrite",value:function(t,e){var n,r=this;if(!this.form){var o=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=s,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function c(){a(),e()}function a(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(t)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),a(),t=t.replace(y,"\\\n"),this.area.value=t.replace(h,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&c()}:this.iframe.onload=c}},{key:"supportsBinary",get:function(){return!1}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(p);t.exports=d},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=n(3),u=n(0),f=n(4),p=n(12),l=n(13).pick,h=n(29),y=h.WebSocket,d=h.usingBrowserWebSocket,v=h.defaultBinaryType,b="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(r,t);var e,n=i(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).supportsBinary=!t.forceBase64,e}return(e=[{key:"doOpen",value:function(){if(this.check()){var t=this.uri(),e=this.opts.protocols,n=b?{}:l(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=d&&!b?e?new y(t,e):new y(t):new y(t,e,n)}catch(t){return this.emit("error",t)}this.ws.binaryType=this.socket.binaryType||v,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(t){var e=this;this.writable=!1;for(var n=t.length,r=0,o=n;r<o;r++)!function(t){u.encodePacket(t,e.supportsBinary,(function(r){var o={};d||(t.options&&(o.compress=t.options.compress),e.opts.perMessageDeflate&&("string"==typeof r?Buffer.byteLength(r):r.length)<e.opts.perMessageDeflate.threshold&&(o.compress=!1));try{d?e.ws.send(r):e.ws.send(r,o)}catch(t){}--n||(e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0))}))}(t[r])}},{key:"onClose",value:function(){a.prototype.onClose.call(this)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"wss":"ws",n="";return this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=p()),this.supportsBinary||(t.b64=1),(t=f.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}},{key:"check",value:function(){return!(!y||"__initialize"in y&&this.name===r.prototype.name)}},{key:"name",get:function(){return"websocket"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(a);t.exports=m},function(t,e,n){var r=n(2);t.exports={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0;var o=n(15);e.deconstructPacket=function(t){var e=[],n=t.data,i=t;return i.data=function t(e,n){if(!e)return e;if(o.isBinary(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(Array.isArray(e)){for(var s=new Array(e.length),c=0;c<e.length;c++)s[c]=t(e[c],n);return s}if("object"===r(e)&&!(e instanceof Date)){var a={};for(var u in e)e.hasOwnProperty(u)&&(a[u]=t(e[u],n));return a}return e}(n,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(Array.isArray(e))for(var o=0;o<e.length;o++)e[o]=t(e[o],n);else if("object"===r(e))for(var i in e)e.hasOwnProperty(i)&&(e[i]=t(e[i],n));return e}(t.data,e),t.attachments=void 0,t}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}])},"object"==typeof e&&"object"==typeof r?r.exports=c():"function"==typeof define&&define.amd?define([],c):"object"==typeof e?e.io=c():s.io=c(),t("default",r.exports),r.exports.io}),{})}}}));

System.register("chunks:///_virtual/Socket_Io.mjs_cjs=&original=.js",["./Socket_Io.js","./cjs-loader.mjs"],(function(e,t){var r,s;return{setters:[function(t){r=t.__cjsMetaURL;var s={};s.__cjsMetaURL=t.__cjsMetaURL,s.default=t.default,e(s)},function(e){s=e.default}],execute:function(){r||s.throwInvalidWrapper("./Socket_Io.js",t.meta.url),s.require(r)}}}));

System.register("chunks:///_virtual/SummonAndFreezeOn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameModel.ts"],(function(e){var o,t,i,n,r,s,l,u,m,a,f,c,h,p,g,z;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,u=e.UIOpacity,m=e.Sprite,a=e.Tween,f=e.UITransform,c=e.rect,h=e.tween,p=e.Component},function(e){g=e.default},function(e){z=e.GameModel}],execute:function(){var y,x,d,F,B,b,C,P,O,S,v,I,w,T,K,A,U,M,V;r._RF.push({},"6f1e6/JSG1H9YpR1jgA/jQU","SummonAndFreezeOn",void 0);var D=e("FeaturesProgress",function(e){return e.SummonTriggered="SummonTriggered",e.freezeTriggered="freezeTriggered",e}({})),E=s.ccclass,N=s.property;e("SummonAndFreezeOn",(y=E("SummonAndFreezeOn"),x=N(l),d=N(l),F=N(u),B=N(u),b=N(m),C=N(m),P=N(l),O=N(l),y((I=o((v=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return o=e.call.apply(e,[this].concat(r))||this,i(o,"summonBox",I,n(o)),i(o,"freezeBox",w,n(o)),i(o,"summonOpacity",T,n(o)),i(o,"freezeOpacity",K,n(o)),i(o,"summonProgress",A,n(o)),i(o,"freezeProgress",U,n(o)),i(o,"posSummonBox",M,n(o)),i(o,"posFreezeBox",V,n(o)),o.summonCount=0,o.freezeCount=0,o.maxKillForSummon=10,o.maxKillForFreeze=7,o.summonInfo=!1,o.FreezeInfo=!1,o.minVisible=125,o}t(o,e);var r=o.prototype;return r.start=function(){var e;this.posFreezeBox&&(this.posFreezeBox.worldPosition=this.freezeBox.worldPosition),this.posSummonBox&&(this.posSummonBox.worldPosition=this.summonBox.worldPosition);var o=null==(e=z.gunManager)||null==(e=e.selfGun)?void 0:e.getPlaceId();"3"!=o&&"2"!=o||(this.posSummonBox.parent.angle=-180)},r.killFishCall=function(e,o,t,i){if(this.summonBox)switch(this.summonCount=e,this.maxKillForSummon=t,this.fillProgress(this.summonProgress,this.summonCount,this.maxKillForSummon),this.summonCount){case this.maxKillForSummon:a.stopAllByTarget(this.summonOpacity),this.summonOpacity.opacity=this.minVisible,this.summonCount=0,this.fillProgress(this.summonProgress,this.summonCount,this.maxKillForSummon);break;case this.maxKillForSummon-1:this.setEffect(this.summonOpacity)}if(this.freezeBox)switch(this.freezeCount=o,this.maxKillForFreeze=i,this.fillProgress(this.freezeProgress,this.freezeCount,this.maxKillForFreeze),this.freezeCount){case this.maxKillForFreeze:a.stopAllByTarget(this.freezeOpacity),this.freezeOpacity.opacity=this.minVisible,this.freezeCount=0,this.fillProgress(this.freezeProgress,this.freezeCount,this.maxKillForFreeze);break;case this.maxKillForFreeze-1:this.setEffect(this.freezeOpacity)}},r.touchStart=function(e){var o=e.getUILocation();this.InfoPopUp(o)},r.touchMove=function(e){var o=e.getUILocation();this.InfoPopUp(o)},r.touchEnd=function(e){this.summonBox&&this.summonCloseInfo(),this.freezeBox&&this.freezeCloseInfo()},r.InfoPopUp=function(e){this.summonBox&&(this.posSummonBox.getComponent(f).getBoundingBoxToWorld().intersects(c(e.x,e.y,30,30))?(this.summonInfo=!0,this.summonOpacity.opacity=255,this.summonOpacity.node.getChildByName("msg").active=!0):this.summonCloseInfo());this.freezeBox&&(this.posFreezeBox.getComponent(f).getBoundingBoxToWorld().intersects(c(e.x,e.y,30,30))?(this.FreezeInfo=!0,this.freezeOpacity.opacity=255,this.freezeOpacity.node.getChildByName("msg").active=!0):this.freezeCloseInfo())},r.freezeCloseInfo=function(){this.FreezeInfo=!1,this.freezeOpacity.opacity=this.minVisible,this.freezeOpacity.node.getChildByName("msg").active=!1},r.summonCloseInfo=function(){this.summonInfo=!1,this.summonOpacity.opacity=this.minVisible,this.summonOpacity.node.getChildByName("msg").active=!1},r.setEffect=function(e){var o=h(e).to(.3,{opacity:255}).to(.3,{opacity:this.minVisible});h(e).repeatForever(o).start()},r.fillProgress=function(e,o,t){var i=o*(1/t);e.fillRange=+i},r.summonFull=function(){console.log("summon progress fill full"),g.getDispatcher().emit(D.SummonTriggered)},r.freezeFull=function(){console.log("freeze progress fill full"),g.getDispatcher().emit(D.freezeTriggered)},r.update=function(e){},o}(p)).prototype,"summonBox",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=o(v.prototype,"freezeBox",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=o(v.prototype,"summonOpacity",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=o(v.prototype,"freezeOpacity",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=o(v.prototype,"summonProgress",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(v.prototype,"freezeProgress",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=o(v.prototype,"posSummonBox",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=o(v.prototype,"posFreezeBox",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=v))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/SummonFish.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,n,r,o,a,u,c,s;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,u=i.Node,c=i.AudioClip,s=i.Component}],execute:function(){var l,p,f,h,m,d,y;o._RF.push({},"9f38btHOkpNo7GNgKv6S6iE","SummonFish",void 0);var b=a.ccclass,v=a.property;i("SummonFish",(l=b("SummonFish"),p=v(u),f=v(c),l((d=e((m=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=i.call.apply(i,[this].concat(o))||this,n(e,"fishParent",d,r(e)),n(e,"audioName",y,r(e)),e}t(e,i);var o=e.prototype;return o.init=function(i){this.fishParent.addChild(i)},o.summonEffectSound=function(i){},e}(s)).prototype,"fishParent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(m.prototype,"audioName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=m))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/TapDetector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameModel.ts","./ClientData.ts","./FloatingIcon.ts","./Fish.ts","./EventManager.ts","./PlayerDataModel.ts","./CommonConstants.ts","./Fish_Server_Event_Manager.ts"],(function(e){var n,t,a,o,i,r,s,u,c,g,l,p,h,f,d,T,v,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,s=e.game,u=e.Node,c=e.Vec3,g=e.Component},function(e){l=e.GameModel},function(e){p=e.ClientEvents},function(e){h=e.FloatingIcon},function(e){f=e.Fish},function(e){d=e.default},function(e){T=e.PlayerDataModel},function(e){v=e.FishGameEvents},function(e){y=e.Fish_Server_Event_Manager}],execute:function(){var M,E,G,m;i._RF.push({},"18357mPYVlHMKml67fcLUEJ","TapDetector",void 0);var F,I=e("TapEvents",function(e){return e.TOUCH_START="fishtap:touchstart",e.RESET="fishtap:reset",e}({})),L=r.ccclass,_=r.property;e("TapDetector",L("TapDetector")(((m=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=e.call.apply(e,[this].concat(i))||this,a(n,"isFloatingIcon",G,o(n)),n.camera=null,n.isLaserActive=!1,n}t(n,e);var i=n.prototype;return i.onLoad=function(){F=l.multipleFishGameManager.getGunType()},i.start=function(){this.registerEvents()},i.registerEvents=function(){s.on(I.RESET,this.resetTapDetector,this),this.node.on(u.EventType.TOUCH_END,this.onTouchEnd,this)},i.resetTapDetector=function(){n.targetedNode.length>0&&(n.targetedNode=[])},i.onTouchStart=function(e){console.log("onTouchStart fish",l.gunManager.getGunType()),l.gunManager.getGunType()!=F.LASER&&l.gunManager.getGunType()!=F.ELECTRO_SHOK&&l.gunManager.getGunType()!=F.THUNDER_STORM||(e.preventSwallow=!0)},i.onTouchMove=function(e){},i.onTouchEnd=function(e){if(l.gunManager.selfGun.isLaserActive||this.deactivateLaser(),!l.gunManager.selfGun.canBulletFire){var t=this.isFloatingIcon?this.node.parent.parent.parent.getComponent(h).iconType:this.node.parent.getComponent(f).fishType,a=this.isFloatingIcon?this.node.parent.parent.parent.getComponent(h).sessionId:this.node.parent.getComponent(f).sessionId,o={isFloatingIcon:this.isFloatingIcon,iconType:t,sessionId:a,fishArray:this.getFishArrayByType(t,this.node.parent),targetFish:this.node.parent,placeId:l.gunManager.selfGun.getPlaceId()};if(l.gunManager.fireExtraGunEventsToServer(l.gunManager.getGunType(),o,e,null),l.gunManager.getGunType()==F.LASER&&!this.isLaserActive&&+l.gunManager.selfGun.getPlayerToken()>=+l.gunManager.selfGun.getCurrentBetTokenAmount()){this.deactivateLaser(),e.preventSwallow=!1,this.isLaserActive=!0,T.isLaserActive=!0;new c(e.getLocation().x,e.getLocation().y,0);this.isFloatingIcon?y.getInstance().fireEventToServer(p.GUN_ATTACH_TO_FLOATING_ICON,this.node.parent.parent.parent.getComponent(h).sessionId):y.getInstance().fireEventToServer(p.GUN_ATTACH_TO_FISH,this.node.parent.getComponent(f).sessionId),n.targetedNode.push(this.node)}else if(l.gunManager.getGunType()==F.LASER&&+l.gunManager.selfGun.getPlayerToken()<+l.gunManager.selfGun.getCurrentBetTokenAmount()){var i=!1,r=l.gunManager.selfGun.getPlaceId();"3"!=r&&"2"!=r||(i=!0),d.getDispatcher().emit(v.CHECK_LOW_BALANCE,i)}}},i.deactivateLaser=function(){l.fishManager.fishNodesMap.forEach((function(e){null==e||e.disableLaser()})),l.floatingObjectManager.iconNodesMap.forEach((function(e){null==e||e.disableLaser()}))},i.getFishArrayByType=function(e,n){var t=[];return l.fishManager.fishNodesMap.forEach((function(a){a.fishType==e&&a.node!=n&&t.push(a.node)})),t},i.update=function(e){},n}(g)).targetedNode=[],G=n((E=m).prototype,"isFloatingIcon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=E))||M);i._RF.pop()}}}));

System.register("chunks:///_virtual/TimerBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./CommonConstants.ts"],(function(t){var e,i,n,s,r,o,a,c,u,h,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.macro,r=t.Label,o=t.tween,a=t.Vec3,c=t.Tween,u=t.Component},function(t){h=t.default},function(t){l=t.FishGameEvents}],execute:function(){var f;i._RF.push({},"0af71hEBl1Pn7R5Cr3sb5RC","TimerBase",void 0);var m=n.ccclass;n.property,t("TimerBase",m("TimerBase")(f=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).duration=0,e.effect=new c,e.TimerText=void 0,e}e(i,t);var n=i.prototype;return n.start=function(){},n.initializeTime=function(t){this.duration=t,this.checkRequiredComponents(),this.UpdateTimerUI(),this.startTimer()},n.startTimer=function(){var t=this;this.schedule((function(){return t.countDown()}),1,s.REPEAT_FOREVER,0)},n.stopTimer=function(){this.unscheduleAllCallbacks()},n.countDown=function(){this.duration-=1,this.pulseEffect(),this.UpdateTimerUI(),this.duration<=0&&(h.getDispatcher().emit(l.TIME_UP),this.unscheduleAllCallbacks(),this.node.emit("TimerFinished"))},n.UpdateTimerUI=function(){var t=this.duration/60,e=Math.floor(t),i=(60*(t-e)).toFixed(0).toString(),n=e.toString();"0"==i&&(i="00");var s=n+":"+i;n.length<=1&&(s=(n="0"+n)+":"+i),i.length<=1&&(s=n+":"+(i="0"+i)),this.TimerText.string=s},n.checkRequiredComponents=function(){this.TimerText=this.getComponentInChildren(r),null==this.TimerText&&(this.TimerText=this.addComponent(r),this.UpdateTimerUI(),this.TimerText.fontSize=50)},n.pulseEffect=function(){var t;null==(t=this.effect)||t.stop(),this.effect=o(this.node).to(.1,{scale:new a(1.1,1.1,1.1)}).to(.1,{scale:new a(1,1,1)}).start()},i}(u))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/Transition.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,o,a,l,s,u,c,p,m,f,h,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Material,s=t.Sprite,u=t.Animation,c=t.Node,p=t.UITransform,m=t.view,f=t.Label,h=t.Color,y=t.tween,b=t.Component}],execute:function(){var d,g,v,C,z,T,w,S,B,I,L;o._RF.push({},"8769flxz01M8as5ETvTm1jW","Transition",void 0);var _=a.ccclass,k=a.property;t("TransitionTest",(d=_("TransitionTest"),g=k({type:l}),v=k(s),C=k(u),z=k(c),d((S=e((w=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"mats",S,r(e)),i(e,"sp",B,r(e)),i(e,"anim",I,r(e)),i(e,"timBase",L,r(e)),e.setColor=null,e.time=10,e.counter=0,e}n(e,t);var o=e.prototype;return o.start=function(){this.sp.node.getComponent(p).setContentSize(m.getVisibleSize()),this.sp.node.parent.getComponent(p).setContentSize(m.getVisibleSize()),this.effectIn()},o.init=function(t){this.schedule(this.timeCount,1,t,0),this.counter=t+1},o.timeCount=function(){var t=this.timBase.getChildByName("Label").getComponent(f);this.counter--,this.counter<=0?t.string="":t.string=""+this.counter},o.effectIn=function(){var t=this,e={num:0},n=this.sp,i=this.mats;n.material=i;var r=new h(255,255,255);y(e).delay(.0016).to(3,{num:255},{onUpdate:function(t,e){r.r=t.num,n.color=r,this.setColor=n.color}}).call((function(){t.anim.play("Crack")})).delay(this.time).call((function(){t.anim.play("ReverseCrack")})).delay(1).to(3,e,{onUpdate:function(t,e){r.r=t.num,n.color=r}}).call((function(){t.node.parent.removeFromParent()})).start()},e}(b)).prototype,"mats",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(w.prototype,"sp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(w.prototype,"anim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"timBase",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=w))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/TreasureBoxBonus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishBonusGamePopUp.ts"],(function(i){var t,n,e,o,a,r,s,l,u,p,c,d,h,f,m,b;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.sp,l=i.Label,u=i.Node,p=i.AudioClip,c=i.instantiate,d=i.tween,h=i.v3,f=i.Component},function(i){m=i.FishBonusGamePopUp,b=i.BonusPopUpType}],execute:function(){var g,y,B,w,v,P,k,S,C,A,x,O,U,T,G;a._RF.push({},"5975ebMrupIhZaXIc2lEnJo","TreasureBoxBonus",void 0);var _=r.ccclass,z=r.property;i("TreasureBoxBonus",(g=_("TreasureBoxBonus"),y=z(s.Skeleton),B=z(s.Skeleton),w=z(l),v=z(u),P=z(m),k=z(p),g((A=t((C=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,e(t,"baseSpine",A,o(t)),e(t,"allBox",x,o(t)),e(t,"winLabel",O,o(t)),e(t,"part",U,o(t)),e(t,"BonusPopUp",T,o(t)),e(t,"audio",G,o(t)),t.Token=!0,t.clickAmount=[],t.clickData=[],t.amount=10.95413187468415,t.shots=10,t.isClick=!1,t.arr=[0,1,2,3],t.countAmt=0,t.isPopUpOn=!1,t.Time="02:00",t}n(t,i);var a=t.prototype;return a.start=function(){window.audioManager.bonusBackgroundSoundVolume=.8},a.init=function(){this.baseSpine&&(this.baseSpine.setAnimation(0,"In",!1),this.baseSpine.addAnimation(0,"Loop",!0)),this.StartGame(),this.setAmount()},a.StartGame=function(){var i=this.GetTimeinSecond(this.Time);this.scheduleOnce(this.OpenPopUp,i+2)},a.onClick=function(i){var t=this;if(!this.isClick){this.isClick=!0;var n=i.target;window.audioManager.playBtnClickSound(this.audio[4]);var e=n.parent.getComponent(s.Skeleton);e.setAnimation(0,"Idle_Closed",!1),e.addAnimation(0,"Idle_Open",!0),this.part.parent=n,this.vfxEffect(n,!1,this.clickAmount[0],this.clickData[0]),this.part.worldPosition=n.worldPosition,window.audioManager.playAnticipationSound(this.audio[5]),this.part.active=!0,this.clickAmount.splice(0,1),this.clickData.splice(0,1);for(var o=0;o<this.allBox.length;o++){this.allBox[o].node.name==n.parent.name&&this.allBox.splice(o,1)}for(var a=function(i){var n=t.allBox[i-1];n.addAnimation(0,"Gray_Idle",!0),d(n).delay(i/2).call((function(){t.isGrayOpen(t.allBox[i-1]),window.audioManager.playBtnClickSound(t.audio[i-1])})).start()},r=1;r<=this.allBox.length;r++)a(r);this.unschedule(this.OpenPopUp),this.scheduleOnce(this.OpenPopUp,6)}},a.isGrayOpen=function(i){var t=i.node;i.setAnimation(0,"Gray_Open",!1),i.addAnimation(0,"Gray_Idle_Open",!0);var n=this.arr.pop(),e=this.clickAmount[n],o=this.clickData[n];this.vfxEffect(t,!0,e,o)},a.setAmount=function(){},a.getOtherAmt=function(i){},a.getOtherShots=function(i){},a.vfxEffect=function(i,t,n,e){if(void 0===t&&(t=!1),t){if(t){var o=c(this.winLabel[1].node);i.addChild(o),o.getComponent(l).string="+ "+n,o.getChildByName(o.name).getComponent(l).string=e,d(o).delay(.5).call((function(){o.setWorldPosition(i.worldPosition),o.active=!0})).by(.3,{worldPosition:h(-30,150,0),scale:h(1.5,1.5,1.5)}).start()}}else{var a=c(this.winLabel[0].node);i.addChild(a),a.getComponent(l).string="+ "+n,a.getChildByName(a.name).getComponent(l).string=e,a.setWorldPosition(i.worldPosition),a.active=!0,window.audioManager.playFeatureSound(this.audio[6]),d(a).delay(.5).by(.3,{worldPosition:h(-30,200,0),scale:h(2,2,2)}).start()}},a.OpenPopUp=function(){this.isPopUpOn||(this.isPopUpOn=!0,this.BonusPopUp.init(this.amount,b.BonusCongPopUp,this.Token))},a.GetTimeinSecond=function(i){var t=i.split(":")[0].trim().padStart(2,"0"),n=i.split(":")[1].trim().padStart(2,"0");return 60*Number(t)+Number(n)},a.update=function(i){},t}(f)).prototype,"baseSpine",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(C.prototype,"allBox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(C.prototype,"winLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(C.prototype,"part",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(C.prototype,"BonusPopUp",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(C.prototype,"audio",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=C))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameModel.ts","./Gun.ts","./PlayerView.ts","./FishSoundManager.ts","./LeaserBTNProgressEffect.ts","./PlayerDataModel.ts"],(function(e){var n,a,r,t,o,i,l,s,u,c,g,f,p,y,P,h,d,I,G,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,l=e.Node,s=e.SpriteFrame,u=e.Button,c=e.find,g=e.Label,f=e.Sprite,p=e.Tween,y=e.Component},function(e){P=e.GameModel},function(e){h=e.Gun},function(e){d=e.PlayerView},function(e){I=e.FishSoundManager},function(e){G=e.LeaserBTNProgressEffect},function(e){m=e.PlayerDataModel}],execute:function(){var M,v,B,C,F,S,b,N,T,k,w,D,L;o._RF.push({},"29e12HgjdRNablvhhl6CV1a","UIManager",void 0);var E,_,z=i.ccclass,V=i.property;e("UIManager",(M=z("UIManager"),v=V(d),B=V(l),C=V(s),F=V(G),S=V(u),M((T=n((N=function(e){function n(){for(var n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,r(n,"playerView",T,t(n)),r(n,"playerInfo",k,t(n)),r(n,"playerProfile",w,t(n)),r(n,"featureGunProgress",D,t(n)),r(n,"laserButtonClick",L,t(n)),n.freeShotNode=void 0,n.placeIdData=void 0,n}a(n,e);var o=n.prototype;return o.onLoad=function(){E=P.multipleFishGameManager.getGunType(),_=P.multipleFishGameManager.getFishSound()},o.update=function(e){},o.onLaserButtonClicked=function(){var e;if(P.gunManager.getGunType()==E.SINGLE_BARREL)P.gunManager.changeSelfGun(E.LASER),P.gunManager.mysessionId==(null==(e=P.gunManager)||null==(e=e.selfGun)?void 0:e.sessionID)&&I.startFishClickSound(_.Weapon_Change);else if(P.gunManager.getGunType()==E.LASER){var n,a,r;if(P.gunManager.mysessionId==(null==(n=P.gunManager)||null==(n=n.selfGun)?void 0:n.sessionID)&&I.startFishClickSound(_.Weapon_Change),null!=(a=P.gunManager.selfGun)&&a.isLaserActive)null==(r=P.gunManager.selfGun)||r.deactivateLaser(),P.fishManager.fishNodesMap.forEach((function(e){null==e||e.disableLaser()})),P.floatingObjectManager.iconNodesMap.forEach((function(e){null==e||e.disableLaser()}));P.gunManager.changeSelfGun(E.SINGLE_BARREL)}},o.showPlayerInfoForPlaceId=function(e){var n=this.playerInfo.getChildByName(e.toString());n&&(n.active=!0)},o.hidePlayerInfoForPlaceId=function(e){var n=this.playerInfo.getChildByName(e.toString());n&&(n.active=!1)},o.setPlayerData=function(e,n){var a=P.gunManager.getGunByPlaceID(e).getComponent(h);this.playerView[+e].init(n,a)},o.getPlayerForPlaceId=function(e){return this.playerView[+e].node},o.getPlayerComponentForPlaceId=function(e){return this.playerView[+e]},o.activePlayerPosNotification=function(e){console.log("playerView place id :",e),this.placeIdData=e,this.playerView[+e].handlePosNotification()},o.getPlayerCoinNode=function(e){return c(e+"/PlayerInfoBG/TokenHandler/GAME_TOKEN",this.playerInfo)},o.getPlayerPrizeCoinNode=function(e){return c(e+"/PlayerInfoBG/PrizeTokenPanel/PRIZE_TOKEN",this.playerInfo)},o.setPlayerNameForPlaceId=function(e){c(e+"/PlayerInfoBG/PlayerNameHandler/playername",this.playerInfo).getComponent(g).string=P.gunManager.getGunByPlaceID(e).getComponent(h).getPlayerName()},o.setPlayerTokenForPlaceId=function(e){var n=c(e+"/PlayerInfoBG/TokenHandler/coins",this.playerInfo).getComponent(g),a=c(e+"/PlayerInfoBG/PrizeTokenPanel/Prize_Token_Amount",this.playerInfo).getComponent(g);n.string=P.gunManager.getGunByPlaceID(e).getComponent(h).getPlayerToken(),a.string=P.gunManager.getGunByPlaceID(e).getComponent(h).getPlayerPrizeToken()},o.setPlayerFreeShotForPlaceId=function(e){var n=c(e+"/PlayerInfoBG/Free_Shots",this.playerInfo),a=P.gunManager.getGunByPlaceID(e).getComponent(h).getPlayerFreeShot();parseInt(a)>0?(n.active=!0,n.getChildByName("shots").getComponent(g).string=P.gunManager.getGunByPlaceID(e).getComponent(h).getPlayerFreeShot(),m.isFreeShot=!0):(n.active=!1,m.isFreeShot=!1)},o.setPlayerTokenType=function(e,n){var a;c(e+"/PlayerInfoBG/TokenHandler/"+n,this.playerInfo).active=!0,"SWEEP_TOKEN"==n&&(null==(a=P.gunManager)?void 0:a.selfGun.placeID)==e&&(c(e+"/PlayerInfoBG/PrizeTokenPanel",this.playerInfo).active=!0)},o.getPlayerViewComponentForPlaceId=function(e){return this.playerView[+e]},o.setPlayerProfileForPlaceID=function(e,n){var a=c(e+"/profileBtn/profilePic",this.playerInfo).getComponent(f);n>=0&&n<=15&&(a.spriteFrame=this.playerProfile[n])},o.startFeatureGunProgress=function(){this.laserButtonClick.interactable=!1,this.featureGunProgress.progressFill()},o.stopFeatureGunProgress=function(){this.laserButtonClick.interactable=!0,this.featureGunProgress.resetLaserProgress()},o.youAreHerePopupClickAction=function(){var e=this.playerView[+this.placeIdData].posNotification.node;e&&(e.active=!1,p.stopAllByTarget(e))},n}(y)).prototype,"playerView",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(N.prototype,"playerInfo",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(N.prototype,"playerProfile",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(N.prototype,"featureGunProgress",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(N.prototype,"laserButtonClick",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=N))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wheelpointer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FortuneWheelPrefab.ts"],(function(n){var t,e,o,c,i,r,a,s;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,c=n.PhysicsSystem2D,i=n.Contact2DType,r=n.tween,a=n.Component},function(n){s=n.FortuneWheelPrefab}],execute:function(){var l,u;e._RF.push({},"f3a09ILp5ZOIbkjJFsQi8Mi","Wheelpointer",void 0);var h=o.ccclass;o.property,n("Wheelpointer",h("pointer")(((u=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))||this).colliderName=null,t.label_lastchar=void 0,t.currentObject="",t}t(e,n);var o=e.prototype;return o.onLoad=function(){e.instance=new e},o.start=function(){c.instance.on(i.BEGIN_CONTACT,this.onBeginContact,this),c.instance.on(i.END_CONTACT,this.onEndContact,this),c.instance.enable=!0},o.onBeginContact=function(n,t,e){s.instance.winLabelString=t.node.name.charAt(t.node.name.length-1),this.currentObject!=t.node.name&&(this.currentObject=t.node.name,r(n.node).to(.1,{angle:57}).start())},o.onEndContact=function(n,t){r(this.node).to(0,{angle:0}).start()},o.update=function(n){},e}(a)).instance=void 0,l=u))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/Wheelvalue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonConstants.ts"],(function(n){var t,i,e,o,r,l,s,a,h;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,l=n._decorator,s=n.Label,a=n.Component},function(n){h=n.getRandomNumber}],execute:function(){var u,c,A,g,m;r._RF.push({},"13b2eZaQV5EC5fsAc3Xwlgb","Wheelvalue",void 0);var f=l.ccclass,w=l.property;n("WheelValue",(u=f("Wheel"),c=w({type:s}),u((m=t((g=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=n.call.apply(n,[this].concat(r))||this,e(t,"wheelAmountLblArray",m,o(t)),t.winningAmount=0,t.finalIndex=0,t.Token=!0,t}i(t,n);var r=t.prototype;return r.setWinningAmount=function(n,t){this.winningAmount=n,this.finalIndex=Math.abs(t/30),console.log("Index1 :",this.finalIndex)},r.setData=function(){this.Token=!0;for(var n=0;n<this.wheelAmountLblArray.length;n++)n==this.finalIndex?this.Token?this.wheelAmountLblArray[n].string=(Math.floor(100*this.winningAmount)/100).toString():this.wheelAmountLblArray[n].string=this.winningAmount.toFixed(0)+" \n Shots":this.wheelAmountLblArray[n].string=(this.winningAmount+100*Math.random()*(n+1)).toFixed(1).toString()},r.setOWinningAmount=function(n,t){this.winningAmount=n,this.finalIndex=t,this.finalIndex=Math.abs(t/30),console.log("Index2 :",this.finalIndex)},r.setOData=function(){for(var n=0;n<this.wheelAmountLblArray.length;n++)n==this.finalIndex?this.wheelAmountLblArray[n].string=this.winningAmount.toFixed(0).toString()+"x":this.wheelAmountLblArray[n].string=h(this.winningAmount,this.winningAmount+1+n)+"x"},t}(a)).prototype,"wheelAmountLblArray",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=g))||A));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});